function rE(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function iE(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Zg={exports:{}},zl={},ey={exports:{}},oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $o=Symbol.for("react.element"),sE=Symbol.for("react.portal"),oE=Symbol.for("react.fragment"),aE=Symbol.for("react.strict_mode"),lE=Symbol.for("react.profiler"),uE=Symbol.for("react.provider"),cE=Symbol.for("react.context"),hE=Symbol.for("react.forward_ref"),dE=Symbol.for("react.suspense"),fE=Symbol.for("react.memo"),pE=Symbol.for("react.lazy"),vp=Symbol.iterator;function mE(e){return e===null||typeof e!="object"?null:(e=vp&&e[vp]||e["@@iterator"],typeof e=="function"?e:null)}var ty={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ny=Object.assign,ry={};function es(e,t,n){this.props=e,this.context=t,this.refs=ry,this.updater=n||ty}es.prototype.isReactComponent={};es.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};es.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function iy(){}iy.prototype=es.prototype;function pd(e,t,n){this.props=e,this.context=t,this.refs=ry,this.updater=n||ty}var md=pd.prototype=new iy;md.constructor=pd;ny(md,es.prototype);md.isPureReactComponent=!0;var _p=Array.isArray,sy=Object.prototype.hasOwnProperty,gd={current:null},oy={key:!0,ref:!0,__self:!0,__source:!0};function ay(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)sy.call(t,r)&&!oy.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:$o,type:e,key:s,ref:o,props:i,_owner:gd.current}}function gE(e,t){return{$$typeof:$o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function yd(e){return typeof e=="object"&&e!==null&&e.$$typeof===$o}function yE(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ep=/\/+/g;function bu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?yE(""+e.key):t.toString(36)}function $a(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case $o:case sE:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+bu(o,0):r,_p(i)?(n="",e!=null&&(n=e.replace(Ep,"$&/")+"/"),$a(i,t,n,"",function(u){return u})):i!=null&&(yd(i)&&(i=gE(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Ep,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",_p(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+bu(s,a);o+=$a(s,t,n,l,i)}else if(l=mE(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+bu(s,a++),o+=$a(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function la(e,t,n){if(e==null)return e;var r=[],i=0;return $a(e,r,"","",function(s){return t.call(n,s,i++)}),r}function vE(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Tt={current:null},Ua={transition:null},_E={ReactCurrentDispatcher:Tt,ReactCurrentBatchConfig:Ua,ReactCurrentOwner:gd};oe.Children={map:la,forEach:function(e,t,n){la(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return la(e,function(){t++}),t},toArray:function(e){return la(e,function(t){return t})||[]},only:function(e){if(!yd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};oe.Component=es;oe.Fragment=oE;oe.Profiler=lE;oe.PureComponent=pd;oe.StrictMode=aE;oe.Suspense=dE;oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_E;oe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=ny({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=gd.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)sy.call(t,l)&&!oy.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:$o,type:e.type,key:i,ref:s,props:r,_owner:o}};oe.createContext=function(e){return e={$$typeof:cE,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:uE,_context:e},e.Consumer=e};oe.createElement=ay;oe.createFactory=function(e){var t=ay.bind(null,e);return t.type=e,t};oe.createRef=function(){return{current:null}};oe.forwardRef=function(e){return{$$typeof:hE,render:e}};oe.isValidElement=yd;oe.lazy=function(e){return{$$typeof:pE,_payload:{_status:-1,_result:e},_init:vE}};oe.memo=function(e,t){return{$$typeof:fE,type:e,compare:t===void 0?null:t}};oe.startTransition=function(e){var t=Ua.transition;Ua.transition={};try{e()}finally{Ua.transition=t}};oe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};oe.useCallback=function(e,t){return Tt.current.useCallback(e,t)};oe.useContext=function(e){return Tt.current.useContext(e)};oe.useDebugValue=function(){};oe.useDeferredValue=function(e){return Tt.current.useDeferredValue(e)};oe.useEffect=function(e,t){return Tt.current.useEffect(e,t)};oe.useId=function(){return Tt.current.useId()};oe.useImperativeHandle=function(e,t,n){return Tt.current.useImperativeHandle(e,t,n)};oe.useInsertionEffect=function(e,t){return Tt.current.useInsertionEffect(e,t)};oe.useLayoutEffect=function(e,t){return Tt.current.useLayoutEffect(e,t)};oe.useMemo=function(e,t){return Tt.current.useMemo(e,t)};oe.useReducer=function(e,t,n){return Tt.current.useReducer(e,t,n)};oe.useRef=function(e){return Tt.current.useRef(e)};oe.useState=function(e){return Tt.current.useState(e)};oe.useSyncExternalStore=function(e,t,n){return Tt.current.useSyncExternalStore(e,t,n)};oe.useTransition=function(){return Tt.current.useTransition()};oe.version="18.2.0";ey.exports=oe;var S=ey.exports;const ie=iE(S),EE=rE({__proto__:null,default:ie},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wE=S,TE=Symbol.for("react.element"),SE=Symbol.for("react.fragment"),IE=Object.prototype.hasOwnProperty,CE=wE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,RE={key:!0,ref:!0,__self:!0,__source:!0};function ly(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)IE.call(t,r)&&!RE.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:TE,type:e,key:s,ref:o,props:i,_owner:CE.current}}zl.Fragment=SE;zl.jsx=ly;zl.jsxs=ly;Zg.exports=zl;var y=Zg.exports,Fc={},uy={exports:{}},$t={},cy={exports:{}},hy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,O){var H=P.length;P.push(O);e:for(;0<H;){var fe=H-1>>>1,Ae=P[fe];if(0<i(Ae,O))P[fe]=O,P[H]=Ae,H=fe;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var O=P[0],H=P.pop();if(H!==O){P[0]=H;e:for(var fe=0,Ae=P.length,cn=Ae>>>1;fe<cn;){var me=2*(fe+1)-1,Yt=P[me],zt=me+1,bn=P[zt];if(0>i(Yt,H))zt<Ae&&0>i(bn,Yt)?(P[fe]=bn,P[zt]=H,fe=zt):(P[fe]=Yt,P[me]=H,fe=me);else if(zt<Ae&&0>i(bn,H))P[fe]=bn,P[zt]=H,fe=zt;else break e}}return O}function i(P,O){var H=P.sortIndex-O.sortIndex;return H!==0?H:P.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,d=3,g=!1,E=!1,_=!1,w=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(P){for(var O=n(u);O!==null;){if(O.callback===null)r(u);else if(O.startTime<=P)r(u),O.sortIndex=O.expirationTime,t(l,O);else break;O=n(u)}}function m(P){if(_=!1,v(P),!E)if(n(l)!==null)E=!0,z(T);else{var O=n(u);O!==null&&ee(m,O.startTime-P)}}function T(P,O){E=!1,_&&(_=!1,f(k),k=-1),g=!0;var H=d;try{for(v(O),h=n(l);h!==null&&(!(h.expirationTime>O)||P&&!se());){var fe=h.callback;if(typeof fe=="function"){h.callback=null,d=h.priorityLevel;var Ae=fe(h.expirationTime<=O);O=e.unstable_now(),typeof Ae=="function"?h.callback=Ae:h===n(l)&&r(l),v(O)}else r(l);h=n(l)}if(h!==null)var cn=!0;else{var me=n(u);me!==null&&ee(m,me.startTime-O),cn=!1}return cn}finally{h=null,d=H,g=!1}}var R=!1,A=null,k=-1,$=5,M=-1;function se(){return!(e.unstable_now()-M<$)}function W(){if(A!==null){var P=e.unstable_now();M=P;var O=!0;try{O=A(!0,P)}finally{O?de():(R=!1,A=null)}}else R=!1}var de;if(typeof p=="function")de=function(){p(W)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,U=ae.port2;ae.port1.onmessage=W,de=function(){U.postMessage(null)}}else de=function(){w(W,0)};function z(P){A=P,R||(R=!0,de())}function ee(P,O){k=w(function(){P(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){E||g||(E=!0,z(T))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(P){switch(d){case 1:case 2:case 3:var O=3;break;default:O=d}var H=d;d=O;try{return P()}finally{d=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,O){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var H=d;d=P;try{return O()}finally{d=H}},e.unstable_scheduleCallback=function(P,O,H){var fe=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?fe+H:fe):H=fe,P){case 1:var Ae=-1;break;case 2:Ae=250;break;case 5:Ae=1073741823;break;case 4:Ae=1e4;break;default:Ae=5e3}return Ae=H+Ae,P={id:c++,callback:O,priorityLevel:P,startTime:H,expirationTime:Ae,sortIndex:-1},H>fe?(P.sortIndex=H,t(u,P),n(l)===null&&P===n(u)&&(_?(f(k),k=-1):_=!0,ee(m,H-fe))):(P.sortIndex=Ae,t(l,P),E||g||(E=!0,z(T))),P},e.unstable_shouldYield=se,e.unstable_wrapCallback=function(P){var O=d;return function(){var H=d;d=O;try{return P.apply(this,arguments)}finally{d=H}}}})(hy);cy.exports=hy;var AE=cy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dy=S,Ft=AE;function N(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var fy=new Set,io={};function ei(e,t){ji(e,t),ji(e+"Capture",t)}function ji(e,t){for(io[e]=t,e=0;e<t.length;e++)fy.add(t[e])}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jc=Object.prototype.hasOwnProperty,PE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,wp={},Tp={};function xE(e){return jc.call(Tp,e)?!0:jc.call(wp,e)?!1:PE.test(e)?Tp[e]=!0:(wp[e]=!0,!1)}function kE(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function NE(e,t,n,r){if(t===null||typeof t>"u"||kE(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function St(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var ot={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ot[e]=new St(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ot[t]=new St(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ot[e]=new St(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ot[e]=new St(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ot[e]=new St(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ot[e]=new St(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ot[e]=new St(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ot[e]=new St(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ot[e]=new St(e,5,!1,e.toLowerCase(),null,!1,!1)});var vd=/[\-:]([a-z])/g;function _d(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(vd,_d);ot[t]=new St(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(vd,_d);ot[t]=new St(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(vd,_d);ot[t]=new St(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ot[e]=new St(e,1,!1,e.toLowerCase(),null,!1,!1)});ot.xlinkHref=new St("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ot[e]=new St(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ed(e,t,n,r){var i=ot.hasOwnProperty(t)?ot[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(NE(t,n,i,r)&&(n=null),r||i===null?xE(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var $n=dy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ua=Symbol.for("react.element"),ci=Symbol.for("react.portal"),hi=Symbol.for("react.fragment"),wd=Symbol.for("react.strict_mode"),$c=Symbol.for("react.profiler"),py=Symbol.for("react.provider"),my=Symbol.for("react.context"),Td=Symbol.for("react.forward_ref"),Uc=Symbol.for("react.suspense"),zc=Symbol.for("react.suspense_list"),Sd=Symbol.for("react.memo"),Wn=Symbol.for("react.lazy"),gy=Symbol.for("react.offscreen"),Sp=Symbol.iterator;function gs(e){return e===null||typeof e!="object"?null:(e=Sp&&e[Sp]||e["@@iterator"],typeof e=="function"?e:null)}var Le=Object.assign,Hu;function ks(e){if(Hu===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Hu=t&&t[1]||""}return`
`+Hu+e}var qu=!1;function Ku(e,t){if(!e||qu)return"";qu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{qu=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ks(e):""}function DE(e){switch(e.tag){case 5:return ks(e.type);case 16:return ks("Lazy");case 13:return ks("Suspense");case 19:return ks("SuspenseList");case 0:case 2:case 15:return e=Ku(e.type,!1),e;case 11:return e=Ku(e.type.render,!1),e;case 1:return e=Ku(e.type,!0),e;default:return""}}function Bc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case hi:return"Fragment";case ci:return"Portal";case $c:return"Profiler";case wd:return"StrictMode";case Uc:return"Suspense";case zc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case my:return(e.displayName||"Context")+".Consumer";case py:return(e._context.displayName||"Context")+".Provider";case Td:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Sd:return t=e.displayName||null,t!==null?t:Bc(e.type)||"Memo";case Wn:t=e._payload,e=e._init;try{return Bc(e(t))}catch{}}return null}function LE(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Bc(t);case 8:return t===wd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function mr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function yy(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function VE(e){var t=yy(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ca(e){e._valueTracker||(e._valueTracker=VE(e))}function vy(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=yy(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function tl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function bc(e,t){var n=t.checked;return Le({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ip(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=mr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function _y(e,t){t=t.checked,t!=null&&Ed(e,"checked",t,!1)}function Hc(e,t){_y(e,t);var n=mr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?qc(e,t.type,n):t.hasOwnProperty("defaultValue")&&qc(e,t.type,mr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Cp(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function qc(e,t,n){(t!=="number"||tl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ns=Array.isArray;function Ci(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+mr(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Kc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(N(91));return Le({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Rp(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(N(92));if(Ns(n)){if(1<n.length)throw Error(N(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:mr(n)}}function Ey(e,t){var n=mr(t.value),r=mr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Ap(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function wy(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?wy(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ha,Ty=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ha=ha||document.createElement("div"),ha.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ha.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function so(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var zs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ME=["Webkit","ms","Moz","O"];Object.keys(zs).forEach(function(e){ME.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),zs[t]=zs[e]})});function Sy(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||zs.hasOwnProperty(e)&&zs[e]?(""+t).trim():t+"px"}function Iy(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Sy(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var OE=Le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qc(e,t){if(t){if(OE[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(N(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(N(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(N(61))}if(t.style!=null&&typeof t.style!="object")throw Error(N(62))}}function Gc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xc=null;function Id(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Yc=null,Ri=null,Ai=null;function Pp(e){if(e=Bo(e)){if(typeof Yc!="function")throw Error(N(280));var t=e.stateNode;t&&(t=Kl(t),Yc(e.stateNode,e.type,t))}}function Cy(e){Ri?Ai?Ai.push(e):Ai=[e]:Ri=e}function Ry(){if(Ri){var e=Ri,t=Ai;if(Ai=Ri=null,Pp(e),t)for(e=0;e<t.length;e++)Pp(t[e])}}function Ay(e,t){return e(t)}function Py(){}var Wu=!1;function xy(e,t,n){if(Wu)return e(t,n);Wu=!0;try{return Ay(e,t,n)}finally{Wu=!1,(Ri!==null||Ai!==null)&&(Py(),Ry())}}function oo(e,t){var n=e.stateNode;if(n===null)return null;var r=Kl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(N(231,t,typeof n));return n}var Jc=!1;if(Dn)try{var ys={};Object.defineProperty(ys,"passive",{get:function(){Jc=!0}}),window.addEventListener("test",ys,ys),window.removeEventListener("test",ys,ys)}catch{Jc=!1}function FE(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Bs=!1,nl=null,rl=!1,Zc=null,jE={onError:function(e){Bs=!0,nl=e}};function $E(e,t,n,r,i,s,o,a,l){Bs=!1,nl=null,FE.apply(jE,arguments)}function UE(e,t,n,r,i,s,o,a,l){if($E.apply(this,arguments),Bs){if(Bs){var u=nl;Bs=!1,nl=null}else throw Error(N(198));rl||(rl=!0,Zc=u)}}function ti(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ky(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function xp(e){if(ti(e)!==e)throw Error(N(188))}function zE(e){var t=e.alternate;if(!t){if(t=ti(e),t===null)throw Error(N(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return xp(i),e;if(s===r)return xp(i),t;s=s.sibling}throw Error(N(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(N(189))}}if(n.alternate!==r)throw Error(N(190))}if(n.tag!==3)throw Error(N(188));return n.stateNode.current===n?e:t}function Ny(e){return e=zE(e),e!==null?Dy(e):null}function Dy(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Dy(e);if(t!==null)return t;e=e.sibling}return null}var Ly=Ft.unstable_scheduleCallback,kp=Ft.unstable_cancelCallback,BE=Ft.unstable_shouldYield,bE=Ft.unstable_requestPaint,Fe=Ft.unstable_now,HE=Ft.unstable_getCurrentPriorityLevel,Cd=Ft.unstable_ImmediatePriority,Vy=Ft.unstable_UserBlockingPriority,il=Ft.unstable_NormalPriority,qE=Ft.unstable_LowPriority,My=Ft.unstable_IdlePriority,Bl=null,vn=null;function KE(e){if(vn&&typeof vn.onCommitFiberRoot=="function")try{vn.onCommitFiberRoot(Bl,e,void 0,(e.current.flags&128)===128)}catch{}}var on=Math.clz32?Math.clz32:GE,WE=Math.log,QE=Math.LN2;function GE(e){return e>>>=0,e===0?32:31-(WE(e)/QE|0)|0}var da=64,fa=4194304;function Ds(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function sl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Ds(a):(s&=o,s!==0&&(r=Ds(s)))}else o=n&~i,o!==0?r=Ds(o):s!==0&&(r=Ds(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-on(t),i=1<<n,r|=e[n],t&=~i;return r}function XE(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function YE(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-on(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=XE(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function eh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Oy(){var e=da;return da<<=1,!(da&4194240)&&(da=64),e}function Qu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Uo(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-on(t),e[t]=n}function JE(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-on(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function Rd(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-on(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var ve=0;function Fy(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var jy,Ad,$y,Uy,zy,th=!1,pa=[],nr=null,rr=null,ir=null,ao=new Map,lo=new Map,Gn=[],ZE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Np(e,t){switch(e){case"focusin":case"focusout":nr=null;break;case"dragenter":case"dragleave":rr=null;break;case"mouseover":case"mouseout":ir=null;break;case"pointerover":case"pointerout":ao.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":lo.delete(t.pointerId)}}function vs(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Bo(t),t!==null&&Ad(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function ew(e,t,n,r,i){switch(t){case"focusin":return nr=vs(nr,e,t,n,r,i),!0;case"dragenter":return rr=vs(rr,e,t,n,r,i),!0;case"mouseover":return ir=vs(ir,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return ao.set(s,vs(ao.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,lo.set(s,vs(lo.get(s)||null,e,t,n,r,i)),!0}return!1}function By(e){var t=Nr(e.target);if(t!==null){var n=ti(t);if(n!==null){if(t=n.tag,t===13){if(t=ky(n),t!==null){e.blockedOn=t,zy(e.priority,function(){$y(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function za(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=nh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Xc=r,n.target.dispatchEvent(r),Xc=null}else return t=Bo(n),t!==null&&Ad(t),e.blockedOn=n,!1;t.shift()}return!0}function Dp(e,t,n){za(e)&&n.delete(t)}function tw(){th=!1,nr!==null&&za(nr)&&(nr=null),rr!==null&&za(rr)&&(rr=null),ir!==null&&za(ir)&&(ir=null),ao.forEach(Dp),lo.forEach(Dp)}function _s(e,t){e.blockedOn===t&&(e.blockedOn=null,th||(th=!0,Ft.unstable_scheduleCallback(Ft.unstable_NormalPriority,tw)))}function uo(e){function t(i){return _s(i,e)}if(0<pa.length){_s(pa[0],e);for(var n=1;n<pa.length;n++){var r=pa[n];r.blockedOn===e&&(r.blockedOn=null)}}for(nr!==null&&_s(nr,e),rr!==null&&_s(rr,e),ir!==null&&_s(ir,e),ao.forEach(t),lo.forEach(t),n=0;n<Gn.length;n++)r=Gn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Gn.length&&(n=Gn[0],n.blockedOn===null);)By(n),n.blockedOn===null&&Gn.shift()}var Pi=$n.ReactCurrentBatchConfig,ol=!0;function nw(e,t,n,r){var i=ve,s=Pi.transition;Pi.transition=null;try{ve=1,Pd(e,t,n,r)}finally{ve=i,Pi.transition=s}}function rw(e,t,n,r){var i=ve,s=Pi.transition;Pi.transition=null;try{ve=4,Pd(e,t,n,r)}finally{ve=i,Pi.transition=s}}function Pd(e,t,n,r){if(ol){var i=nh(e,t,n,r);if(i===null)ic(e,t,r,al,n),Np(e,r);else if(ew(i,e,t,n,r))r.stopPropagation();else if(Np(e,r),t&4&&-1<ZE.indexOf(e)){for(;i!==null;){var s=Bo(i);if(s!==null&&jy(s),s=nh(e,t,n,r),s===null&&ic(e,t,r,al,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else ic(e,t,r,null,n)}}var al=null;function nh(e,t,n,r){if(al=null,e=Id(r),e=Nr(e),e!==null)if(t=ti(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ky(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return al=e,null}function by(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(HE()){case Cd:return 1;case Vy:return 4;case il:case qE:return 16;case My:return 536870912;default:return 16}default:return 16}}var Yn=null,xd=null,Ba=null;function Hy(){if(Ba)return Ba;var e,t=xd,n=t.length,r,i="value"in Yn?Yn.value:Yn.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return Ba=i.slice(e,1<r?1-r:void 0)}function ba(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ma(){return!0}function Lp(){return!1}function Ut(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ma:Lp,this.isPropagationStopped=Lp,this}return Le(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ma)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ma)},persist:function(){},isPersistent:ma}),t}var ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kd=Ut(ts),zo=Le({},ts,{view:0,detail:0}),iw=Ut(zo),Gu,Xu,Es,bl=Le({},zo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Es&&(Es&&e.type==="mousemove"?(Gu=e.screenX-Es.screenX,Xu=e.screenY-Es.screenY):Xu=Gu=0,Es=e),Gu)},movementY:function(e){return"movementY"in e?e.movementY:Xu}}),Vp=Ut(bl),sw=Le({},bl,{dataTransfer:0}),ow=Ut(sw),aw=Le({},zo,{relatedTarget:0}),Yu=Ut(aw),lw=Le({},ts,{animationName:0,elapsedTime:0,pseudoElement:0}),uw=Ut(lw),cw=Le({},ts,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),hw=Ut(cw),dw=Le({},ts,{data:0}),Mp=Ut(dw),fw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gw(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=mw[e])?!!t[e]:!1}function Nd(){return gw}var yw=Le({},zo,{key:function(e){if(e.key){var t=fw[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ba(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pw[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nd,charCode:function(e){return e.type==="keypress"?ba(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ba(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),vw=Ut(yw),_w=Le({},bl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Op=Ut(_w),Ew=Le({},zo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nd}),ww=Ut(Ew),Tw=Le({},ts,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sw=Ut(Tw),Iw=Le({},bl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Cw=Ut(Iw),Rw=[9,13,27,32],Dd=Dn&&"CompositionEvent"in window,bs=null;Dn&&"documentMode"in document&&(bs=document.documentMode);var Aw=Dn&&"TextEvent"in window&&!bs,qy=Dn&&(!Dd||bs&&8<bs&&11>=bs),Fp=String.fromCharCode(32),jp=!1;function Ky(e,t){switch(e){case"keyup":return Rw.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wy(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var di=!1;function Pw(e,t){switch(e){case"compositionend":return Wy(t);case"keypress":return t.which!==32?null:(jp=!0,Fp);case"textInput":return e=t.data,e===Fp&&jp?null:e;default:return null}}function xw(e,t){if(di)return e==="compositionend"||!Dd&&Ky(e,t)?(e=Hy(),Ba=xd=Yn=null,di=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return qy&&t.locale!=="ko"?null:t.data;default:return null}}var kw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $p(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!kw[e.type]:t==="textarea"}function Qy(e,t,n,r){Cy(r),t=ll(t,"onChange"),0<t.length&&(n=new kd("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hs=null,co=null;function Nw(e){sv(e,0)}function Hl(e){var t=mi(e);if(vy(t))return e}function Dw(e,t){if(e==="change")return t}var Gy=!1;if(Dn){var Ju;if(Dn){var Zu="oninput"in document;if(!Zu){var Up=document.createElement("div");Up.setAttribute("oninput","return;"),Zu=typeof Up.oninput=="function"}Ju=Zu}else Ju=!1;Gy=Ju&&(!document.documentMode||9<document.documentMode)}function zp(){Hs&&(Hs.detachEvent("onpropertychange",Xy),co=Hs=null)}function Xy(e){if(e.propertyName==="value"&&Hl(co)){var t=[];Qy(t,co,e,Id(e)),xy(Nw,t)}}function Lw(e,t,n){e==="focusin"?(zp(),Hs=t,co=n,Hs.attachEvent("onpropertychange",Xy)):e==="focusout"&&zp()}function Vw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Hl(co)}function Mw(e,t){if(e==="click")return Hl(t)}function Ow(e,t){if(e==="input"||e==="change")return Hl(t)}function Fw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ln=typeof Object.is=="function"?Object.is:Fw;function ho(e,t){if(ln(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!jc.call(t,i)||!ln(e[i],t[i]))return!1}return!0}function Bp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bp(e,t){var n=Bp(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Bp(n)}}function Yy(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Yy(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Jy(){for(var e=window,t=tl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=tl(e.document)}return t}function Ld(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function jw(e){var t=Jy(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Yy(n.ownerDocument.documentElement,n)){if(r!==null&&Ld(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=bp(n,s);var o=bp(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var $w=Dn&&"documentMode"in document&&11>=document.documentMode,fi=null,rh=null,qs=null,ih=!1;function Hp(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ih||fi==null||fi!==tl(r)||(r=fi,"selectionStart"in r&&Ld(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),qs&&ho(qs,r)||(qs=r,r=ll(rh,"onSelect"),0<r.length&&(t=new kd("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=fi)))}function ga(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var pi={animationend:ga("Animation","AnimationEnd"),animationiteration:ga("Animation","AnimationIteration"),animationstart:ga("Animation","AnimationStart"),transitionend:ga("Transition","TransitionEnd")},ec={},Zy={};Dn&&(Zy=document.createElement("div").style,"AnimationEvent"in window||(delete pi.animationend.animation,delete pi.animationiteration.animation,delete pi.animationstart.animation),"TransitionEvent"in window||delete pi.transitionend.transition);function ql(e){if(ec[e])return ec[e];if(!pi[e])return e;var t=pi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Zy)return ec[e]=t[n];return e}var ev=ql("animationend"),tv=ql("animationiteration"),nv=ql("animationstart"),rv=ql("transitionend"),iv=new Map,qp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Er(e,t){iv.set(e,t),ei(t,[e])}for(var tc=0;tc<qp.length;tc++){var nc=qp[tc],Uw=nc.toLowerCase(),zw=nc[0].toUpperCase()+nc.slice(1);Er(Uw,"on"+zw)}Er(ev,"onAnimationEnd");Er(tv,"onAnimationIteration");Er(nv,"onAnimationStart");Er("dblclick","onDoubleClick");Er("focusin","onFocus");Er("focusout","onBlur");Er(rv,"onTransitionEnd");ji("onMouseEnter",["mouseout","mouseover"]);ji("onMouseLeave",["mouseout","mouseover"]);ji("onPointerEnter",["pointerout","pointerover"]);ji("onPointerLeave",["pointerout","pointerover"]);ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ei("onBeforeInput",["compositionend","keypress","textInput","paste"]);ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ls="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bw=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ls));function Kp(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,UE(r,t,void 0,e),e.currentTarget=null}function sv(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Kp(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Kp(i,a,u),s=l}}}if(rl)throw e=Zc,rl=!1,Zc=null,e}function Ie(e,t){var n=t[uh];n===void 0&&(n=t[uh]=new Set);var r=e+"__bubble";n.has(r)||(ov(t,e,2,!1),n.add(r))}function rc(e,t,n){var r=0;t&&(r|=4),ov(n,e,r,t)}var ya="_reactListening"+Math.random().toString(36).slice(2);function fo(e){if(!e[ya]){e[ya]=!0,fy.forEach(function(n){n!=="selectionchange"&&(Bw.has(n)||rc(n,!1,e),rc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ya]||(t[ya]=!0,rc("selectionchange",!1,t))}}function ov(e,t,n,r){switch(by(t)){case 1:var i=nw;break;case 4:i=rw;break;default:i=Pd}n=i.bind(null,t,n,e),i=void 0,!Jc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function ic(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Nr(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}xy(function(){var u=s,c=Id(n),h=[];e:{var d=iv.get(e);if(d!==void 0){var g=kd,E=e;switch(e){case"keypress":if(ba(n)===0)break e;case"keydown":case"keyup":g=vw;break;case"focusin":E="focus",g=Yu;break;case"focusout":E="blur",g=Yu;break;case"beforeblur":case"afterblur":g=Yu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Vp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=ow;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=ww;break;case ev:case tv:case nv:g=uw;break;case rv:g=Sw;break;case"scroll":g=iw;break;case"wheel":g=Cw;break;case"copy":case"cut":case"paste":g=hw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Op}var _=(t&4)!==0,w=!_&&e==="scroll",f=_?d!==null?d+"Capture":null:d;_=[];for(var p=u,v;p!==null;){v=p;var m=v.stateNode;if(v.tag===5&&m!==null&&(v=m,f!==null&&(m=oo(p,f),m!=null&&_.push(po(p,m,v)))),w)break;p=p.return}0<_.length&&(d=new g(d,E,null,n,c),h.push({event:d,listeners:_}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",d&&n!==Xc&&(E=n.relatedTarget||n.fromElement)&&(Nr(E)||E[Ln]))break e;if((g||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,g?(E=n.relatedTarget||n.toElement,g=u,E=E?Nr(E):null,E!==null&&(w=ti(E),E!==w||E.tag!==5&&E.tag!==6)&&(E=null)):(g=null,E=u),g!==E)){if(_=Vp,m="onMouseLeave",f="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(_=Op,m="onPointerLeave",f="onPointerEnter",p="pointer"),w=g==null?d:mi(g),v=E==null?d:mi(E),d=new _(m,p+"leave",g,n,c),d.target=w,d.relatedTarget=v,m=null,Nr(c)===u&&(_=new _(f,p+"enter",E,n,c),_.target=v,_.relatedTarget=w,m=_),w=m,g&&E)t:{for(_=g,f=E,p=0,v=_;v;v=si(v))p++;for(v=0,m=f;m;m=si(m))v++;for(;0<p-v;)_=si(_),p--;for(;0<v-p;)f=si(f),v--;for(;p--;){if(_===f||f!==null&&_===f.alternate)break t;_=si(_),f=si(f)}_=null}else _=null;g!==null&&Wp(h,d,g,_,!1),E!==null&&w!==null&&Wp(h,w,E,_,!0)}}e:{if(d=u?mi(u):window,g=d.nodeName&&d.nodeName.toLowerCase(),g==="select"||g==="input"&&d.type==="file")var T=Dw;else if($p(d))if(Gy)T=Ow;else{T=Vw;var R=Lw}else(g=d.nodeName)&&g.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(T=Mw);if(T&&(T=T(e,u))){Qy(h,T,n,c);break e}R&&R(e,d,u),e==="focusout"&&(R=d._wrapperState)&&R.controlled&&d.type==="number"&&qc(d,"number",d.value)}switch(R=u?mi(u):window,e){case"focusin":($p(R)||R.contentEditable==="true")&&(fi=R,rh=u,qs=null);break;case"focusout":qs=rh=fi=null;break;case"mousedown":ih=!0;break;case"contextmenu":case"mouseup":case"dragend":ih=!1,Hp(h,n,c);break;case"selectionchange":if($w)break;case"keydown":case"keyup":Hp(h,n,c)}var A;if(Dd)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else di?Ky(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(qy&&n.locale!=="ko"&&(di||k!=="onCompositionStart"?k==="onCompositionEnd"&&di&&(A=Hy()):(Yn=c,xd="value"in Yn?Yn.value:Yn.textContent,di=!0)),R=ll(u,k),0<R.length&&(k=new Mp(k,e,null,n,c),h.push({event:k,listeners:R}),A?k.data=A:(A=Wy(n),A!==null&&(k.data=A)))),(A=Aw?Pw(e,n):xw(e,n))&&(u=ll(u,"onBeforeInput"),0<u.length&&(c=new Mp("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=A))}sv(h,t)})}function po(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ll(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=oo(e,n),s!=null&&r.unshift(po(e,s,i)),s=oo(e,t),s!=null&&r.push(po(e,s,i))),e=e.return}return r}function si(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Wp(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=oo(n,s),l!=null&&o.unshift(po(n,l,a))):i||(l=oo(n,s),l!=null&&o.push(po(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var bw=/\r\n?/g,Hw=/\u0000|\uFFFD/g;function Qp(e){return(typeof e=="string"?e:""+e).replace(bw,`
`).replace(Hw,"")}function va(e,t,n){if(t=Qp(t),Qp(e)!==t&&n)throw Error(N(425))}function ul(){}var sh=null,oh=null;function ah(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var lh=typeof setTimeout=="function"?setTimeout:void 0,qw=typeof clearTimeout=="function"?clearTimeout:void 0,Gp=typeof Promise=="function"?Promise:void 0,Kw=typeof queueMicrotask=="function"?queueMicrotask:typeof Gp<"u"?function(e){return Gp.resolve(null).then(e).catch(Ww)}:lh;function Ww(e){setTimeout(function(){throw e})}function sc(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),uo(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);uo(t)}function sr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Xp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ns=Math.random().toString(36).slice(2),fn="__reactFiber$"+ns,mo="__reactProps$"+ns,Ln="__reactContainer$"+ns,uh="__reactEvents$"+ns,Qw="__reactListeners$"+ns,Gw="__reactHandles$"+ns;function Nr(e){var t=e[fn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ln]||n[fn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Xp(e);e!==null;){if(n=e[fn])return n;e=Xp(e)}return t}e=n,n=e.parentNode}return null}function Bo(e){return e=e[fn]||e[Ln],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function mi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(N(33))}function Kl(e){return e[mo]||null}var ch=[],gi=-1;function wr(e){return{current:e}}function Re(e){0>gi||(e.current=ch[gi],ch[gi]=null,gi--)}function Se(e,t){gi++,ch[gi]=e.current,e.current=t}var gr={},yt=wr(gr),kt=wr(!1),Br=gr;function $i(e,t){var n=e.type.contextTypes;if(!n)return gr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Nt(e){return e=e.childContextTypes,e!=null}function cl(){Re(kt),Re(yt)}function Yp(e,t,n){if(yt.current!==gr)throw Error(N(168));Se(yt,t),Se(kt,n)}function av(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(N(108,LE(e)||"Unknown",i));return Le({},n,r)}function hl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||gr,Br=yt.current,Se(yt,e),Se(kt,kt.current),!0}function Jp(e,t,n){var r=e.stateNode;if(!r)throw Error(N(169));n?(e=av(e,t,Br),r.__reactInternalMemoizedMergedChildContext=e,Re(kt),Re(yt),Se(yt,e)):Re(kt),Se(kt,n)}var Rn=null,Wl=!1,oc=!1;function lv(e){Rn===null?Rn=[e]:Rn.push(e)}function Xw(e){Wl=!0,lv(e)}function Tr(){if(!oc&&Rn!==null){oc=!0;var e=0,t=ve;try{var n=Rn;for(ve=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Rn=null,Wl=!1}catch(i){throw Rn!==null&&(Rn=Rn.slice(e+1)),Ly(Cd,Tr),i}finally{ve=t,oc=!1}}return null}var yi=[],vi=0,dl=null,fl=0,Ht=[],qt=0,br=null,An=1,Pn="";function Ar(e,t){yi[vi++]=fl,yi[vi++]=dl,dl=e,fl=t}function uv(e,t,n){Ht[qt++]=An,Ht[qt++]=Pn,Ht[qt++]=br,br=e;var r=An;e=Pn;var i=32-on(r)-1;r&=~(1<<i),n+=1;var s=32-on(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,An=1<<32-on(t)+i|n<<i|r,Pn=s+e}else An=1<<s|n<<i|r,Pn=e}function Vd(e){e.return!==null&&(Ar(e,1),uv(e,1,0))}function Md(e){for(;e===dl;)dl=yi[--vi],yi[vi]=null,fl=yi[--vi],yi[vi]=null;for(;e===br;)br=Ht[--qt],Ht[qt]=null,Pn=Ht[--qt],Ht[qt]=null,An=Ht[--qt],Ht[qt]=null}var Ot=null,Mt=null,xe=!1,sn=null;function cv(e,t){var n=Wt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Zp(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ot=e,Mt=sr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ot=e,Mt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=br!==null?{id:An,overflow:Pn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Wt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ot=e,Mt=null,!0):!1;default:return!1}}function hh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function dh(e){if(xe){var t=Mt;if(t){var n=t;if(!Zp(e,t)){if(hh(e))throw Error(N(418));t=sr(n.nextSibling);var r=Ot;t&&Zp(e,t)?cv(r,n):(e.flags=e.flags&-4097|2,xe=!1,Ot=e)}}else{if(hh(e))throw Error(N(418));e.flags=e.flags&-4097|2,xe=!1,Ot=e}}}function em(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ot=e}function _a(e){if(e!==Ot)return!1;if(!xe)return em(e),xe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ah(e.type,e.memoizedProps)),t&&(t=Mt)){if(hh(e))throw hv(),Error(N(418));for(;t;)cv(e,t),t=sr(t.nextSibling)}if(em(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(N(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Mt=sr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Mt=null}}else Mt=Ot?sr(e.stateNode.nextSibling):null;return!0}function hv(){for(var e=Mt;e;)e=sr(e.nextSibling)}function Ui(){Mt=Ot=null,xe=!1}function Od(e){sn===null?sn=[e]:sn.push(e)}var Yw=$n.ReactCurrentBatchConfig;function tn(e,t){if(e&&e.defaultProps){t=Le({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var pl=wr(null),ml=null,_i=null,Fd=null;function jd(){Fd=_i=ml=null}function $d(e){var t=pl.current;Re(pl),e._currentValue=t}function fh(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function xi(e,t){ml=e,Fd=_i=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Pt=!0),e.firstContext=null)}function Gt(e){var t=e._currentValue;if(Fd!==e)if(e={context:e,memoizedValue:t,next:null},_i===null){if(ml===null)throw Error(N(308));_i=e,ml.dependencies={lanes:0,firstContext:e}}else _i=_i.next=e;return t}var Dr=null;function Ud(e){Dr===null?Dr=[e]:Dr.push(e)}function dv(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Ud(t)):(n.next=i.next,i.next=n),t.interleaved=n,Vn(e,r)}function Vn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Qn=!1;function zd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fv(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function kn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function or(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,he&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Vn(e,n)}return i=r.interleaved,i===null?(t.next=t,Ud(r)):(t.next=i.next,i.next=t),r.interleaved=t,Vn(e,n)}function Ha(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Rd(e,n)}}function tm(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function gl(e,t,n,r){var i=e.updateQueue;Qn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,c=u=l=null,a=s;do{var d=a.lane,g=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var E=e,_=a;switch(d=t,g=n,_.tag){case 1:if(E=_.payload,typeof E=="function"){h=E.call(g,h,d);break e}h=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=_.payload,d=typeof E=="function"?E.call(g,h,d):E,d==null)break e;h=Le({},h,d);break e;case 2:Qn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else g={eventTime:g,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=g,l=h):c=c.next=g,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);qr|=o,e.lanes=o,e.memoizedState=h}}function nm(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(N(191,i));i.call(r)}}}var pv=new dy.Component().refs;function ph(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Le({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ql={isMounted:function(e){return(e=e._reactInternals)?ti(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=wt(),i=lr(e),s=kn(r,i);s.payload=t,n!=null&&(s.callback=n),t=or(e,s,i),t!==null&&(an(t,e,i,r),Ha(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=wt(),i=lr(e),s=kn(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=or(e,s,i),t!==null&&(an(t,e,i,r),Ha(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=wt(),r=lr(e),i=kn(n,r);i.tag=2,t!=null&&(i.callback=t),t=or(e,i,r),t!==null&&(an(t,e,r,n),Ha(t,e,r))}};function rm(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!ho(n,r)||!ho(i,s):!0}function mv(e,t,n){var r=!1,i=gr,s=t.contextType;return typeof s=="object"&&s!==null?s=Gt(s):(i=Nt(t)?Br:yt.current,r=t.contextTypes,s=(r=r!=null)?$i(e,i):gr),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ql,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function im(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ql.enqueueReplaceState(t,t.state,null)}function mh(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=pv,zd(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Gt(s):(s=Nt(t)?Br:yt.current,i.context=$i(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(ph(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Ql.enqueueReplaceState(i,i.state,null),gl(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ws(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(N(309));var r=n.stateNode}if(!r)throw Error(N(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;a===pv&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(N(284));if(!n._owner)throw Error(N(290,e))}return e}function Ea(e,t){throw e=Object.prototype.toString.call(t),Error(N(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function sm(e){var t=e._init;return t(e._payload)}function gv(e){function t(f,p){if(e){var v=f.deletions;v===null?(f.deletions=[p],f.flags|=16):v.push(p)}}function n(f,p){if(!e)return null;for(;p!==null;)t(f,p),p=p.sibling;return null}function r(f,p){for(f=new Map;p!==null;)p.key!==null?f.set(p.key,p):f.set(p.index,p),p=p.sibling;return f}function i(f,p){return f=ur(f,p),f.index=0,f.sibling=null,f}function s(f,p,v){return f.index=v,e?(v=f.alternate,v!==null?(v=v.index,v<p?(f.flags|=2,p):v):(f.flags|=2,p)):(f.flags|=1048576,p)}function o(f){return e&&f.alternate===null&&(f.flags|=2),f}function a(f,p,v,m){return p===null||p.tag!==6?(p=fc(v,f.mode,m),p.return=f,p):(p=i(p,v),p.return=f,p)}function l(f,p,v,m){var T=v.type;return T===hi?c(f,p,v.props.children,m,v.key):p!==null&&(p.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Wn&&sm(T)===p.type)?(m=i(p,v.props),m.ref=ws(f,p,v),m.return=f,m):(m=Xa(v.type,v.key,v.props,null,f.mode,m),m.ref=ws(f,p,v),m.return=f,m)}function u(f,p,v,m){return p===null||p.tag!==4||p.stateNode.containerInfo!==v.containerInfo||p.stateNode.implementation!==v.implementation?(p=pc(v,f.mode,m),p.return=f,p):(p=i(p,v.children||[]),p.return=f,p)}function c(f,p,v,m,T){return p===null||p.tag!==7?(p=$r(v,f.mode,m,T),p.return=f,p):(p=i(p,v),p.return=f,p)}function h(f,p,v){if(typeof p=="string"&&p!==""||typeof p=="number")return p=fc(""+p,f.mode,v),p.return=f,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ua:return v=Xa(p.type,p.key,p.props,null,f.mode,v),v.ref=ws(f,null,p),v.return=f,v;case ci:return p=pc(p,f.mode,v),p.return=f,p;case Wn:var m=p._init;return h(f,m(p._payload),v)}if(Ns(p)||gs(p))return p=$r(p,f.mode,v,null),p.return=f,p;Ea(f,p)}return null}function d(f,p,v,m){var T=p!==null?p.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return T!==null?null:a(f,p,""+v,m);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ua:return v.key===T?l(f,p,v,m):null;case ci:return v.key===T?u(f,p,v,m):null;case Wn:return T=v._init,d(f,p,T(v._payload),m)}if(Ns(v)||gs(v))return T!==null?null:c(f,p,v,m,null);Ea(f,v)}return null}function g(f,p,v,m,T){if(typeof m=="string"&&m!==""||typeof m=="number")return f=f.get(v)||null,a(p,f,""+m,T);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ua:return f=f.get(m.key===null?v:m.key)||null,l(p,f,m,T);case ci:return f=f.get(m.key===null?v:m.key)||null,u(p,f,m,T);case Wn:var R=m._init;return g(f,p,v,R(m._payload),T)}if(Ns(m)||gs(m))return f=f.get(v)||null,c(p,f,m,T,null);Ea(p,m)}return null}function E(f,p,v,m){for(var T=null,R=null,A=p,k=p=0,$=null;A!==null&&k<v.length;k++){A.index>k?($=A,A=null):$=A.sibling;var M=d(f,A,v[k],m);if(M===null){A===null&&(A=$);break}e&&A&&M.alternate===null&&t(f,A),p=s(M,p,k),R===null?T=M:R.sibling=M,R=M,A=$}if(k===v.length)return n(f,A),xe&&Ar(f,k),T;if(A===null){for(;k<v.length;k++)A=h(f,v[k],m),A!==null&&(p=s(A,p,k),R===null?T=A:R.sibling=A,R=A);return xe&&Ar(f,k),T}for(A=r(f,A);k<v.length;k++)$=g(A,f,k,v[k],m),$!==null&&(e&&$.alternate!==null&&A.delete($.key===null?k:$.key),p=s($,p,k),R===null?T=$:R.sibling=$,R=$);return e&&A.forEach(function(se){return t(f,se)}),xe&&Ar(f,k),T}function _(f,p,v,m){var T=gs(v);if(typeof T!="function")throw Error(N(150));if(v=T.call(v),v==null)throw Error(N(151));for(var R=T=null,A=p,k=p=0,$=null,M=v.next();A!==null&&!M.done;k++,M=v.next()){A.index>k?($=A,A=null):$=A.sibling;var se=d(f,A,M.value,m);if(se===null){A===null&&(A=$);break}e&&A&&se.alternate===null&&t(f,A),p=s(se,p,k),R===null?T=se:R.sibling=se,R=se,A=$}if(M.done)return n(f,A),xe&&Ar(f,k),T;if(A===null){for(;!M.done;k++,M=v.next())M=h(f,M.value,m),M!==null&&(p=s(M,p,k),R===null?T=M:R.sibling=M,R=M);return xe&&Ar(f,k),T}for(A=r(f,A);!M.done;k++,M=v.next())M=g(A,f,k,M.value,m),M!==null&&(e&&M.alternate!==null&&A.delete(M.key===null?k:M.key),p=s(M,p,k),R===null?T=M:R.sibling=M,R=M);return e&&A.forEach(function(W){return t(f,W)}),xe&&Ar(f,k),T}function w(f,p,v,m){if(typeof v=="object"&&v!==null&&v.type===hi&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case ua:e:{for(var T=v.key,R=p;R!==null;){if(R.key===T){if(T=v.type,T===hi){if(R.tag===7){n(f,R.sibling),p=i(R,v.props.children),p.return=f,f=p;break e}}else if(R.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Wn&&sm(T)===R.type){n(f,R.sibling),p=i(R,v.props),p.ref=ws(f,R,v),p.return=f,f=p;break e}n(f,R);break}else t(f,R);R=R.sibling}v.type===hi?(p=$r(v.props.children,f.mode,m,v.key),p.return=f,f=p):(m=Xa(v.type,v.key,v.props,null,f.mode,m),m.ref=ws(f,p,v),m.return=f,f=m)}return o(f);case ci:e:{for(R=v.key;p!==null;){if(p.key===R)if(p.tag===4&&p.stateNode.containerInfo===v.containerInfo&&p.stateNode.implementation===v.implementation){n(f,p.sibling),p=i(p,v.children||[]),p.return=f,f=p;break e}else{n(f,p);break}else t(f,p);p=p.sibling}p=pc(v,f.mode,m),p.return=f,f=p}return o(f);case Wn:return R=v._init,w(f,p,R(v._payload),m)}if(Ns(v))return E(f,p,v,m);if(gs(v))return _(f,p,v,m);Ea(f,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,p!==null&&p.tag===6?(n(f,p.sibling),p=i(p,v),p.return=f,f=p):(n(f,p),p=fc(v,f.mode,m),p.return=f,f=p),o(f)):n(f,p)}return w}var zi=gv(!0),yv=gv(!1),bo={},_n=wr(bo),go=wr(bo),yo=wr(bo);function Lr(e){if(e===bo)throw Error(N(174));return e}function Bd(e,t){switch(Se(yo,t),Se(go,e),Se(_n,bo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Wc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Wc(t,e)}Re(_n),Se(_n,t)}function Bi(){Re(_n),Re(go),Re(yo)}function vv(e){Lr(yo.current);var t=Lr(_n.current),n=Wc(t,e.type);t!==n&&(Se(go,e),Se(_n,n))}function bd(e){go.current===e&&(Re(_n),Re(go))}var Ne=wr(0);function yl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ac=[];function Hd(){for(var e=0;e<ac.length;e++)ac[e]._workInProgressVersionPrimary=null;ac.length=0}var qa=$n.ReactCurrentDispatcher,lc=$n.ReactCurrentBatchConfig,Hr=0,De=null,qe=null,Ye=null,vl=!1,Ks=!1,vo=0,Jw=0;function lt(){throw Error(N(321))}function qd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ln(e[n],t[n]))return!1;return!0}function Kd(e,t,n,r,i,s){if(Hr=s,De=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,qa.current=e===null||e.memoizedState===null?nT:rT,e=n(r,i),Ks){s=0;do{if(Ks=!1,vo=0,25<=s)throw Error(N(301));s+=1,Ye=qe=null,t.updateQueue=null,qa.current=iT,e=n(r,i)}while(Ks)}if(qa.current=_l,t=qe!==null&&qe.next!==null,Hr=0,Ye=qe=De=null,vl=!1,t)throw Error(N(300));return e}function Wd(){var e=vo!==0;return vo=0,e}function dn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?De.memoizedState=Ye=e:Ye=Ye.next=e,Ye}function Xt(){if(qe===null){var e=De.alternate;e=e!==null?e.memoizedState:null}else e=qe.next;var t=Ye===null?De.memoizedState:Ye.next;if(t!==null)Ye=t,qe=e;else{if(e===null)throw Error(N(310));qe=e,e={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},Ye===null?De.memoizedState=Ye=e:Ye=Ye.next=e}return Ye}function _o(e,t){return typeof t=="function"?t(e):t}function uc(e){var t=Xt(),n=t.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=e;var r=qe,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Hr&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,De.lanes|=c,qr|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,ln(r,t.memoizedState)||(Pt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,De.lanes|=s,qr|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function cc(e){var t=Xt(),n=t.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);ln(s,t.memoizedState)||(Pt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function _v(){}function Ev(e,t){var n=De,r=Xt(),i=t(),s=!ln(r.memoizedState,i);if(s&&(r.memoizedState=i,Pt=!0),r=r.queue,Qd(Sv.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Ye!==null&&Ye.memoizedState.tag&1){if(n.flags|=2048,Eo(9,Tv.bind(null,n,r,i,t),void 0,null),Je===null)throw Error(N(349));Hr&30||wv(n,t,i)}return i}function wv(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=De.updateQueue,t===null?(t={lastEffect:null,stores:null},De.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Tv(e,t,n,r){t.value=n,t.getSnapshot=r,Iv(t)&&Cv(e)}function Sv(e,t,n){return n(function(){Iv(t)&&Cv(e)})}function Iv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ln(e,n)}catch{return!0}}function Cv(e){var t=Vn(e,1);t!==null&&an(t,e,1,-1)}function om(e){var t=dn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_o,lastRenderedState:e},t.queue=e,e=e.dispatch=tT.bind(null,De,e),[t.memoizedState,e]}function Eo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=De.updateQueue,t===null?(t={lastEffect:null,stores:null},De.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Rv(){return Xt().memoizedState}function Ka(e,t,n,r){var i=dn();De.flags|=e,i.memoizedState=Eo(1|t,n,void 0,r===void 0?null:r)}function Gl(e,t,n,r){var i=Xt();r=r===void 0?null:r;var s=void 0;if(qe!==null){var o=qe.memoizedState;if(s=o.destroy,r!==null&&qd(r,o.deps)){i.memoizedState=Eo(t,n,s,r);return}}De.flags|=e,i.memoizedState=Eo(1|t,n,s,r)}function am(e,t){return Ka(8390656,8,e,t)}function Qd(e,t){return Gl(2048,8,e,t)}function Av(e,t){return Gl(4,2,e,t)}function Pv(e,t){return Gl(4,4,e,t)}function xv(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function kv(e,t,n){return n=n!=null?n.concat([e]):null,Gl(4,4,xv.bind(null,t,e),n)}function Gd(){}function Nv(e,t){var n=Xt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&qd(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Dv(e,t){var n=Xt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&qd(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Lv(e,t,n){return Hr&21?(ln(n,t)||(n=Oy(),De.lanes|=n,qr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Pt=!0),e.memoizedState=n)}function Zw(e,t){var n=ve;ve=n!==0&&4>n?n:4,e(!0);var r=lc.transition;lc.transition={};try{e(!1),t()}finally{ve=n,lc.transition=r}}function Vv(){return Xt().memoizedState}function eT(e,t,n){var r=lr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Mv(e))Ov(t,n);else if(n=dv(e,t,n,r),n!==null){var i=wt();an(n,e,r,i),Fv(n,t,r)}}function tT(e,t,n){var r=lr(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Mv(e))Ov(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ln(a,o)){var l=t.interleaved;l===null?(i.next=i,Ud(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=dv(e,t,i,r),n!==null&&(i=wt(),an(n,e,r,i),Fv(n,t,r))}}function Mv(e){var t=e.alternate;return e===De||t!==null&&t===De}function Ov(e,t){Ks=vl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Fv(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Rd(e,n)}}var _l={readContext:Gt,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useInsertionEffect:lt,useLayoutEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useMutableSource:lt,useSyncExternalStore:lt,useId:lt,unstable_isNewReconciler:!1},nT={readContext:Gt,useCallback:function(e,t){return dn().memoizedState=[e,t===void 0?null:t],e},useContext:Gt,useEffect:am,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ka(4194308,4,xv.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ka(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ka(4,2,e,t)},useMemo:function(e,t){var n=dn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=dn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=eT.bind(null,De,e),[r.memoizedState,e]},useRef:function(e){var t=dn();return e={current:e},t.memoizedState=e},useState:om,useDebugValue:Gd,useDeferredValue:function(e){return dn().memoizedState=e},useTransition:function(){var e=om(!1),t=e[0];return e=Zw.bind(null,e[1]),dn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=De,i=dn();if(xe){if(n===void 0)throw Error(N(407));n=n()}else{if(n=t(),Je===null)throw Error(N(349));Hr&30||wv(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,am(Sv.bind(null,r,s,e),[e]),r.flags|=2048,Eo(9,Tv.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=dn(),t=Je.identifierPrefix;if(xe){var n=Pn,r=An;n=(r&~(1<<32-on(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=vo++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Jw++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},rT={readContext:Gt,useCallback:Nv,useContext:Gt,useEffect:Qd,useImperativeHandle:kv,useInsertionEffect:Av,useLayoutEffect:Pv,useMemo:Dv,useReducer:uc,useRef:Rv,useState:function(){return uc(_o)},useDebugValue:Gd,useDeferredValue:function(e){var t=Xt();return Lv(t,qe.memoizedState,e)},useTransition:function(){var e=uc(_o)[0],t=Xt().memoizedState;return[e,t]},useMutableSource:_v,useSyncExternalStore:Ev,useId:Vv,unstable_isNewReconciler:!1},iT={readContext:Gt,useCallback:Nv,useContext:Gt,useEffect:Qd,useImperativeHandle:kv,useInsertionEffect:Av,useLayoutEffect:Pv,useMemo:Dv,useReducer:cc,useRef:Rv,useState:function(){return cc(_o)},useDebugValue:Gd,useDeferredValue:function(e){var t=Xt();return qe===null?t.memoizedState=e:Lv(t,qe.memoizedState,e)},useTransition:function(){var e=cc(_o)[0],t=Xt().memoizedState;return[e,t]},useMutableSource:_v,useSyncExternalStore:Ev,useId:Vv,unstable_isNewReconciler:!1};function bi(e,t){try{var n="",r=t;do n+=DE(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function hc(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function gh(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var sT=typeof WeakMap=="function"?WeakMap:Map;function jv(e,t,n){n=kn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){wl||(wl=!0,Rh=r),gh(e,t)},n}function $v(e,t,n){n=kn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){gh(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){gh(e,t),typeof r!="function"&&(ar===null?ar=new Set([this]):ar.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function lm(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new sT;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=_T.bind(null,e,t,n),t.then(e,e))}function um(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function cm(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=kn(-1,1),t.tag=2,or(n,t,1))),n.lanes|=1),e)}var oT=$n.ReactCurrentOwner,Pt=!1;function _t(e,t,n,r){t.child=e===null?yv(t,null,n,r):zi(t,e.child,n,r)}function hm(e,t,n,r,i){n=n.render;var s=t.ref;return xi(t,i),r=Kd(e,t,n,r,s,i),n=Wd(),e!==null&&!Pt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Mn(e,t,i)):(xe&&n&&Vd(t),t.flags|=1,_t(e,t,r,i),t.child)}function dm(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!rf(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Uv(e,t,s,r,i)):(e=Xa(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ho,n(o,r)&&e.ref===t.ref)return Mn(e,t,i)}return t.flags|=1,e=ur(s,r),e.ref=t.ref,e.return=t,t.child=e}function Uv(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(ho(s,r)&&e.ref===t.ref)if(Pt=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Pt=!0);else return t.lanes=e.lanes,Mn(e,t,i)}return yh(e,t,n,r,i)}function zv(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Se(wi,Vt),Vt|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Se(wi,Vt),Vt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Se(wi,Vt),Vt|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Se(wi,Vt),Vt|=r;return _t(e,t,i,n),t.child}function Bv(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function yh(e,t,n,r,i){var s=Nt(n)?Br:yt.current;return s=$i(t,s),xi(t,i),n=Kd(e,t,n,r,s,i),r=Wd(),e!==null&&!Pt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Mn(e,t,i)):(xe&&r&&Vd(t),t.flags|=1,_t(e,t,n,i),t.child)}function fm(e,t,n,r,i){if(Nt(n)){var s=!0;hl(t)}else s=!1;if(xi(t,i),t.stateNode===null)Wa(e,t),mv(t,n,r),mh(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Gt(u):(u=Nt(n)?Br:yt.current,u=$i(t,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&im(t,o,r,u),Qn=!1;var d=t.memoizedState;o.state=d,gl(t,r,o,i),l=t.memoizedState,a!==r||d!==l||kt.current||Qn?(typeof c=="function"&&(ph(t,n,c,r),l=t.memoizedState),(a=Qn||rm(t,n,a,r,d,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,fv(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:tn(t.type,a),o.props=u,h=t.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Gt(l):(l=Nt(n)?Br:yt.current,l=$i(t,l));var g=n.getDerivedStateFromProps;(c=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&im(t,o,r,l),Qn=!1,d=t.memoizedState,o.state=d,gl(t,r,o,i);var E=t.memoizedState;a!==h||d!==E||kt.current||Qn?(typeof g=="function"&&(ph(t,n,g,r),E=t.memoizedState),(u=Qn||rm(t,n,u,r,d,E,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,E,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,E,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=E),o.props=r,o.state=E,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return vh(e,t,n,r,s,i)}function vh(e,t,n,r,i,s){Bv(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&Jp(t,n,!1),Mn(e,t,s);r=t.stateNode,oT.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=zi(t,e.child,null,s),t.child=zi(t,null,a,s)):_t(e,t,a,s),t.memoizedState=r.state,i&&Jp(t,n,!0),t.child}function bv(e){var t=e.stateNode;t.pendingContext?Yp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Yp(e,t.context,!1),Bd(e,t.containerInfo)}function pm(e,t,n,r,i){return Ui(),Od(i),t.flags|=256,_t(e,t,n,r),t.child}var _h={dehydrated:null,treeContext:null,retryLane:0};function Eh(e){return{baseLanes:e,cachePool:null,transitions:null}}function Hv(e,t,n){var r=t.pendingProps,i=Ne.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Se(Ne,i&1),e===null)return dh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Jl(o,r,0,null),e=$r(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Eh(n),t.memoizedState=_h,e):Xd(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return aT(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=ur(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ur(a,s):(s=$r(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?Eh(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=_h,r}return s=e.child,e=s.sibling,r=ur(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Xd(e,t){return t=Jl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function wa(e,t,n,r){return r!==null&&Od(r),zi(t,e.child,null,n),e=Xd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function aT(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=hc(Error(N(422))),wa(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Jl({mode:"visible",children:r.children},i,0,null),s=$r(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&zi(t,e.child,null,o),t.child.memoizedState=Eh(o),t.memoizedState=_h,s);if(!(t.mode&1))return wa(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(N(419)),r=hc(s,r,void 0),wa(e,t,o,r)}if(a=(o&e.childLanes)!==0,Pt||a){if(r=Je,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Vn(e,i),an(r,e,i,-1))}return nf(),r=hc(Error(N(421))),wa(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=ET.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Mt=sr(i.nextSibling),Ot=t,xe=!0,sn=null,e!==null&&(Ht[qt++]=An,Ht[qt++]=Pn,Ht[qt++]=br,An=e.id,Pn=e.overflow,br=t),t=Xd(t,r.children),t.flags|=4096,t)}function mm(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),fh(e.return,t,n)}function dc(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function qv(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(_t(e,t,r.children,n),r=Ne.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&mm(e,n,t);else if(e.tag===19)mm(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Se(Ne,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&yl(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),dc(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&yl(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}dc(t,!0,n,null,s);break;case"together":dc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wa(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Mn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),qr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(N(153));if(t.child!==null){for(e=t.child,n=ur(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ur(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function lT(e,t,n){switch(t.tag){case 3:bv(t),Ui();break;case 5:vv(t);break;case 1:Nt(t.type)&&hl(t);break;case 4:Bd(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Se(pl,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Se(Ne,Ne.current&1),t.flags|=128,null):n&t.child.childLanes?Hv(e,t,n):(Se(Ne,Ne.current&1),e=Mn(e,t,n),e!==null?e.sibling:null);Se(Ne,Ne.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return qv(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Se(Ne,Ne.current),r)break;return null;case 22:case 23:return t.lanes=0,zv(e,t,n)}return Mn(e,t,n)}var Kv,wh,Wv,Qv;Kv=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};wh=function(){};Wv=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Lr(_n.current);var s=null;switch(n){case"input":i=bc(e,i),r=bc(e,r),s=[];break;case"select":i=Le({},i,{value:void 0}),r=Le({},r,{value:void 0}),s=[];break;case"textarea":i=Kc(e,i),r=Kc(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ul)}Qc(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(io.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(io.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ie("scroll",e),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};Qv=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ts(e,t){if(!xe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ut(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function uT(e,t,n){var r=t.pendingProps;switch(Md(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(t),null;case 1:return Nt(t.type)&&cl(),ut(t),null;case 3:return r=t.stateNode,Bi(),Re(kt),Re(yt),Hd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(_a(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,sn!==null&&(xh(sn),sn=null))),wh(e,t),ut(t),null;case 5:bd(t);var i=Lr(yo.current);if(n=t.type,e!==null&&t.stateNode!=null)Wv(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(N(166));return ut(t),null}if(e=Lr(_n.current),_a(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[fn]=t,r[mo]=s,e=(t.mode&1)!==0,n){case"dialog":Ie("cancel",r),Ie("close",r);break;case"iframe":case"object":case"embed":Ie("load",r);break;case"video":case"audio":for(i=0;i<Ls.length;i++)Ie(Ls[i],r);break;case"source":Ie("error",r);break;case"img":case"image":case"link":Ie("error",r),Ie("load",r);break;case"details":Ie("toggle",r);break;case"input":Ip(r,s),Ie("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ie("invalid",r);break;case"textarea":Rp(r,s),Ie("invalid",r)}Qc(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&va(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&va(r.textContent,a,e),i=["children",""+a]):io.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ie("scroll",r)}switch(n){case"input":ca(r),Cp(r,s,!0);break;case"textarea":ca(r),Ap(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ul)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=wy(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[fn]=t,e[mo]=r,Kv(e,t,!1,!1),t.stateNode=e;e:{switch(o=Gc(n,r),n){case"dialog":Ie("cancel",e),Ie("close",e),i=r;break;case"iframe":case"object":case"embed":Ie("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ls.length;i++)Ie(Ls[i],e);i=r;break;case"source":Ie("error",e),i=r;break;case"img":case"image":case"link":Ie("error",e),Ie("load",e),i=r;break;case"details":Ie("toggle",e),i=r;break;case"input":Ip(e,r),i=bc(e,r),Ie("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Le({},r,{value:void 0}),Ie("invalid",e);break;case"textarea":Rp(e,r),i=Kc(e,r),Ie("invalid",e);break;default:i=r}Qc(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Iy(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Ty(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&so(e,l):typeof l=="number"&&so(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(io.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ie("scroll",e):l!=null&&Ed(e,s,l,o))}switch(n){case"input":ca(e),Cp(e,r,!1);break;case"textarea":ca(e),Ap(e);break;case"option":r.value!=null&&e.setAttribute("value",""+mr(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Ci(e,!!r.multiple,s,!1):r.defaultValue!=null&&Ci(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=ul)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ut(t),null;case 6:if(e&&t.stateNode!=null)Qv(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(N(166));if(n=Lr(yo.current),Lr(_n.current),_a(t)){if(r=t.stateNode,n=t.memoizedProps,r[fn]=t,(s=r.nodeValue!==n)&&(e=Ot,e!==null))switch(e.tag){case 3:va(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&va(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[fn]=t,t.stateNode=r}return ut(t),null;case 13:if(Re(Ne),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(xe&&Mt!==null&&t.mode&1&&!(t.flags&128))hv(),Ui(),t.flags|=98560,s=!1;else if(s=_a(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(N(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(N(317));s[fn]=t}else Ui(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ut(t),s=!1}else sn!==null&&(xh(sn),sn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ne.current&1?We===0&&(We=3):nf())),t.updateQueue!==null&&(t.flags|=4),ut(t),null);case 4:return Bi(),wh(e,t),e===null&&fo(t.stateNode.containerInfo),ut(t),null;case 10:return $d(t.type._context),ut(t),null;case 17:return Nt(t.type)&&cl(),ut(t),null;case 19:if(Re(Ne),s=t.memoizedState,s===null)return ut(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)Ts(s,!1);else{if(We!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=yl(e),o!==null){for(t.flags|=128,Ts(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Se(Ne,Ne.current&1|2),t.child}e=e.sibling}s.tail!==null&&Fe()>Hi&&(t.flags|=128,r=!0,Ts(s,!1),t.lanes=4194304)}else{if(!r)if(e=yl(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ts(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!xe)return ut(t),null}else 2*Fe()-s.renderingStartTime>Hi&&n!==1073741824&&(t.flags|=128,r=!0,Ts(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Fe(),t.sibling=null,n=Ne.current,Se(Ne,r?n&1|2:n&1),t):(ut(t),null);case 22:case 23:return tf(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Vt&1073741824&&(ut(t),t.subtreeFlags&6&&(t.flags|=8192)):ut(t),null;case 24:return null;case 25:return null}throw Error(N(156,t.tag))}function cT(e,t){switch(Md(t),t.tag){case 1:return Nt(t.type)&&cl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Bi(),Re(kt),Re(yt),Hd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return bd(t),null;case 13:if(Re(Ne),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(N(340));Ui()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Re(Ne),null;case 4:return Bi(),null;case 10:return $d(t.type._context),null;case 22:case 23:return tf(),null;case 24:return null;default:return null}}var Ta=!1,dt=!1,hT=typeof WeakSet=="function"?WeakSet:Set,F=null;function Ei(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ve(e,t,r)}else n.current=null}function Th(e,t,n){try{n()}catch(r){Ve(e,t,r)}}var gm=!1;function dT(e,t){if(sh=ol,e=Jy(),Ld(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=e,d=null;t:for(;;){for(var g;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)d=h,h=g;for(;;){if(h===e)break t;if(d===n&&++u===i&&(a=o),d===s&&++c===r&&(l=o),(g=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(oh={focusedElem:e,selectionRange:n},ol=!1,F=t;F!==null;)if(t=F,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,F=e;else for(;F!==null;){t=F;try{var E=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var _=E.memoizedProps,w=E.memoizedState,f=t.stateNode,p=f.getSnapshotBeforeUpdate(t.elementType===t.type?_:tn(t.type,_),w);f.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(m){Ve(t,t.return,m)}if(e=t.sibling,e!==null){e.return=t.return,F=e;break}F=t.return}return E=gm,gm=!1,E}function Ws(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Th(t,n,s)}i=i.next}while(i!==r)}}function Xl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Sh(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Gv(e){var t=e.alternate;t!==null&&(e.alternate=null,Gv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[fn],delete t[mo],delete t[uh],delete t[Qw],delete t[Gw])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Xv(e){return e.tag===5||e.tag===3||e.tag===4}function ym(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Xv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ih(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ul));else if(r!==4&&(e=e.child,e!==null))for(Ih(e,t,n),e=e.sibling;e!==null;)Ih(e,t,n),e=e.sibling}function Ch(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ch(e,t,n),e=e.sibling;e!==null;)Ch(e,t,n),e=e.sibling}var tt=null,nn=!1;function Kn(e,t,n){for(n=n.child;n!==null;)Yv(e,t,n),n=n.sibling}function Yv(e,t,n){if(vn&&typeof vn.onCommitFiberUnmount=="function")try{vn.onCommitFiberUnmount(Bl,n)}catch{}switch(n.tag){case 5:dt||Ei(n,t);case 6:var r=tt,i=nn;tt=null,Kn(e,t,n),tt=r,nn=i,tt!==null&&(nn?(e=tt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):tt.removeChild(n.stateNode));break;case 18:tt!==null&&(nn?(e=tt,n=n.stateNode,e.nodeType===8?sc(e.parentNode,n):e.nodeType===1&&sc(e,n),uo(e)):sc(tt,n.stateNode));break;case 4:r=tt,i=nn,tt=n.stateNode.containerInfo,nn=!0,Kn(e,t,n),tt=r,nn=i;break;case 0:case 11:case 14:case 15:if(!dt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Th(n,t,o),i=i.next}while(i!==r)}Kn(e,t,n);break;case 1:if(!dt&&(Ei(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ve(n,t,a)}Kn(e,t,n);break;case 21:Kn(e,t,n);break;case 22:n.mode&1?(dt=(r=dt)||n.memoizedState!==null,Kn(e,t,n),dt=r):Kn(e,t,n);break;default:Kn(e,t,n)}}function vm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new hT),t.forEach(function(r){var i=wT.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function en(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:tt=a.stateNode,nn=!1;break e;case 3:tt=a.stateNode.containerInfo,nn=!0;break e;case 4:tt=a.stateNode.containerInfo,nn=!0;break e}a=a.return}if(tt===null)throw Error(N(160));Yv(s,o,i),tt=null,nn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ve(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Jv(t,e),t=t.sibling}function Jv(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(en(t,e),hn(e),r&4){try{Ws(3,e,e.return),Xl(3,e)}catch(_){Ve(e,e.return,_)}try{Ws(5,e,e.return)}catch(_){Ve(e,e.return,_)}}break;case 1:en(t,e),hn(e),r&512&&n!==null&&Ei(n,n.return);break;case 5:if(en(t,e),hn(e),r&512&&n!==null&&Ei(n,n.return),e.flags&32){var i=e.stateNode;try{so(i,"")}catch(_){Ve(e,e.return,_)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&_y(i,s),Gc(a,o);var u=Gc(a,s);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?Iy(i,h):c==="dangerouslySetInnerHTML"?Ty(i,h):c==="children"?so(i,h):Ed(i,c,h,u)}switch(a){case"input":Hc(i,s);break;case"textarea":Ey(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Ci(i,!!s.multiple,g,!1):d!==!!s.multiple&&(s.defaultValue!=null?Ci(i,!!s.multiple,s.defaultValue,!0):Ci(i,!!s.multiple,s.multiple?[]:"",!1))}i[mo]=s}catch(_){Ve(e,e.return,_)}}break;case 6:if(en(t,e),hn(e),r&4){if(e.stateNode===null)throw Error(N(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(_){Ve(e,e.return,_)}}break;case 3:if(en(t,e),hn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{uo(t.containerInfo)}catch(_){Ve(e,e.return,_)}break;case 4:en(t,e),hn(e);break;case 13:en(t,e),hn(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Zd=Fe())),r&4&&vm(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(dt=(u=dt)||c,en(t,e),dt=u):en(t,e),hn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(F=e,c=e.child;c!==null;){for(h=F=c;F!==null;){switch(d=F,g=d.child,d.tag){case 0:case 11:case 14:case 15:Ws(4,d,d.return);break;case 1:Ei(d,d.return);var E=d.stateNode;if(typeof E.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,E.props=t.memoizedProps,E.state=t.memoizedState,E.componentWillUnmount()}catch(_){Ve(r,n,_)}}break;case 5:Ei(d,d.return);break;case 22:if(d.memoizedState!==null){Em(h);continue}}g!==null?(g.return=d,F=g):Em(h)}c=c.sibling}e:for(c=null,h=e;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Sy("display",o))}catch(_){Ve(e,e.return,_)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(_){Ve(e,e.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:en(t,e),hn(e),r&4&&vm(e);break;case 21:break;default:en(t,e),hn(e)}}function hn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Xv(n)){var r=n;break e}n=n.return}throw Error(N(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(so(i,""),r.flags&=-33);var s=ym(e);Ch(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=ym(e);Ih(e,a,o);break;default:throw Error(N(161))}}catch(l){Ve(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function fT(e,t,n){F=e,Zv(e)}function Zv(e,t,n){for(var r=(e.mode&1)!==0;F!==null;){var i=F,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ta;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||dt;a=Ta;var u=dt;if(Ta=o,(dt=l)&&!u)for(F=i;F!==null;)o=F,l=o.child,o.tag===22&&o.memoizedState!==null?wm(i):l!==null?(l.return=o,F=l):wm(i);for(;s!==null;)F=s,Zv(s),s=s.sibling;F=i,Ta=a,dt=u}_m(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,F=s):_m(e)}}function _m(e){for(;F!==null;){var t=F;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:dt||Xl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!dt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:tn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&nm(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}nm(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&uo(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}dt||t.flags&512&&Sh(t)}catch(d){Ve(t,t.return,d)}}if(t===e){F=null;break}if(n=t.sibling,n!==null){n.return=t.return,F=n;break}F=t.return}}function Em(e){for(;F!==null;){var t=F;if(t===e){F=null;break}var n=t.sibling;if(n!==null){n.return=t.return,F=n;break}F=t.return}}function wm(e){for(;F!==null;){var t=F;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Xl(4,t)}catch(l){Ve(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Ve(t,i,l)}}var s=t.return;try{Sh(t)}catch(l){Ve(t,s,l)}break;case 5:var o=t.return;try{Sh(t)}catch(l){Ve(t,o,l)}}}catch(l){Ve(t,t.return,l)}if(t===e){F=null;break}var a=t.sibling;if(a!==null){a.return=t.return,F=a;break}F=t.return}}var pT=Math.ceil,El=$n.ReactCurrentDispatcher,Yd=$n.ReactCurrentOwner,Qt=$n.ReactCurrentBatchConfig,he=0,Je=null,Be=null,it=0,Vt=0,wi=wr(0),We=0,wo=null,qr=0,Yl=0,Jd=0,Qs=null,Ct=null,Zd=0,Hi=1/0,Cn=null,wl=!1,Rh=null,ar=null,Sa=!1,Jn=null,Tl=0,Gs=0,Ah=null,Qa=-1,Ga=0;function wt(){return he&6?Fe():Qa!==-1?Qa:Qa=Fe()}function lr(e){return e.mode&1?he&2&&it!==0?it&-it:Yw.transition!==null?(Ga===0&&(Ga=Oy()),Ga):(e=ve,e!==0||(e=window.event,e=e===void 0?16:by(e.type)),e):1}function an(e,t,n,r){if(50<Gs)throw Gs=0,Ah=null,Error(N(185));Uo(e,n,r),(!(he&2)||e!==Je)&&(e===Je&&(!(he&2)&&(Yl|=n),We===4&&Xn(e,it)),Dt(e,r),n===1&&he===0&&!(t.mode&1)&&(Hi=Fe()+500,Wl&&Tr()))}function Dt(e,t){var n=e.callbackNode;YE(e,t);var r=sl(e,e===Je?it:0);if(r===0)n!==null&&kp(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&kp(n),t===1)e.tag===0?Xw(Tm.bind(null,e)):lv(Tm.bind(null,e)),Kw(function(){!(he&6)&&Tr()}),n=null;else{switch(Fy(r)){case 1:n=Cd;break;case 4:n=Vy;break;case 16:n=il;break;case 536870912:n=My;break;default:n=il}n=a0(n,e0.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function e0(e,t){if(Qa=-1,Ga=0,he&6)throw Error(N(327));var n=e.callbackNode;if(ki()&&e.callbackNode!==n)return null;var r=sl(e,e===Je?it:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Sl(e,r);else{t=r;var i=he;he|=2;var s=n0();(Je!==e||it!==t)&&(Cn=null,Hi=Fe()+500,jr(e,t));do try{yT();break}catch(a){t0(e,a)}while(1);jd(),El.current=s,he=i,Be!==null?t=0:(Je=null,it=0,t=We)}if(t!==0){if(t===2&&(i=eh(e),i!==0&&(r=i,t=Ph(e,i))),t===1)throw n=wo,jr(e,0),Xn(e,r),Dt(e,Fe()),n;if(t===6)Xn(e,r);else{if(i=e.current.alternate,!(r&30)&&!mT(i)&&(t=Sl(e,r),t===2&&(s=eh(e),s!==0&&(r=s,t=Ph(e,s))),t===1))throw n=wo,jr(e,0),Xn(e,r),Dt(e,Fe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(N(345));case 2:Pr(e,Ct,Cn);break;case 3:if(Xn(e,r),(r&130023424)===r&&(t=Zd+500-Fe(),10<t)){if(sl(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){wt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=lh(Pr.bind(null,e,Ct,Cn),t);break}Pr(e,Ct,Cn);break;case 4:if(Xn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-on(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=Fe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*pT(r/1960))-r,10<r){e.timeoutHandle=lh(Pr.bind(null,e,Ct,Cn),r);break}Pr(e,Ct,Cn);break;case 5:Pr(e,Ct,Cn);break;default:throw Error(N(329))}}}return Dt(e,Fe()),e.callbackNode===n?e0.bind(null,e):null}function Ph(e,t){var n=Qs;return e.current.memoizedState.isDehydrated&&(jr(e,t).flags|=256),e=Sl(e,t),e!==2&&(t=Ct,Ct=n,t!==null&&xh(t)),e}function xh(e){Ct===null?Ct=e:Ct.push.apply(Ct,e)}function mT(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ln(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xn(e,t){for(t&=~Jd,t&=~Yl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-on(t),r=1<<n;e[n]=-1,t&=~r}}function Tm(e){if(he&6)throw Error(N(327));ki();var t=sl(e,0);if(!(t&1))return Dt(e,Fe()),null;var n=Sl(e,t);if(e.tag!==0&&n===2){var r=eh(e);r!==0&&(t=r,n=Ph(e,r))}if(n===1)throw n=wo,jr(e,0),Xn(e,t),Dt(e,Fe()),n;if(n===6)throw Error(N(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Pr(e,Ct,Cn),Dt(e,Fe()),null}function ef(e,t){var n=he;he|=1;try{return e(t)}finally{he=n,he===0&&(Hi=Fe()+500,Wl&&Tr())}}function Kr(e){Jn!==null&&Jn.tag===0&&!(he&6)&&ki();var t=he;he|=1;var n=Qt.transition,r=ve;try{if(Qt.transition=null,ve=1,e)return e()}finally{ve=r,Qt.transition=n,he=t,!(he&6)&&Tr()}}function tf(){Vt=wi.current,Re(wi)}function jr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,qw(n)),Be!==null)for(n=Be.return;n!==null;){var r=n;switch(Md(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&cl();break;case 3:Bi(),Re(kt),Re(yt),Hd();break;case 5:bd(r);break;case 4:Bi();break;case 13:Re(Ne);break;case 19:Re(Ne);break;case 10:$d(r.type._context);break;case 22:case 23:tf()}n=n.return}if(Je=e,Be=e=ur(e.current,null),it=Vt=t,We=0,wo=null,Jd=Yl=qr=0,Ct=Qs=null,Dr!==null){for(t=0;t<Dr.length;t++)if(n=Dr[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Dr=null}return e}function t0(e,t){do{var n=Be;try{if(jd(),qa.current=_l,vl){for(var r=De.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}vl=!1}if(Hr=0,Ye=qe=De=null,Ks=!1,vo=0,Yd.current=null,n===null||n.return===null){We=1,wo=t,Be=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=it,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=um(o);if(g!==null){g.flags&=-257,cm(g,o,a,s,t),g.mode&1&&lm(s,u,t),t=g,l=u;var E=t.updateQueue;if(E===null){var _=new Set;_.add(l),t.updateQueue=_}else E.add(l);break e}else{if(!(t&1)){lm(s,u,t),nf();break e}l=Error(N(426))}}else if(xe&&a.mode&1){var w=um(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),cm(w,o,a,s,t),Od(bi(l,a));break e}}s=l=bi(l,a),We!==4&&(We=2),Qs===null?Qs=[s]:Qs.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var f=jv(s,l,t);tm(s,f);break e;case 1:a=l;var p=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(ar===null||!ar.has(v)))){s.flags|=65536,t&=-t,s.lanes|=t;var m=$v(s,a,t);tm(s,m);break e}}s=s.return}while(s!==null)}i0(n)}catch(T){t=T,Be===n&&n!==null&&(Be=n=n.return);continue}break}while(1)}function n0(){var e=El.current;return El.current=_l,e===null?_l:e}function nf(){(We===0||We===3||We===2)&&(We=4),Je===null||!(qr&268435455)&&!(Yl&268435455)||Xn(Je,it)}function Sl(e,t){var n=he;he|=2;var r=n0();(Je!==e||it!==t)&&(Cn=null,jr(e,t));do try{gT();break}catch(i){t0(e,i)}while(1);if(jd(),he=n,El.current=r,Be!==null)throw Error(N(261));return Je=null,it=0,We}function gT(){for(;Be!==null;)r0(Be)}function yT(){for(;Be!==null&&!BE();)r0(Be)}function r0(e){var t=o0(e.alternate,e,Vt);e.memoizedProps=e.pendingProps,t===null?i0(e):Be=t,Yd.current=null}function i0(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=cT(n,t),n!==null){n.flags&=32767,Be=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{We=6,Be=null;return}}else if(n=uT(n,t,Vt),n!==null){Be=n;return}if(t=t.sibling,t!==null){Be=t;return}Be=t=e}while(t!==null);We===0&&(We=5)}function Pr(e,t,n){var r=ve,i=Qt.transition;try{Qt.transition=null,ve=1,vT(e,t,n,r)}finally{Qt.transition=i,ve=r}return null}function vT(e,t,n,r){do ki();while(Jn!==null);if(he&6)throw Error(N(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(N(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(JE(e,s),e===Je&&(Be=Je=null,it=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Sa||(Sa=!0,a0(il,function(){return ki(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Qt.transition,Qt.transition=null;var o=ve;ve=1;var a=he;he|=4,Yd.current=null,dT(e,n),Jv(n,e),jw(oh),ol=!!sh,oh=sh=null,e.current=n,fT(n),bE(),he=a,ve=o,Qt.transition=s}else e.current=n;if(Sa&&(Sa=!1,Jn=e,Tl=i),s=e.pendingLanes,s===0&&(ar=null),KE(n.stateNode),Dt(e,Fe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(wl)throw wl=!1,e=Rh,Rh=null,e;return Tl&1&&e.tag!==0&&ki(),s=e.pendingLanes,s&1?e===Ah?Gs++:(Gs=0,Ah=e):Gs=0,Tr(),null}function ki(){if(Jn!==null){var e=Fy(Tl),t=Qt.transition,n=ve;try{if(Qt.transition=null,ve=16>e?16:e,Jn===null)var r=!1;else{if(e=Jn,Jn=null,Tl=0,he&6)throw Error(N(331));var i=he;for(he|=4,F=e.current;F!==null;){var s=F,o=s.child;if(F.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(F=u;F!==null;){var c=F;switch(c.tag){case 0:case 11:case 15:Ws(8,c,s)}var h=c.child;if(h!==null)h.return=c,F=h;else for(;F!==null;){c=F;var d=c.sibling,g=c.return;if(Gv(c),c===u){F=null;break}if(d!==null){d.return=g,F=d;break}F=g}}}var E=s.alternate;if(E!==null){var _=E.child;if(_!==null){E.child=null;do{var w=_.sibling;_.sibling=null,_=w}while(_!==null)}}F=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,F=o;else e:for(;F!==null;){if(s=F,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ws(9,s,s.return)}var f=s.sibling;if(f!==null){f.return=s.return,F=f;break e}F=s.return}}var p=e.current;for(F=p;F!==null;){o=F;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,F=v;else e:for(o=p;F!==null;){if(a=F,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Xl(9,a)}}catch(T){Ve(a,a.return,T)}if(a===o){F=null;break e}var m=a.sibling;if(m!==null){m.return=a.return,F=m;break e}F=a.return}}if(he=i,Tr(),vn&&typeof vn.onPostCommitFiberRoot=="function")try{vn.onPostCommitFiberRoot(Bl,e)}catch{}r=!0}return r}finally{ve=n,Qt.transition=t}}return!1}function Sm(e,t,n){t=bi(n,t),t=jv(e,t,1),e=or(e,t,1),t=wt(),e!==null&&(Uo(e,1,t),Dt(e,t))}function Ve(e,t,n){if(e.tag===3)Sm(e,e,n);else for(;t!==null;){if(t.tag===3){Sm(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ar===null||!ar.has(r))){e=bi(n,e),e=$v(t,e,1),t=or(t,e,1),e=wt(),t!==null&&(Uo(t,1,e),Dt(t,e));break}}t=t.return}}function _T(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=wt(),e.pingedLanes|=e.suspendedLanes&n,Je===e&&(it&n)===n&&(We===4||We===3&&(it&130023424)===it&&500>Fe()-Zd?jr(e,0):Jd|=n),Dt(e,t)}function s0(e,t){t===0&&(e.mode&1?(t=fa,fa<<=1,!(fa&130023424)&&(fa=4194304)):t=1);var n=wt();e=Vn(e,t),e!==null&&(Uo(e,t,n),Dt(e,n))}function ET(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),s0(e,n)}function wT(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(N(314))}r!==null&&r.delete(t),s0(e,n)}var o0;o0=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||kt.current)Pt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Pt=!1,lT(e,t,n);Pt=!!(e.flags&131072)}else Pt=!1,xe&&t.flags&1048576&&uv(t,fl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wa(e,t),e=t.pendingProps;var i=$i(t,yt.current);xi(t,n),i=Kd(null,t,r,e,i,n);var s=Wd();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Nt(r)?(s=!0,hl(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,zd(t),i.updater=Ql,t.stateNode=i,i._reactInternals=t,mh(t,r,e,n),t=vh(null,t,r,!0,s,n)):(t.tag=0,xe&&s&&Vd(t),_t(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wa(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=ST(r),e=tn(r,e),i){case 0:t=yh(null,t,r,e,n);break e;case 1:t=fm(null,t,r,e,n);break e;case 11:t=hm(null,t,r,e,n);break e;case 14:t=dm(null,t,r,tn(r.type,e),n);break e}throw Error(N(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:tn(r,i),yh(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:tn(r,i),fm(e,t,r,i,n);case 3:e:{if(bv(t),e===null)throw Error(N(387));r=t.pendingProps,s=t.memoizedState,i=s.element,fv(e,t),gl(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=bi(Error(N(423)),t),t=pm(e,t,r,n,i);break e}else if(r!==i){i=bi(Error(N(424)),t),t=pm(e,t,r,n,i);break e}else for(Mt=sr(t.stateNode.containerInfo.firstChild),Ot=t,xe=!0,sn=null,n=yv(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ui(),r===i){t=Mn(e,t,n);break e}_t(e,t,r,n)}t=t.child}return t;case 5:return vv(t),e===null&&dh(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,ah(r,i)?o=null:s!==null&&ah(r,s)&&(t.flags|=32),Bv(e,t),_t(e,t,o,n),t.child;case 6:return e===null&&dh(t),null;case 13:return Hv(e,t,n);case 4:return Bd(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=zi(t,null,r,n):_t(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:tn(r,i),hm(e,t,r,i,n);case 7:return _t(e,t,t.pendingProps,n),t.child;case 8:return _t(e,t,t.pendingProps.children,n),t.child;case 12:return _t(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Se(pl,r._currentValue),r._currentValue=o,s!==null)if(ln(s.value,o)){if(s.children===i.children&&!kt.current){t=Mn(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=kn(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),fh(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(N(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),fh(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}_t(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,xi(t,n),i=Gt(i),r=r(i),t.flags|=1,_t(e,t,r,n),t.child;case 14:return r=t.type,i=tn(r,t.pendingProps),i=tn(r.type,i),dm(e,t,r,i,n);case 15:return Uv(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:tn(r,i),Wa(e,t),t.tag=1,Nt(r)?(e=!0,hl(t)):e=!1,xi(t,n),mv(t,r,i),mh(t,r,i,n),vh(null,t,r,!0,e,n);case 19:return qv(e,t,n);case 22:return zv(e,t,n)}throw Error(N(156,t.tag))};function a0(e,t){return Ly(e,t)}function TT(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wt(e,t,n,r){return new TT(e,t,n,r)}function rf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ST(e){if(typeof e=="function")return rf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Td)return 11;if(e===Sd)return 14}return 2}function ur(e,t){var n=e.alternate;return n===null?(n=Wt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Xa(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")rf(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case hi:return $r(n.children,i,s,t);case wd:o=8,i|=8;break;case $c:return e=Wt(12,n,t,i|2),e.elementType=$c,e.lanes=s,e;case Uc:return e=Wt(13,n,t,i),e.elementType=Uc,e.lanes=s,e;case zc:return e=Wt(19,n,t,i),e.elementType=zc,e.lanes=s,e;case gy:return Jl(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case py:o=10;break e;case my:o=9;break e;case Td:o=11;break e;case Sd:o=14;break e;case Wn:o=16,r=null;break e}throw Error(N(130,e==null?e:typeof e,""))}return t=Wt(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function $r(e,t,n,r){return e=Wt(7,e,r,t),e.lanes=n,e}function Jl(e,t,n,r){return e=Wt(22,e,r,t),e.elementType=gy,e.lanes=n,e.stateNode={isHidden:!1},e}function fc(e,t,n){return e=Wt(6,e,null,t),e.lanes=n,e}function pc(e,t,n){return t=Wt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function IT(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qu(0),this.expirationTimes=Qu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qu(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function sf(e,t,n,r,i,s,o,a,l){return e=new IT(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Wt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},zd(s),e}function CT(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ci,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function l0(e){if(!e)return gr;e=e._reactInternals;e:{if(ti(e)!==e||e.tag!==1)throw Error(N(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Nt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(N(171))}if(e.tag===1){var n=e.type;if(Nt(n))return av(e,n,t)}return t}function u0(e,t,n,r,i,s,o,a,l){return e=sf(n,r,!0,e,i,s,o,a,l),e.context=l0(null),n=e.current,r=wt(),i=lr(n),s=kn(r,i),s.callback=t??null,or(n,s,i),e.current.lanes=i,Uo(e,i,r),Dt(e,r),e}function Zl(e,t,n,r){var i=t.current,s=wt(),o=lr(i);return n=l0(n),t.context===null?t.context=n:t.pendingContext=n,t=kn(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=or(i,t,o),e!==null&&(an(e,i,o,s),Ha(e,i,o)),o}function Il(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Im(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function of(e,t){Im(e,t),(e=e.alternate)&&Im(e,t)}function RT(){return null}var c0=typeof reportError=="function"?reportError:function(e){console.error(e)};function af(e){this._internalRoot=e}eu.prototype.render=af.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(N(409));Zl(e,t,null,null)};eu.prototype.unmount=af.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Kr(function(){Zl(null,e,null,null)}),t[Ln]=null}};function eu(e){this._internalRoot=e}eu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Uy();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Gn.length&&t!==0&&t<Gn[n].priority;n++);Gn.splice(n,0,e),n===0&&By(e)}};function lf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function tu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Cm(){}function AT(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Il(o);s.call(u)}}var o=u0(t,r,e,0,null,!1,!1,"",Cm);return e._reactRootContainer=o,e[Ln]=o.current,fo(e.nodeType===8?e.parentNode:e),Kr(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Il(l);a.call(u)}}var l=sf(e,0,!1,null,null,!1,!1,"",Cm);return e._reactRootContainer=l,e[Ln]=l.current,fo(e.nodeType===8?e.parentNode:e),Kr(function(){Zl(t,l,n,r)}),l}function nu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Il(o);a.call(l)}}Zl(t,o,e,i)}else o=AT(n,t,e,i,r);return Il(o)}jy=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ds(t.pendingLanes);n!==0&&(Rd(t,n|1),Dt(t,Fe()),!(he&6)&&(Hi=Fe()+500,Tr()))}break;case 13:Kr(function(){var r=Vn(e,1);if(r!==null){var i=wt();an(r,e,1,i)}}),of(e,1)}};Ad=function(e){if(e.tag===13){var t=Vn(e,134217728);if(t!==null){var n=wt();an(t,e,134217728,n)}of(e,134217728)}};$y=function(e){if(e.tag===13){var t=lr(e),n=Vn(e,t);if(n!==null){var r=wt();an(n,e,t,r)}of(e,t)}};Uy=function(){return ve};zy=function(e,t){var n=ve;try{return ve=e,t()}finally{ve=n}};Yc=function(e,t,n){switch(t){case"input":if(Hc(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Kl(r);if(!i)throw Error(N(90));vy(r),Hc(r,i)}}}break;case"textarea":Ey(e,n);break;case"select":t=n.value,t!=null&&Ci(e,!!n.multiple,t,!1)}};Ay=ef;Py=Kr;var PT={usingClientEntryPoint:!1,Events:[Bo,mi,Kl,Cy,Ry,ef]},Ss={findFiberByHostInstance:Nr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},xT={bundleType:Ss.bundleType,version:Ss.version,rendererPackageName:Ss.rendererPackageName,rendererConfig:Ss.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$n.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ny(e),e===null?null:e.stateNode},findFiberByHostInstance:Ss.findFiberByHostInstance||RT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ia=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ia.isDisabled&&Ia.supportsFiber)try{Bl=Ia.inject(xT),vn=Ia}catch{}}$t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PT;$t.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lf(t))throw Error(N(200));return CT(e,t,null,n)};$t.createRoot=function(e,t){if(!lf(e))throw Error(N(299));var n=!1,r="",i=c0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=sf(e,1,!1,null,null,n,!1,r,i),e[Ln]=t.current,fo(e.nodeType===8?e.parentNode:e),new af(t)};$t.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(N(188)):(e=Object.keys(e).join(","),Error(N(268,e)));return e=Ny(t),e=e===null?null:e.stateNode,e};$t.flushSync=function(e){return Kr(e)};$t.hydrate=function(e,t,n){if(!tu(t))throw Error(N(200));return nu(null,e,t,!0,n)};$t.hydrateRoot=function(e,t,n){if(!lf(e))throw Error(N(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=c0;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=u0(t,null,e,1,n??null,i,!1,s,o),e[Ln]=t.current,fo(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new eu(t)};$t.render=function(e,t,n){if(!tu(t))throw Error(N(200));return nu(null,e,t,!1,n)};$t.unmountComponentAtNode=function(e){if(!tu(e))throw Error(N(40));return e._reactRootContainer?(Kr(function(){nu(null,null,e,!1,function(){e._reactRootContainer=null,e[Ln]=null})}),!0):!1};$t.unstable_batchedUpdates=ef;$t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!tu(n))throw Error(N(200));if(e==null||e._reactInternals===void 0)throw Error(N(38));return nu(e,t,n,!1,r)};$t.version="18.2.0-next-9e3b772b8-20220608";function h0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(h0)}catch(e){console.error(e)}}h0(),uy.exports=$t;var kT=uy.exports,Rm=kT;Fc.createRoot=Rm.createRoot,Fc.hydrateRoot=Rm.hydrateRoot;const rs=S.createContext(null),NT=({children:e})=>{const[t,n]=S.useState([]),[r,i]=S.useState(""),[s,o]=S.useState(!1),[a,l]=S.useState(""),[u,c]=S.useState(""),[h,d]=S.useState(""),[g,E]=S.useState([]),[_,w]=S.useState(0),[f,p]=S.useState(!1),[v,m]=S.useState([]),[T,R]=S.useState([]),[A,k]=S.useState([]),[$,M]=S.useState([]),[se,W]=ie.useState(!1);ie.useState(null);const[de,ae]=S.useState([]),[U,z]=S.useState(!1),ee={glasses:t,setGlasses:n,inputValue:r,setInputValue:i,isSubmit:s,setIsSubmit:o,basketItemsId:a,setBasketItemsId:l,itemId:g,setItemId:E,length:_,setLength:w,clearBasket:f,setClearBasket:p,status:v,setStatus:m,loading:se,setLoading:W,size:u,setSize:c,array:de,setArray:ae,click:U,setClick:z,deleteArray:A,setDeleteArray:k,removePrice:$,setRemovePrice:M,detailStatus:T,setDetailStatus:R,color:h,setColor:d};return y.jsx(rs.Provider,{value:ee,children:e})};/**
 * @remix-run/router v1.7.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pe(){return Pe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pe.apply(this,arguments)}var Ue;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ue||(Ue={}));const Am="popstate";function DT(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:o,hash:a}=r.location;return To("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Wr(i)}return VT(t,n,null,e)}function te(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function qi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function LT(){return Math.random().toString(36).substr(2,8)}function Pm(e,t){return{usr:e.state,key:e.key,idx:t}}function To(e,t,n,r){return n===void 0&&(n=null),Pe({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Un(t):t,{state:n,key:t&&t.key||r||LT()})}function Wr(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Un(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function VT(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Ue.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(Pe({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function h(){a=Ue.Pop;let w=c(),f=w==null?null:w-u;u=w,l&&l({action:a,location:_.location,delta:f})}function d(w,f){a=Ue.Push;let p=To(_.location,w,f);n&&n(p,w),u=c()+1;let v=Pm(p,u),m=_.createHref(p);try{o.pushState(v,"",m)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(m)}s&&l&&l({action:a,location:_.location,delta:1})}function g(w,f){a=Ue.Replace;let p=To(_.location,w,f);n&&n(p,w),u=c();let v=Pm(p,u),m=_.createHref(p);o.replaceState(v,"",m),s&&l&&l({action:a,location:_.location,delta:0})}function E(w){let f=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof w=="string"?w:Wr(w);return te(f,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,f)}let _={get action(){return a},get location(){return e(i,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Am,h),l=w,()=>{i.removeEventListener(Am,h),l=null}},createHref(w){return t(i,w)},createURL:E,encodeLocation(w){let f=E(w);return{pathname:f.pathname,search:f.search,hash:f.hash}},push:d,replace:g,go(w){return o.go(w)}};return _}var He;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(He||(He={}));const MT=new Set(["lazy","caseSensitive","path","id","index","children"]);function OT(e){return e.index===!0}function kh(e,t,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),e.map((i,s)=>{let o=[...n,s],a=typeof i.id=="string"?i.id:o.join("-");if(te(i.index!==!0||!i.children,"Cannot specify children on an index route"),te(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),OT(i)){let l=Pe({},i,t(i),{id:a});return r[a]=l,l}else{let l=Pe({},i,t(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=kh(i.children,t,o,r)),l}})}function Ti(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?Un(t):t,i=is(r.pathname||"/",n);if(i==null)return null;let s=d0(e);FT(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=KT(s[a],GT(i));return o}function d0(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(te(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Nn([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(te(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),d0(s.children,t,c,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:HT(u,s.index),routesMeta:c})};return e.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of f0(s.path))i(s,o,l)}),t}function f0(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=f0(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function FT(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:qT(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const jT=/^:\w+$/,$T=3,UT=2,zT=1,BT=10,bT=-2,xm=e=>e==="*";function HT(e,t){let n=e.split("/"),r=n.length;return n.some(xm)&&(r+=bT),t&&(r+=UT),n.filter(i=>!xm(i)).reduce((i,s)=>i+(jT.test(s)?$T:s===""?zT:BT),r)}function qT(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function KT(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",c=WT({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let h=a.route;s.push({params:r,pathname:Nn([i,c.pathname]),pathnameBase:ZT(Nn([i,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(i=Nn([i,c.pathnameBase]))}return s}function WT(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=QT(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,h)=>{if(c==="*"){let d=a[h]||"";o=s.slice(0,s.length-d.length).replace(/(.)\/+$/,"$1")}return u[c]=XT(a[h]||"",c),u},{}),pathname:s,pathnameBase:o,pattern:e}}function QT(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),qi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return e.endsWith("*")?(r.push("*"),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function GT(e){try{return decodeURI(e)}catch(t){return qi(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function XT(e,t){try{return decodeURIComponent(e)}catch(n){return qi(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function is(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function YT(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Un(e):e;return{pathname:n?n.startsWith("/")?n:JT(n,t):t,search:eS(r),hash:tS(i)}}function JT(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function mc(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ho(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function ru(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Un(e):(i=Pe({},e),te(!i.pathname||!i.pathname.includes("?"),mc("?","pathname","search",i)),te(!i.pathname||!i.pathname.includes("#"),mc("#","pathname","hash",i)),te(!i.search||!i.search.includes("#"),mc("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let h=t.length-1;if(o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),h-=1;i.pathname=d.join("/")}a=h>=0?t[h]:"/"}let l=YT(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Nn=e=>e.join("/").replace(/\/\/+/g,"/"),ZT=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),eS=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,tS=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class uf{constructor(t,n,r,i){i===void 0&&(i=!1),this.status=t,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function p0(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const m0=["post","put","patch","delete"],nS=new Set(m0),rS=["get",...m0],iS=new Set(rS),sS=new Set([301,302,303,307,308]),oS=new Set([307,308]),gc={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},aS={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Is={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},g0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lS=e=>({hasErrorBoundary:!!e.hasErrorBoundary});function uS(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",r=!n;te(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(e.mapRouteProperties)i=e.mapRouteProperties;else if(e.detectErrorBoundary){let I=e.detectErrorBoundary;i=C=>({hasErrorBoundary:I(C)})}else i=lS;let s={},o=kh(e.routes,i,void 0,s),a,l=e.basename||"/",u=Pe({v7_normalizeFormMethod:!1,v7_prependBasename:!1},e.future),c=null,h=new Set,d=null,g=null,E=null,_=e.hydrationData!=null,w=Ti(o,e.history.location,l),f=null;if(w==null){let I=Bt(404,{pathname:e.history.location.pathname}),{matches:C,route:x}=Fm(o);w=C,f={[x.id]:I}}let p=!w.some(I=>I.route.lazy)&&(!w.some(I=>I.route.loader)||e.hydrationData!=null),v,m={historyAction:e.history.action,location:e.history.location,matches:w,initialized:p,navigation:gc,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||f,fetchers:new Map,blockers:new Map},T=Ue.Pop,R=!1,A,k=!1,$=!1,M=[],se=[],W=new Map,de=0,ae=-1,U=new Map,z=new Set,ee=new Map,P=new Map,O=new Map,H=!1;function fe(){return c=e.history.listen(I=>{let{action:C,location:x,delta:j}=I;if(H){H=!1;return}qi(O.size===0||j!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let J=pp({currentLocation:m.location,nextLocation:x,historyAction:C});if(J&&j!=null){H=!0,e.history.go(j*-1),oa(J,{state:"blocked",location:x,proceed(){oa(J,{state:"proceeding",proceed:void 0,reset:void 0,location:x}),e.history.go(j)},reset(){let G=new Map(m.blockers);G.set(J,Is),me({blockers:G})}});return}return re(C,x)}),m.initialized||re(Ue.Pop,m.location),v}function Ae(){c&&c(),h.clear(),A&&A.abort(),m.fetchers.forEach((I,C)=>Ou(C)),m.blockers.forEach((I,C)=>fp(C))}function cn(I){return h.add(I),()=>h.delete(I)}function me(I){m=Pe({},m,I),h.forEach(C=>C(m))}function Yt(I,C){var x,j;let J=m.actionData!=null&&m.navigation.formMethod!=null&&rn(m.navigation.formMethod)&&m.navigation.state==="loading"&&((x=I.state)==null?void 0:x._isRedirect)!==!0,G;C.actionData?Object.keys(C.actionData).length>0?G=C.actionData:G=null:J?G=m.actionData:G=null;let Y=C.loaderData?Om(m.loaderData,C.loaderData,C.matches||[],C.errors):m.loaderData,Q=m.blockers;Q.size>0&&(Q=new Map(Q),Q.forEach((Te,at)=>Q.set(at,Is)));let b=R===!0||m.navigation.formMethod!=null&&rn(m.navigation.formMethod)&&((j=I.state)==null?void 0:j._isRedirect)!==!0;a&&(o=a,a=void 0),k||T===Ue.Pop||(T===Ue.Push?e.history.push(I,I.state):T===Ue.Replace&&e.history.replace(I,I.state)),me(Pe({},C,{actionData:G,loaderData:Y,historyAction:T,location:I,initialized:!0,navigation:gc,revalidation:"idle",restoreScrollPosition:gp(I,C.matches||m.matches),preventScrollReset:b,blockers:Q})),T=Ue.Pop,R=!1,k=!1,$=!1,M=[],se=[]}async function zt(I,C){if(typeof I=="number"){e.history.go(I);return}let x=Nh(m.location,m.matches,l,u.v7_prependBasename,I,C==null?void 0:C.fromRouteId,C==null?void 0:C.relative),{path:j,submission:J,error:G}=km(u.v7_normalizeFormMethod,!1,x,C),Y=m.location,Q=To(m.location,j,C&&C.state);Q=Pe({},Q,e.history.encodeLocation(Q));let b=C&&C.replace!=null?C.replace:void 0,Te=Ue.Push;b===!0?Te=Ue.Replace:b===!1||J!=null&&rn(J.formMethod)&&J.formAction===m.location.pathname+m.location.search&&(Te=Ue.Replace);let at=C&&"preventScrollReset"in C?C.preventScrollReset===!0:void 0,Ee=pp({currentLocation:Y,nextLocation:Q,historyAction:Te});if(Ee){oa(Ee,{state:"blocked",location:Q,proceed(){oa(Ee,{state:"proceeding",proceed:void 0,reset:void 0,location:Q}),zt(I,C)},reset(){let Oe=new Map(m.blockers);Oe.set(Ee,Is),me({blockers:Oe})}});return}return await re(Te,Q,{submission:J,pendingError:G,preventScrollReset:at,replace:C&&C.replace})}function bn(){if(Mu(),me({revalidation:"loading"}),m.navigation.state!=="submitting"){if(m.navigation.state==="idle"){re(m.historyAction,m.location,{startUninterruptedRevalidation:!0});return}re(T||m.historyAction,m.navigation.location,{overrideNavigation:m.navigation})}}async function re(I,C,x){A&&A.abort(),A=null,T=I,k=(x&&x.startUninterruptedRevalidation)===!0,eE(m.location,m.matches),R=(x&&x.preventScrollReset)===!0;let j=a||o,J=x&&x.overrideNavigation,G=Ti(j,C,l);if(!G){let Oe=Bt(404,{pathname:C.pathname}),{matches:Ge,route:Cr}=Fm(j);Fu(),Yt(C,{matches:Ge,loaderData:{},errors:{[Cr.id]:Oe}});return}if(m.initialized&&!$&&pS(m.location,C)&&!(x&&x.submission&&rn(x.submission.formMethod))){Yt(C,{matches:G});return}A=new AbortController;let Y=Rs(e.history,C,A.signal,x&&x.submission),Q,b;if(x&&x.pendingError)b={[Si(G).route.id]:x.pendingError};else if(x&&x.submission&&rn(x.submission.formMethod)){let Oe=await Jt(Y,C,x.submission,G,{replace:x.replace});if(Oe.shortCircuited)return;Q=Oe.pendingActionData,b=Oe.pendingActionError,J=Ca(C,x.submission),Y=new Request(Y.url,{signal:Y.signal})}let{shortCircuited:Te,loaderData:at,errors:Ee}=await Q_(Y,C,G,J,x&&x.submission,x&&x.fetcherSubmission,x&&x.replace,Q,b);Te||(A=null,Yt(C,Pe({matches:G},Q?{actionData:Q}:{},{loaderData:at,errors:Ee})))}async function Jt(I,C,x,j,J){J===void 0&&(J={}),Mu();let G=_S(C,x);me({navigation:G});let Y,Q=Lh(j,C);if(!Q.route.action&&!Q.route.lazy)Y={type:He.error,error:Bt(405,{method:I.method,pathname:C.pathname,routeId:Q.route.id})};else if(Y=await Cs("action",I,Q,j,s,i,l),I.signal.aborted)return{shortCircuited:!0};if(Ni(Y)){let b;return J&&J.replace!=null?b=J.replace:b=Y.location===m.location.pathname+m.location.search,await fs(m,Y,{submission:x,replace:b}),{shortCircuited:!0}}if(Xs(Y)){let b=Si(j,Q.route.id);return(J&&J.replace)!==!0&&(T=Ue.Push),{pendingActionData:{},pendingActionError:{[b.route.id]:Y.error}}}if(Vr(Y))throw Bt(400,{type:"defer-action"});return{pendingActionData:{[Q.route.id]:Y.data}}}async function Q_(I,C,x,j,J,G,Y,Q,b){let Te=j||Ca(C,J),at=J||G||Um(Te),Ee=a||o,[Oe,Ge]=Nm(e.history,m,x,at,C,$,M,se,ee,z,Ee,l,Q,b);if(Fu(we=>!(x&&x.some(Zt=>Zt.route.id===we))||Oe&&Oe.some(Zt=>Zt.route.id===we)),ae=++de,Oe.length===0&&Ge.length===0){let we=hp();return Yt(C,Pe({matches:x,loaderData:{},errors:b||null},Q?{actionData:Q}:{},we?{fetchers:new Map(m.fetchers)}:{})),{shortCircuited:!0}}if(!k){Ge.forEach(Zt=>{let qn=m.fetchers.get(Zt.key),Bu=As(void 0,qn?qn.data:void 0);m.fetchers.set(Zt.key,Bu)});let we=Q||m.actionData;me(Pe({navigation:Te},we?Object.keys(we).length===0?{actionData:null}:{actionData:we}:{},Ge.length>0?{fetchers:new Map(m.fetchers)}:{}))}Ge.forEach(we=>{W.has(we.key)&&Hn(we.key),we.controller&&W.set(we.key,we.controller)});let Cr=()=>Ge.forEach(we=>Hn(we.key));A&&A.signal.addEventListener("abort",Cr);let{results:Rr,loaderResults:ps,fetcherResults:ju}=await up(m.matches,x,Oe,Ge,I);if(I.signal.aborted)return{shortCircuited:!0};A&&A.signal.removeEventListener("abort",Cr),Ge.forEach(we=>W.delete(we.key));let Sn=jm(Rr);if(Sn){if(Sn.idx>=Oe.length){let we=Ge[Sn.idx-Oe.length].key;z.add(we)}return await fs(m,Sn.result,{replace:Y}),{shortCircuited:!0}}let{loaderData:In,errors:aa}=Mm(m,x,Oe,ps,b,Ge,ju,P);P.forEach((we,Zt)=>{we.subscribe(qn=>{(qn||we.done)&&P.delete(Zt)})});let $u=hp(),Uu=dp(ae),zu=$u||Uu||Ge.length>0;return Pe({loaderData:In,errors:aa},zu?{fetchers:new Map(m.fetchers)}:{})}function lp(I){return m.fetchers.get(I)||aS}function G_(I,C,x,j){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");W.has(I)&&Hn(I);let J=a||o,G=Nh(m.location,m.matches,l,u.v7_prependBasename,x,C,j==null?void 0:j.relative),Y=Ti(J,G,l);if(!Y){sa(I,C,Bt(404,{pathname:G}));return}let{path:Q,submission:b,error:Te}=km(u.v7_normalizeFormMethod,!0,G,j);if(Te){sa(I,C,Te);return}let at=Lh(Y,Q);if(R=(j&&j.preventScrollReset)===!0,b&&rn(b.formMethod)){X_(I,C,Q,at,Y,b);return}ee.set(I,{routeId:C,path:Q}),Y_(I,C,Q,at,Y,b)}async function X_(I,C,x,j,J,G){if(Mu(),ee.delete(I),!j.route.action&&!j.route.lazy){let be=Bt(405,{method:G.formMethod,pathname:x,routeId:C});sa(I,C,be);return}let Y=m.fetchers.get(I),Q=ES(G,Y);m.fetchers.set(I,Q),me({fetchers:new Map(m.fetchers)});let b=new AbortController,Te=Rs(e.history,x,b.signal,G);W.set(I,b);let at=de,Ee=await Cs("action",Te,j,J,s,i,l);if(Te.signal.aborted){W.get(I)===b&&W.delete(I);return}if(Ni(Ee))if(W.delete(I),ae>at){let be=ai(void 0);m.fetchers.set(I,be),me({fetchers:new Map(m.fetchers)});return}else{z.add(I);let be=As(G);return m.fetchers.set(I,be),me({fetchers:new Map(m.fetchers)}),fs(m,Ee,{submission:G,isFetchActionRedirect:!0})}if(Xs(Ee)){sa(I,C,Ee.error);return}if(Vr(Ee))throw Bt(400,{type:"defer-action"});let Oe=m.navigation.location||m.location,Ge=Rs(e.history,Oe,b.signal),Cr=a||o,Rr=m.navigation.state!=="idle"?Ti(Cr,m.navigation.location,l):m.matches;te(Rr,"Didn't find any matches after fetcher action");let ps=++de;U.set(I,ps);let ju=As(G,Ee.data);m.fetchers.set(I,ju);let[Sn,In]=Nm(e.history,m,Rr,G,Oe,$,M,se,ee,z,Cr,l,{[j.route.id]:Ee.data},void 0);In.filter(be=>be.key!==I).forEach(be=>{let ms=be.key,yp=m.fetchers.get(ms),nE=As(void 0,yp?yp.data:void 0);m.fetchers.set(ms,nE),W.has(ms)&&Hn(ms),be.controller&&W.set(ms,be.controller)}),me({fetchers:new Map(m.fetchers)});let aa=()=>In.forEach(be=>Hn(be.key));b.signal.addEventListener("abort",aa);let{results:$u,loaderResults:Uu,fetcherResults:zu}=await up(m.matches,Rr,Sn,In,Ge);if(b.signal.aborted)return;b.signal.removeEventListener("abort",aa),U.delete(I),W.delete(I),In.forEach(be=>W.delete(be.key));let we=jm($u);if(we){if(we.idx>=Sn.length){let be=In[we.idx-Sn.length].key;z.add(be)}return fs(m,we.result)}let{loaderData:Zt,errors:qn}=Mm(m,m.matches,Sn,Uu,void 0,In,zu,P);if(m.fetchers.has(I)){let be=ai(Ee.data);m.fetchers.set(I,be)}let Bu=dp(ps);m.navigation.state==="loading"&&ps>ae?(te(T,"Expected pending action"),A&&A.abort(),Yt(m.navigation.location,{matches:Rr,loaderData:Zt,errors:qn,fetchers:new Map(m.fetchers)})):(me(Pe({errors:qn,loaderData:Om(m.loaderData,Zt,Rr,qn)},Bu||In.length>0?{fetchers:new Map(m.fetchers)}:{})),$=!1)}async function Y_(I,C,x,j,J,G){let Y=m.fetchers.get(I),Q=As(G,Y?Y.data:void 0);m.fetchers.set(I,Q),me({fetchers:new Map(m.fetchers)});let b=new AbortController,Te=Rs(e.history,x,b.signal);W.set(I,b);let at=de,Ee=await Cs("loader",Te,j,J,s,i,l);if(Vr(Ee)&&(Ee=await _0(Ee,Te.signal,!0)||Ee),W.get(I)===b&&W.delete(I),Te.signal.aborted)return;if(Ni(Ee))if(ae>at){let Ge=ai(void 0);m.fetchers.set(I,Ge),me({fetchers:new Map(m.fetchers)});return}else{z.add(I),await fs(m,Ee);return}if(Xs(Ee)){let Ge=Si(m.matches,C);m.fetchers.delete(I),me({fetchers:new Map(m.fetchers),errors:{[Ge.route.id]:Ee.error}});return}te(!Vr(Ee),"Unhandled fetcher deferred data");let Oe=ai(Ee.data);m.fetchers.set(I,Oe),me({fetchers:new Map(m.fetchers)})}async function fs(I,C,x){let{submission:j,replace:J,isFetchActionRedirect:G}=x===void 0?{}:x;C.revalidate&&($=!0);let Y=To(I.location,C.location,Pe({_isRedirect:!0},G?{_isFetchActionRedirect:!0}:{}));if(te(Y,"Expected a location on the redirect navigation"),g0.test(C.location)&&n){let Te=e.history.createURL(C.location),at=is(Te.pathname,l)==null;if(t.location.origin!==Te.origin||at){J?t.location.replace(C.location):t.location.assign(C.location);return}}A=null;let Q=J===!0?Ue.Replace:Ue.Push,b=j||Um(I.navigation);if(oS.has(C.status)&&b&&rn(b.formMethod))await re(Q,Y,{submission:Pe({},b,{formAction:C.location}),preventScrollReset:R});else if(G)await re(Q,Y,{overrideNavigation:Ca(Y),fetcherSubmission:b,preventScrollReset:R});else{let Te=Ca(Y,b);await re(Q,Y,{overrideNavigation:Te,preventScrollReset:R})}}async function up(I,C,x,j,J){let G=await Promise.all([...x.map(b=>Cs("loader",J,b,C,s,i,l)),...j.map(b=>b.matches&&b.match&&b.controller?Cs("loader",Rs(e.history,b.path,b.controller.signal),b.match,b.matches,s,i,l):{type:He.error,error:Bt(404,{pathname:b.path})})]),Y=G.slice(0,x.length),Q=G.slice(x.length);return await Promise.all([$m(I,x,Y,Y.map(()=>J.signal),!1,m.loaderData),$m(I,j.map(b=>b.match),Q,j.map(b=>b.controller?b.controller.signal:null),!0)]),{results:G,loaderResults:Y,fetcherResults:Q}}function Mu(){$=!0,M.push(...Fu()),ee.forEach((I,C)=>{W.has(C)&&(se.push(C),Hn(C))})}function sa(I,C,x){let j=Si(m.matches,C);Ou(I),me({errors:{[j.route.id]:x},fetchers:new Map(m.fetchers)})}function Ou(I){let C=m.fetchers.get(I);W.has(I)&&!(C&&C.state==="loading"&&U.has(I))&&Hn(I),ee.delete(I),U.delete(I),z.delete(I),m.fetchers.delete(I)}function Hn(I){let C=W.get(I);te(C,"Expected fetch controller: "+I),C.abort(),W.delete(I)}function cp(I){for(let C of I){let x=lp(C),j=ai(x.data);m.fetchers.set(C,j)}}function hp(){let I=[],C=!1;for(let x of z){let j=m.fetchers.get(x);te(j,"Expected fetcher: "+x),j.state==="loading"&&(z.delete(x),I.push(x),C=!0)}return cp(I),C}function dp(I){let C=[];for(let[x,j]of U)if(j<I){let J=m.fetchers.get(x);te(J,"Expected fetcher: "+x),J.state==="loading"&&(Hn(x),U.delete(x),C.push(x))}return cp(C),C.length>0}function J_(I,C){let x=m.blockers.get(I)||Is;return O.get(I)!==C&&O.set(I,C),x}function fp(I){m.blockers.delete(I),O.delete(I)}function oa(I,C){let x=m.blockers.get(I)||Is;te(x.state==="unblocked"&&C.state==="blocked"||x.state==="blocked"&&C.state==="blocked"||x.state==="blocked"&&C.state==="proceeding"||x.state==="blocked"&&C.state==="unblocked"||x.state==="proceeding"&&C.state==="unblocked","Invalid blocker state transition: "+x.state+" -> "+C.state);let j=new Map(m.blockers);j.set(I,C),me({blockers:j})}function pp(I){let{currentLocation:C,nextLocation:x,historyAction:j}=I;if(O.size===0)return;O.size>1&&qi(!1,"A router only supports one blocker at a time");let J=Array.from(O.entries()),[G,Y]=J[J.length-1],Q=m.blockers.get(G);if(!(Q&&Q.state==="proceeding")&&Y({currentLocation:C,nextLocation:x,historyAction:j}))return G}function Fu(I){let C=[];return P.forEach((x,j)=>{(!I||I(j))&&(x.cancel(),C.push(j),P.delete(j))}),C}function Z_(I,C,x){if(d=I,E=C,g=x||null,!_&&m.navigation===gc){_=!0;let j=gp(m.location,m.matches);j!=null&&me({restoreScrollPosition:j})}return()=>{d=null,E=null,g=null}}function mp(I,C){return g&&g(I,C.map(j=>vS(j,m.loaderData)))||I.key}function eE(I,C){if(d&&E){let x=mp(I,C);d[x]=E()}}function gp(I,C){if(d){let x=mp(I,C),j=d[x];if(typeof j=="number")return j}return null}function tE(I){s={},a=kh(I,i,void 0,s)}return v={get basename(){return l},get state(){return m},get routes(){return o},initialize:fe,subscribe:cn,enableScrollRestoration:Z_,navigate:zt,fetch:G_,revalidate:bn,createHref:I=>e.history.createHref(I),encodeLocation:I=>e.history.encodeLocation(I),getFetcher:lp,deleteFetcher:Ou,dispose:Ae,getBlocker:J_,deleteBlocker:fp,_internalFetchControllers:W,_internalActiveDeferreds:P,_internalSetRoutes:tE},v}function cS(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function Nh(e,t,n,r,i,s,o){let a,l;if(s!=null&&o!=="path"){a=[];for(let c of t)if(a.push(c),c.route.id===s){l=c;break}}else a=t,l=t[t.length-1];let u=ru(i||".",Ho(a).map(c=>c.pathnameBase),is(e.pathname,n)||e.pathname,o==="path");return i==null&&(u.search=e.search,u.hash=e.hash),(i==null||i===""||i===".")&&l&&l.route.index&&!cf(u.search)&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:Nn([n,u.pathname])),Wr(u)}function km(e,t,n,r){if(!r||!cS(r))return{path:n};if(r.formMethod&&!yS(r.formMethod))return{path:n,error:Bt(405,{method:r.formMethod})};let i=()=>({path:n,error:Bt(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=e?s.toUpperCase():s.toLowerCase(),a=v0(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!rn(o))return i();let d=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((g,E)=>{let[_,w]=E;return""+g+_+"="+w+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:d}}}else if(r.formEncType==="application/json"){if(!rn(o))return i();try{let d=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:d,text:void 0}}}catch{return i()}}}te(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=Dh(r.formData),u=r.formData;else if(r.body instanceof FormData)l=Dh(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=Vm(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=Vm(l)}catch{return i()}let c={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(rn(c.formMethod))return{path:n,submission:c};let h=Un(n);return t&&h.search&&cf(h.search)&&l.append("index",""),h.search="?"+l,{path:Wr(h),submission:c}}function hS(e,t){let n=e;if(t){let r=e.findIndex(i=>i.route.id===t);r>=0&&(n=e.slice(0,r))}return n}function Nm(e,t,n,r,i,s,o,a,l,u,c,h,d,g){let E=g?Object.values(g)[0]:d?Object.values(d)[0]:void 0,_=e.createURL(t.location),w=e.createURL(i),f=g?Object.keys(g)[0]:void 0,v=hS(n,f).filter((T,R)=>{if(T.route.lazy)return!0;if(T.route.loader==null)return!1;if(dS(t.loaderData,t.matches[R],T)||o.some($=>$===T.route.id))return!0;let A=t.matches[R],k=T;return Dm(T,Pe({currentUrl:_,currentParams:A.params,nextUrl:w,nextParams:k.params},r,{actionResult:E,defaultShouldRevalidate:s||_.pathname+_.search===w.pathname+w.search||_.search!==w.search||y0(A,k)}))}),m=[];return l.forEach((T,R)=>{if(!n.some(se=>se.route.id===T.routeId))return;let A=Ti(c,T.path,h);if(!A){m.push({key:R,routeId:T.routeId,path:T.path,matches:null,match:null,controller:null});return}let k=t.fetchers.get(R),$=Lh(A,T.path),M=!1;u.has(R)?M=!1:a.includes(R)?M=!0:k&&k.state!=="idle"&&k.data===void 0?M=s:M=Dm($,Pe({currentUrl:_,currentParams:t.matches[t.matches.length-1].params,nextUrl:w,nextParams:n[n.length-1].params},r,{actionResult:E,defaultShouldRevalidate:s})),M&&m.push({key:R,routeId:T.routeId,path:T.path,matches:A,match:$,controller:new AbortController})}),[v,m]}function dS(e,t,n){let r=!t||n.route.id!==t.route.id,i=e[n.route.id]===void 0;return r||i}function y0(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function Dm(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}async function Lm(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let i=n[e.id];te(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";qi(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!MT.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,Pe({},t(i),{lazy:void 0}))}async function Cs(e,t,n,r,i,s,o,a){a===void 0&&(a={});let l,u,c,h=E=>{let _,w=new Promise((f,p)=>_=p);return c=()=>_(),t.signal.addEventListener("abort",c),Promise.race([E({request:t,params:n.params,context:a.requestContext}),w])};try{let E=n.route[e];if(n.route.lazy)if(E)u=(await Promise.all([h(E),Lm(n.route,s,i)]))[0];else if(await Lm(n.route,s,i),E=n.route[e],E)u=await h(E);else if(e==="action"){let _=new URL(t.url),w=_.pathname+_.search;throw Bt(405,{method:t.method,pathname:w,routeId:n.route.id})}else return{type:He.data,data:void 0};else if(E)u=await h(E);else{let _=new URL(t.url),w=_.pathname+_.search;throw Bt(404,{pathname:w})}te(u!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(E){l=He.error,u=E}finally{c&&t.signal.removeEventListener("abort",c)}if(gS(u)){let E=u.status;if(sS.has(E)){let f=u.headers.get("Location");if(te(f,"Redirects returned/thrown from loaders/actions must have a Location header"),!g0.test(f))f=Nh(new URL(t.url),r.slice(0,r.indexOf(n)+1),o,!0,f);else if(!a.isStaticRequest){let p=new URL(t.url),v=f.startsWith("//")?new URL(p.protocol+f):new URL(f),m=is(v.pathname,o)!=null;v.origin===p.origin&&m&&(f=v.pathname+v.search+v.hash)}if(a.isStaticRequest)throw u.headers.set("Location",f),u;return{type:He.redirect,status:E,location:f,revalidate:u.headers.get("X-Remix-Revalidate")!==null}}if(a.isRouteRequest)throw{type:l||He.data,response:u};let _,w=u.headers.get("Content-Type");return w&&/\bapplication\/json\b/.test(w)?_=await u.json():_=await u.text(),l===He.error?{type:l,error:new uf(E,u.statusText,_),headers:u.headers}:{type:He.data,data:_,statusCode:u.status,headers:u.headers}}if(l===He.error)return{type:l,error:u};if(mS(u)){var d,g;return{type:He.deferred,deferredData:u,statusCode:(d=u.init)==null?void 0:d.status,headers:((g=u.init)==null?void 0:g.headers)&&new Headers(u.init.headers)}}return{type:He.data,data:u}}function Rs(e,t,n,r){let i=e.createURL(v0(t)).toString(),s={signal:n};if(r&&rn(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=Dh(r.formData):s.body=r.formData}return new Request(i,s)}function Dh(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function Vm(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function fS(e,t,n,r,i){let s={},o=null,a,l=!1,u={};return n.forEach((c,h)=>{let d=t[h].route.id;if(te(!Ni(c),"Cannot handle redirect results in processLoaderData"),Xs(c)){let g=Si(e,d),E=c.error;r&&(E=Object.values(r)[0],r=void 0),o=o||{},o[g.route.id]==null&&(o[g.route.id]=E),s[d]=void 0,l||(l=!0,a=p0(c.error)?c.error.status:500),c.headers&&(u[d]=c.headers)}else Vr(c)?(i.set(d,c.deferredData),s[d]=c.deferredData.data):s[d]=c.data,c.statusCode!=null&&c.statusCode!==200&&!l&&(a=c.statusCode),c.headers&&(u[d]=c.headers)}),r&&(o=r,s[Object.keys(r)[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:u}}function Mm(e,t,n,r,i,s,o,a){let{loaderData:l,errors:u}=fS(t,n,r,i,a);for(let c=0;c<s.length;c++){let{key:h,match:d,controller:g}=s[c];te(o!==void 0&&o[c]!==void 0,"Did not find corresponding fetcher result");let E=o[c];if(!(g&&g.signal.aborted))if(Xs(E)){let _=Si(e.matches,d==null?void 0:d.route.id);u&&u[_.route.id]||(u=Pe({},u,{[_.route.id]:E.error})),e.fetchers.delete(h)}else if(Ni(E))te(!1,"Unhandled fetcher revalidation redirect");else if(Vr(E))te(!1,"Unhandled fetcher deferred data");else{let _=ai(E.data);e.fetchers.set(h,_)}}return{loaderData:l,errors:u}}function Om(e,t,n,r){let i=Pe({},t);for(let s of n){let o=s.route.id;if(t.hasOwnProperty(o)?t[o]!==void 0&&(i[o]=t[o]):e[o]!==void 0&&s.route.loader&&(i[o]=e[o]),r&&r.hasOwnProperty(o))break}return i}function Si(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function Fm(e){let t=e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Bt(e,t){let{pathname:n,routeId:r,method:i,type:s}=t===void 0?{}:t,o="Unknown Server Error",a="Unknown @remix-run/router error";return e===400?(o="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?a="defer() is not supported in actions":s==="invalid-body"&&(a="Unable to encode submission body")):e===403?(o="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):e===404?(o="Not Found",a='No route matches URL "'+n+'"'):e===405&&(o="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new uf(e||500,o,new Error(a),!0)}function jm(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(Ni(n))return{result:n,idx:t}}}function v0(e){let t=typeof e=="string"?Un(e):e;return Wr(Pe({},t,{hash:""}))}function pS(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function Vr(e){return e.type===He.deferred}function Xs(e){return e.type===He.error}function Ni(e){return(e&&e.type)===He.redirect}function mS(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function gS(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function yS(e){return iS.has(e.toLowerCase())}function rn(e){return nS.has(e.toLowerCase())}async function $m(e,t,n,r,i,s){for(let o=0;o<n.length;o++){let a=n[o],l=t[o];if(!l)continue;let u=e.find(h=>h.route.id===l.route.id),c=u!=null&&!y0(u,l)&&(s&&s[l.route.id])!==void 0;if(Vr(a)&&(i||c)){let h=r[o];te(h,"Expected an AbortSignal for revalidating fetcher deferred result"),await _0(a,h,i).then(d=>{d&&(n[o]=d||n[o])})}}}async function _0(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:He.data,data:e.deferredData.unwrappedData}}catch(i){return{type:He.error,error:i}}return{type:He.data,data:e.deferredData.data}}}function cf(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function vS(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function Lh(e,t){let n=typeof t=="string"?Un(t).search:t.search;if(e[e.length-1].route.index&&cf(n||""))return e[e.length-1];let r=Ho(e);return r[r.length-1]}function Um(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:s,json:o}=e;if(!(!t||!n||!r)){if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:t,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function Ca(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function _S(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function As(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t," _hasFetcherDoneAnything ":!0}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t," _hasFetcherDoneAnything ":!0}}function ES(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0," _hasFetcherDoneAnything ":!0}}function ai(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e," _hasFetcherDoneAnything ":!0}}/**
 * React Router v6.14.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cl(){return Cl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cl.apply(this,arguments)}const iu=S.createContext(null),hf=S.createContext(null),ni=S.createContext(null),su=S.createContext(null),zn=S.createContext({outlet:null,matches:[],isDataRoute:!1}),E0=S.createContext(null);function wS(e,t){let{relative:n}=t===void 0?{}:t;ss()||te(!1);let{basename:r,navigator:i}=S.useContext(ni),{hash:s,pathname:o,search:a}=df(e,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Nn([r,o])),i.createHref({pathname:l,search:a,hash:s})}function ss(){return S.useContext(su)!=null}function Bn(){return ss()||te(!1),S.useContext(su).location}function w0(e){S.useContext(ni).static||S.useLayoutEffect(e)}function ou(){let{isDataRoute:e}=S.useContext(zn);return e?LS():TS()}function TS(){ss()||te(!1);let e=S.useContext(iu),{basename:t,navigator:n}=S.useContext(ni),{matches:r}=S.useContext(zn),{pathname:i}=Bn(),s=JSON.stringify(Ho(r).map(l=>l.pathnameBase)),o=S.useRef(!1);return w0(()=>{o.current=!0}),S.useCallback(function(l,u){if(u===void 0&&(u={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let c=ru(l,JSON.parse(s),i,u.relative==="path");e==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:Nn([t,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[t,n,s,i,e])}const SS=S.createContext(null);function IS(e){let t=S.useContext(zn).outlet;return t&&S.createElement(SS.Provider,{value:e},t)}function df(e,t){let{relative:n}=t===void 0?{}:t,{matches:r}=S.useContext(zn),{pathname:i}=Bn(),s=JSON.stringify(Ho(r).map(o=>o.pathnameBase));return S.useMemo(()=>ru(e,JSON.parse(s),i,n==="path"),[e,s,i,n])}function CS(e,t,n){ss()||te(!1);let{navigator:r}=S.useContext(ni),{matches:i}=S.useContext(zn),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=Bn(),u;if(t){var c;let _=typeof t=="string"?Un(t):t;a==="/"||(c=_.pathname)!=null&&c.startsWith(a)||te(!1),u=_}else u=l;let h=u.pathname||"/",d=a==="/"?h:h.slice(a.length)||"/",g=Ti(e,{pathname:d}),E=kS(g&&g.map(_=>Object.assign({},_,{params:Object.assign({},o,_.params),pathname:Nn([a,r.encodeLocation?r.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?a:Nn([a,r.encodeLocation?r.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,n);return t&&E?S.createElement(su.Provider,{value:{location:Cl({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Ue.Pop}},E):E}function RS(){let e=S0(),t=p0(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},t),n?S.createElement("pre",{style:i},n):null,s)}const AS=S.createElement(RS,null);class PS extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?S.createElement(zn.Provider,{value:this.props.routeContext},S.createElement(E0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function xS(e){let{routeContext:t,match:n,children:r}=e,i=S.useContext(iu);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(zn.Provider,{value:t},r)}function kS(e,t,n){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),e==null){var i;if((i=n)!=null&&i.errors)e=n.matches;else return null}let s=e,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=s.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||te(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,l,u)=>{let c=l.route.id?o==null?void 0:o[l.route.id]:null,h=null;n&&(h=l.route.errorElement||AS);let d=t.concat(s.slice(0,u+1)),g=()=>{let E;return c?E=h:l.route.Component?E=S.createElement(l.route.Component,null):l.route.element?E=l.route.element:E=a,S.createElement(xS,{match:l,routeContext:{outlet:a,matches:d,isDataRoute:n!=null},children:E})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?S.createElement(PS,{location:n.location,revalidation:n.revalidation,component:h,error:c,children:g(),routeContext:{outlet:null,matches:d,isDataRoute:!0}}):g()},null)}var Vh;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"})(Vh||(Vh={}));var Qr;(function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"})(Qr||(Qr={}));function NS(e){let t=S.useContext(iu);return t||te(!1),t}function T0(e){let t=S.useContext(hf);return t||te(!1),t}function DS(e){let t=S.useContext(zn);return t||te(!1),t}function ff(e){let t=DS(),n=t.matches[t.matches.length-1];return n.route.id||te(!1),n.route.id}function ri(){let e=T0(Qr.UseLoaderData),t=ff(Qr.UseLoaderData);if(e.errors&&e.errors[t]!=null){console.error("You cannot `useLoaderData` in an errorElement (routeId: "+t+")");return}return e.loaderData[t]}function S0(){var e;let t=S.useContext(E0),n=T0(Qr.UseRouteError),r=ff(Qr.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function LS(){let{router:e}=NS(Vh.UseNavigateStable),t=ff(Qr.UseNavigateStable),n=S.useRef(!1);return w0(()=>{n.current=!0}),S.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Cl({fromRouteId:t},s)))},[e,t])}const VS="startTransition",zm=EE[VS];function MS(e){let{fallbackElement:t,router:n,future:r}=e,[i,s]=S.useState(n.state),{v7_startTransition:o}=r||{},a=S.useCallback(h=>{o&&zm?zm(()=>s(h)):s(h)},[s,o]);S.useLayoutEffect(()=>n.subscribe(a),[n,a]);let l=S.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:h=>n.navigate(h),push:(h,d,g)=>n.navigate(h,{state:d,preventScrollReset:g==null?void 0:g.preventScrollReset}),replace:(h,d,g)=>n.navigate(h,{replace:!0,state:d,preventScrollReset:g==null?void 0:g.preventScrollReset})}),[n]),u=n.basename||"/",c=S.useMemo(()=>({router:n,navigator:l,static:!1,basename:u}),[n,l,u]);return S.createElement(S.Fragment,null,S.createElement(iu.Provider,{value:c},S.createElement(hf.Provider,{value:i},S.createElement(FS,{basename:u,location:i.location,navigationType:i.historyAction,navigator:l},i.initialized?S.createElement(OS,{routes:n.routes,state:i}):t))),null)}function OS(e){let{routes:t,state:n}=e;return CS(t,void 0,n)}function I0(e){let{to:t,replace:n,state:r,relative:i}=e;ss()||te(!1);let{matches:s}=S.useContext(zn),{pathname:o}=Bn(),a=ou(),l=ru(t,Ho(s).map(c=>c.pathnameBase),o,i==="path"),u=JSON.stringify(l);return S.useEffect(()=>a(JSON.parse(u),{replace:n,state:r,relative:i}),[a,u,i,n,r]),null}function C0(e){return IS(e.context)}function It(e){te(!1)}function FS(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Ue.Pop,navigator:s,static:o=!1}=e;ss()&&te(!1);let a=t.replace(/^\/*/,"/"),l=S.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=Un(r));let{pathname:u="/",search:c="",hash:h="",state:d=null,key:g="default"}=r,E=S.useMemo(()=>{let _=is(u,a);return _==null?null:{location:{pathname:_,search:c,hash:h,state:d,key:g},navigationType:i}},[a,u,c,h,d,g,i]);return E==null?null:S.createElement(ni.Provider,{value:l},S.createElement(su.Provider,{children:n,value:E}))}var Bm;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(Bm||(Bm={}));new Promise(()=>{});function Mh(e,t){t===void 0&&(t=[]);let n=[];return S.Children.forEach(e,(r,i)=>{if(!S.isValidElement(r))return;let s=[...t,i];if(r.type===S.Fragment){n.push.apply(n,Mh(r.props.children,s));return}r.type!==It&&te(!1),!r.props.index||!r.props.children||te(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Mh(r.props.children,s)),n.push(o)}),n}function jS(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:S.createElement(e.Component),Component:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:S.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.14.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ki(){return Ki=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ki.apply(this,arguments)}function R0(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function $S(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function US(e,t){return e.button===0&&(!t||t==="_self")&&!$S(e)}function Oh(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function zS(e,t){let n=Oh(e);if(t)for(let r of t.keys())n.has(r)||t.getAll(r).forEach(i=>{n.append(r,i)});return n}const BS=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],bS=["aria-current","caseSensitive","className","end","style","to","children"];function HS(e,t){return uS({basename:t==null?void 0:t.basename,future:Ki({},t==null?void 0:t.future,{v7_prependBasename:!0}),history:DT({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||qS(),routes:e,mapRouteProperties:jS}).initialize()}function qS(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=Ki({},t,{errors:KS(t.errors)})),t}function KS(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&i.__type==="RouteErrorResponse")n[r]=new uf(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const WS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",QS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rt=S.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c}=t,h=R0(t,BS),{basename:d}=S.useContext(ni),g,E=!1;if(typeof u=="string"&&QS.test(u)&&(g=u,WS))try{let p=new URL(window.location.href),v=u.startsWith("//")?new URL(p.protocol+u):new URL(u),m=is(v.pathname,d);v.origin===p.origin&&m!=null?u=m+v.search+v.hash:E=!0}catch{}let _=wS(u,{relative:i}),w=GS(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i});function f(p){r&&r(p),p.defaultPrevented||w(p)}return S.createElement("a",Ki({},h,{href:g||_,onClick:E||s?r:f,ref:n,target:l}))}),Vs=S.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,children:u}=t,c=R0(t,bS),h=df(l,{relative:c.relative}),d=Bn(),g=S.useContext(hf),{navigator:E}=S.useContext(ni),_=E.encodeLocation?E.encodeLocation(h).pathname:h.pathname,w=d.pathname,f=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;i||(w=w.toLowerCase(),f=f?f.toLowerCase():null,_=_.toLowerCase());let p=w===_||!o&&w.startsWith(_)&&w.charAt(_.length)==="/",v=f!=null&&(f===_||!o&&f.startsWith(_)&&f.charAt(_.length)==="/"),m=p?r:void 0,T;typeof s=="function"?T=s({isActive:p,isPending:v}):T=[s,p?"active":null,v?"pending":null].filter(Boolean).join(" ");let R=typeof a=="function"?a({isActive:p,isPending:v}):a;return S.createElement(Rt,Ki({},c,{"aria-current":m,className:T,ref:n,style:R,to:l}),typeof u=="function"?u({isActive:p,isPending:v}):u)});var bm;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(bm||(bm={}));var Hm;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Hm||(Hm={}));function GS(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o}=t===void 0?{}:t,a=ou(),l=Bn(),u=df(e,{relative:o});return S.useCallback(c=>{if(US(c,n)){c.preventDefault();let h=r!==void 0?r:Wr(l)===Wr(u);a(e,{replace:h,state:i,preventScrollReset:s,relative:o})}},[l,a,u,r,i,n,e,s,o])}function qo(e){let t=S.useRef(Oh(e)),n=S.useRef(!1),r=Bn(),i=S.useMemo(()=>zS(r.search,n.current?null:t.current),[r.search]),s=ou(),o=S.useCallback((a,l)=>{const u=Oh(typeof a=="function"?a(i):a);n.current=!0,s("?"+u,l)},[s,i]);return[i,o]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},XS=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],a=e[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},P0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,a=o?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=s>>2,h=(s&3)<<4|a>>4;let d=(a&15)<<2|u>>6,g=u&63;l||(g=64,o||(d=64)),r.push(n[c],n[h],n[d],n[g])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(A0(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):XS(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const h=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new YS;const d=s<<2|a>>4;if(r.push(d),u!==64){const g=a<<4&240|u>>2;if(r.push(g),h!==64){const E=u<<6&192|h;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class YS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JS=function(e){const t=A0(e);return P0.encodeByteArray(t,!0)},Rl=function(e){return JS(e).replace(/\./g,"")},ZS=function(e){try{return P0.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI=()=>eI().__FIREBASE_DEFAULTS__,nI=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},rI=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&ZS(e[1]);return t&&JSON.parse(t)},x0=()=>{try{return tI()||nI()||rI()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},iI=e=>{var t,n;return(n=(t=x0())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},sI=e=>{const t=iI(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},k0=()=>{var e;return(e=x0())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aI(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[Rl(JSON.stringify(n)),Rl(JSON.stringify(o)),a].join(".")}function lI(){try{return typeof indexedDB=="object"}catch{return!1}}function uI(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI="FirebaseError";class os extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=cI,Object.setPrototypeOf(this,os.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,N0.prototype.create)}}class N0{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?hI(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new os(i,a,r)}}function hI(e,t){return e.replace(dI,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const dI=/\{\$([^}]+)}/g;function Fh(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(qm(s)&&qm(o)){if(!Fh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function qm(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(e){return e&&e._delegate?e._delegate:e}class So{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new oI;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(mI(t))try{this.getOrInitializeService({instanceIdentifier:xr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=xr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=xr){return this.instances.has(t)}getOptions(t=xr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:pI(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=xr){return this.component?this.component.multipleInstances?t:xr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pI(e){return e===xr?void 0:e}function mI(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new fI(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ge||(ge={}));const yI={debug:ge.DEBUG,verbose:ge.VERBOSE,info:ge.INFO,warn:ge.WARN,error:ge.ERROR,silent:ge.SILENT},vI=ge.INFO,_I={[ge.DEBUG]:"log",[ge.VERBOSE]:"log",[ge.INFO]:"info",[ge.WARN]:"warn",[ge.ERROR]:"error"},EI=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=_I[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class L0{constructor(t){this.name=t,this._logLevel=vI,this._logHandler=EI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ge))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?yI[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ge.DEBUG,...t),this._logHandler(this,ge.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ge.VERBOSE,...t),this._logHandler(this,ge.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ge.INFO,...t),this._logHandler(this,ge.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ge.WARN,...t),this._logHandler(this,ge.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ge.ERROR,...t),this._logHandler(this,ge.ERROR,...t)}}const wI=(e,t)=>t.some(n=>e instanceof n);let Km,Wm;function TI(){return Km||(Km=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SI(){return Wm||(Wm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const V0=new WeakMap,jh=new WeakMap,M0=new WeakMap,yc=new WeakMap,pf=new WeakMap;function II(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(cr(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&V0.set(n,e)}).catch(()=>{}),pf.set(t,e),t}function CI(e){if(jh.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});jh.set(e,t)}let $h={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return jh.get(e);if(t==="objectStoreNames")return e.objectStoreNames||M0.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return cr(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function RI(e){$h=e($h)}function AI(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(vc(this),t,...n);return M0.set(r,t.sort?t.sort():[t]),cr(r)}:SI().includes(e)?function(...t){return e.apply(vc(this),t),cr(V0.get(this))}:function(...t){return cr(e.apply(vc(this),t))}}function PI(e){return typeof e=="function"?AI(e):(e instanceof IDBTransaction&&CI(e),wI(e,TI())?new Proxy(e,$h):e)}function cr(e){if(e instanceof IDBRequest)return II(e);if(yc.has(e))return yc.get(e);const t=PI(e);return t!==e&&(yc.set(e,t),pf.set(t,e)),t}const vc=e=>pf.get(e);function xI(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=cr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(cr(o.result),l.oldVersion,l.newVersion,cr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const kI=["get","getKey","getAll","getAllKeys","count"],NI=["put","add","delete","clear"],_c=new Map;function Qm(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(_c.get(t))return _c.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=NI.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||kI.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return _c.set(t,s),s}RI(e=>({...e,get:(t,n,r)=>Qm(t,n)||e.get(t,n,r),has:(t,n)=>!!Qm(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(LI(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function LI(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Uh="@firebase/app",Gm="0.9.15";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr=new L0("@firebase/app"),VI="@firebase/app-compat",MI="@firebase/analytics-compat",OI="@firebase/analytics",FI="@firebase/app-check-compat",jI="@firebase/app-check",$I="@firebase/auth",UI="@firebase/auth-compat",zI="@firebase/database",BI="@firebase/database-compat",bI="@firebase/functions",HI="@firebase/functions-compat",qI="@firebase/installations",KI="@firebase/installations-compat",WI="@firebase/messaging",QI="@firebase/messaging-compat",GI="@firebase/performance",XI="@firebase/performance-compat",YI="@firebase/remote-config",JI="@firebase/remote-config-compat",ZI="@firebase/storage",eC="@firebase/storage-compat",tC="@firebase/firestore",nC="@firebase/firestore-compat",rC="firebase",iC="10.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zh="[DEFAULT]",sC={[Uh]:"fire-core",[VI]:"fire-core-compat",[OI]:"fire-analytics",[MI]:"fire-analytics-compat",[jI]:"fire-app-check",[FI]:"fire-app-check-compat",[$I]:"fire-auth",[UI]:"fire-auth-compat",[zI]:"fire-rtdb",[BI]:"fire-rtdb-compat",[bI]:"fire-fn",[HI]:"fire-fn-compat",[qI]:"fire-iid",[KI]:"fire-iid-compat",[WI]:"fire-fcm",[QI]:"fire-fcm-compat",[GI]:"fire-perf",[XI]:"fire-perf-compat",[YI]:"fire-rc",[JI]:"fire-rc-compat",[ZI]:"fire-gcs",[eC]:"fire-gcs-compat",[tC]:"fire-fst",[nC]:"fire-fst-compat","fire-js":"fire-js",[rC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Al=new Map,Bh=new Map;function oC(e,t){try{e.container.addComponent(t)}catch(n){Gr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Pl(e){const t=e.name;if(Bh.has(t))return Gr.debug(`There were multiple attempts to register component ${t}.`),!1;Bh.set(t,e);for(const n of Al.values())oC(n,e);return!0}function aC(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},hr=new N0("app","Firebase",lC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new So("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw hr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC=iC;function O0(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:zh,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw hr.create("bad-app-name",{appName:String(i)});if(n||(n=k0()),!n)throw hr.create("no-options");const s=Al.get(i);if(s){if(Fh(n,s.options)&&Fh(r,s.config))return s;throw hr.create("duplicate-app",{appName:i})}const o=new gI(i);for(const l of Bh.values())o.addComponent(l);const a=new uC(n,r,o);return Al.set(i,a),a}function hC(e=zh){const t=Al.get(e);if(!t&&e===zh&&k0())return O0();if(!t)throw hr.create("no-app",{appName:e});return t}function Di(e,t,n){var r;let i=(r=sC[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${t}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Gr.warn(a.join(" "));return}Pl(new So(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC="firebase-heartbeat-database",fC=1,Io="firebase-heartbeat-store";let Ec=null;function F0(){return Ec||(Ec=xI(dC,fC,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Io)}}}).catch(e=>{throw hr.create("idb-open",{originalErrorMessage:e.message})})),Ec}async function pC(e){try{return await(await F0()).transaction(Io).objectStore(Io).get(j0(e))}catch(t){if(t instanceof os)Gr.warn(t.message);else{const n=hr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Gr.warn(n.message)}}}async function Xm(e,t){try{const r=(await F0()).transaction(Io,"readwrite");await r.objectStore(Io).put(t,j0(e)),await r.done}catch(n){if(n instanceof os)Gr.warn(n.message);else{const r=hr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Gr.warn(r.message)}}}function j0(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=1024,gC=30*24*60*60*1e3;class yC{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _C(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Ym();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=gC}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Ym(),{heartbeatsToSend:n,unsentEntries:r}=vC(this._heartbeatsCache.heartbeats),i=Rl(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Ym(){return new Date().toISOString().substring(0,10)}function vC(e,t=mC){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Jm(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Jm(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class _C{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lI()?uI().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await pC(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Xm(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Xm(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Jm(e){return Rl(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EC(e){Pl(new So("platform-logger",t=>new DI(t),"PRIVATE")),Pl(new So("heartbeat",t=>new yC(t),"PRIVATE")),Di(Uh,Gm,e),Di(Uh,Gm,"esm2017"),Di("fire-js","")}EC("");var wC="firebase",TC="10.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Di(wC,TC,"app");var SC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},V,mf=mf||{},X=SC||self;function au(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Ko(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function IC(e){return Object.prototype.hasOwnProperty.call(e,wc)&&e[wc]||(e[wc]=++CC)}var wc="closure_uid_"+(1e9*Math.random()>>>0),CC=0;function RC(e,t,n){return e.call.apply(e.bind,arguments)}function AC(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function pt(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?pt=RC:pt=AC,pt.apply(null,arguments)}function Ra(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function et(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[i].apply(r,o)}}function Sr(){this.s=this.s,this.o=this.o}var PC=0;Sr.prototype.s=!1;Sr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),PC!=0)&&IC(this)};Sr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const $0=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function gf(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Zm(e,t){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(au(r)){const i=e.length||0,s=r.length||0;e.length=i+s;for(let o=0;o<s;o++)e[i+o]=r[o]}else e.push(r)}}function mt(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}mt.prototype.h=function(){this.defaultPrevented=!0};var xC=function(){if(!X.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{X.addEventListener("test",()=>{},t),X.removeEventListener("test",()=>{},t)}catch{}return e}();function Co(e){return/^[\s\xa0]*$/.test(e)}function lu(){var e=X.navigator;return e&&(e=e.userAgent)?e:""}function pn(e){return lu().indexOf(e)!=-1}function yf(e){return yf[" "](e),e}yf[" "]=function(){};function kC(e,t){var n=TR;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var NC=pn("Opera"),Wi=pn("Trident")||pn("MSIE"),U0=pn("Edge"),bh=U0||Wi,z0=pn("Gecko")&&!(lu().toLowerCase().indexOf("webkit")!=-1&&!pn("Edge"))&&!(pn("Trident")||pn("MSIE"))&&!pn("Edge"),DC=lu().toLowerCase().indexOf("webkit")!=-1&&!pn("Edge");function B0(){var e=X.document;return e?e.documentMode:void 0}var Hh;e:{var Tc="",Sc=function(){var e=lu();if(z0)return/rv:([^\);]+)(\)|;)/.exec(e);if(U0)return/Edge\/([\d\.]+)/.exec(e);if(Wi)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(DC)return/WebKit\/(\S+)/.exec(e);if(NC)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(Sc&&(Tc=Sc?Sc[1]:""),Wi){var Ic=B0();if(Ic!=null&&Ic>parseFloat(Tc)){Hh=String(Ic);break e}}Hh=Tc}var qh;if(X.document&&Wi){var eg=B0();qh=eg||parseInt(Hh,10)||void 0}else qh=void 0;var LC=qh;function Ro(e,t){if(mt.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(z0){e:{try{yf(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:VC[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Ro.$.h.call(this)}}et(Ro,mt);var VC={2:"touch",3:"pen",4:"mouse"};Ro.prototype.h=function(){Ro.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Wo="closure_listenable_"+(1e6*Math.random()|0),MC=0;function OC(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++MC,this.fa=this.ia=!1}function uu(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function vf(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function FC(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function b0(e){const t={};for(const n in e)t[n]=e[n];return t}const tg="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function H0(e,t){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(let s=0;s<tg.length;s++)n=tg[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function cu(e){this.src=e,this.g={},this.h=0}cu.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var o=Wh(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):(t=new OC(t,this.src,s,!!r,i),t.ia=n,e.push(t)),t};function Kh(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=$0(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(uu(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function Wh(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}var _f="closure_lm_"+(1e6*Math.random()|0),Cc={};function q0(e,t,n,r,i){if(r&&r.once)return W0(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)q0(e,t[s],n,r,i);return null}return n=Tf(n),e&&e[Wo]?e.O(t,n,Ko(r)?!!r.capture:!!r,i):K0(e,t,n,!1,r,i)}function K0(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=Ko(i)?!!i.capture:!!i,a=wf(e);if(a||(e[_f]=a=new cu(e)),n=a.add(t,n,r,o,s),n.proxy)return n;if(r=jC(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)xC||(i=o),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(G0(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function jC(){function e(n){return t.call(e.src,e.listener,n)}const t=$C;return e}function W0(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)W0(e,t[s],n,r,i);return null}return n=Tf(n),e&&e[Wo]?e.P(t,n,Ko(r)?!!r.capture:!!r,i):K0(e,t,n,!0,r,i)}function Q0(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Q0(e,t[s],n,r,i);else r=Ko(r)?!!r.capture:!!r,n=Tf(n),e&&e[Wo]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=Wh(s,n,r,i),-1<n&&(uu(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=wf(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Wh(t,n,r,i)),(n=-1<e?t[e]:null)&&Ef(n))}function Ef(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[Wo])Kh(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(G0(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=wf(t))?(Kh(n,e),n.h==0&&(n.src=null,t[_f]=null)):uu(e)}}}function G0(e){return e in Cc?Cc[e]:Cc[e]="on"+e}function $C(e,t){if(e.fa)e=!0;else{t=new Ro(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Ef(e),e=n.call(r,t)}return e}function wf(e){return e=e[_f],e instanceof cu?e:null}var Rc="__closure_events_fn_"+(1e9*Math.random()>>>0);function Tf(e){return typeof e=="function"?e:(e[Rc]||(e[Rc]=function(t){return e.handleEvent(t)}),e[Rc])}function Ze(){Sr.call(this),this.i=new cu(this),this.S=this,this.J=null}et(Ze,Sr);Ze.prototype[Wo]=!0;Ze.prototype.removeEventListener=function(e,t,n,r){Q0(this,e,t,n,r)};function st(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,typeof t=="string")t=new mt(t,e);else if(t instanceof mt)t.target=t.target||e;else{var i=t;t=new mt(r,e),H0(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=Aa(o,r,!0,t)&&i}if(o=t.g=e,i=Aa(o,r,!0,t)&&i,i=Aa(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)o=t.g=n[s],i=Aa(o,r,!1,t)&&i}Ze.prototype.N=function(){if(Ze.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)uu(n[r]);delete e.g[t],e.h--}}this.J=null};Ze.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};Ze.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function Aa(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Kh(e.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Sf=X.JSON.stringify;class UC{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function zC(){var e=If;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class BC{constructor(){this.h=this.g=null}add(t,n){const r=X0.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var X0=new UC(()=>new bC,e=>e.reset());class bC{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function HC(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function qC(e){X.setTimeout(()=>{throw e},0)}let Ao,Po=!1,If=new BC,Y0=()=>{const e=X.Promise.resolve(void 0);Ao=()=>{e.then(KC)}};var KC=()=>{for(var e;e=zC();){try{e.h.call(e.g)}catch(n){qC(n)}var t=X0;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Po=!1};function hu(e,t){Ze.call(this),this.h=e||1,this.g=t||X,this.j=pt(this.qb,this),this.l=Date.now()}et(hu,Ze);V=hu.prototype;V.ga=!1;V.T=null;V.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),st(this,"tick"),this.ga&&(Cf(this),this.start()))}};V.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Cf(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}V.N=function(){hu.$.N.call(this),Cf(this),delete this.g};function Rf(e,t,n){if(typeof e=="function")n&&(e=pt(e,n));else if(e&&typeof e.handleEvent=="function")e=pt(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:X.setTimeout(e,t||0)}function J0(e){e.g=Rf(()=>{e.g=null,e.i&&(e.i=!1,J0(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class WC extends Sr{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:J0(this)}N(){super.N(),this.g&&(X.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xo(e){Sr.call(this),this.h=e,this.g={}}et(xo,Sr);var ng=[];function Z0(e,t,n,r){Array.isArray(n)||(n&&(ng[0]=n.toString()),n=ng);for(var i=0;i<n.length;i++){var s=q0(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function e1(e){vf(e.g,function(t,n){this.g.hasOwnProperty(n)&&Ef(t)},e),e.g={}}xo.prototype.N=function(){xo.$.N.call(this),e1(this)};xo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function du(){this.g=!0}du.prototype.Ea=function(){this.g=!1};function QC(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&h[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+o})}function GC(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+o})}function Ii(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+YC(e,n)+(r?" "+r:"")})}function XC(e,t){e.info(function(){return"TIMEOUT: "+t})}du.prototype.info=function(){};function YC(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Sf(n)}catch{return t}}var ii={},rg=null;function fu(){return rg=rg||new Ze}ii.Ta="serverreachability";function t1(e){mt.call(this,ii.Ta,e)}et(t1,mt);function ko(e){const t=fu();st(t,new t1(t))}ii.STAT_EVENT="statevent";function n1(e,t){mt.call(this,ii.STAT_EVENT,e),this.stat=t}et(n1,mt);function Et(e){const t=fu();st(t,new n1(t,e))}ii.Ua="timingevent";function r1(e,t){mt.call(this,ii.Ua,e),this.size=t}et(r1,mt);function Qo(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return X.setTimeout(function(){e()},t)}var pu={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},i1={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Af(){}Af.prototype.h=null;function ig(e){return e.h||(e.h=e.i())}function s1(){}var Go={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Pf(){mt.call(this,"d")}et(Pf,mt);function xf(){mt.call(this,"c")}et(xf,mt);var Qh;function mu(){}et(mu,Af);mu.prototype.g=function(){return new XMLHttpRequest};mu.prototype.i=function(){return{}};Qh=new mu;function Xo(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new xo(this),this.P=JC,e=bh?125:void 0,this.V=new hu(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new o1}function o1(){this.i=null,this.g="",this.h=!1}var JC=45e3,Gh={},xl={};V=Xo.prototype;V.setTimeout=function(e){this.P=e};function Xh(e,t,n){e.L=1,e.v=yu(On(t)),e.s=n,e.S=!0,a1(e,null)}function a1(e,t){e.G=Date.now(),Yo(e),e.A=On(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),m1(n.i,"t",r),e.C=0,n=e.l.J,e.h=new o1,e.g=O1(e.l,n?t:null,!e.s),0<e.O&&(e.M=new WC(pt(e.Pa,e,e.g),e.O)),Z0(e.U,e.g,"readystatechange",e.nb),t=e.I?b0(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),ko(),QC(e.j,e.u,e.A,e.m,e.W,e.s)}V.nb=function(e){e=e.target;const t=this.M;t&&gn(e)==3?t.l():this.Pa(e)};V.Pa=function(e){try{if(e==this.g)e:{const c=gn(this.g);var t=this.g.Ia();const h=this.g.da();if(!(3>c)&&(c!=3||bh||this.g&&(this.h.h||this.g.ja()||lg(this.g)))){this.J||c!=4||t==7||(t==8||0>=h?ko(3):ko(2)),gu(this);var n=this.g.da();this.ca=n;t:if(l1(this)){var r=lg(this.g);e="";var i=r.length,s=gn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Mr(this),Ys(this);var o="";break t}this.h.i=new X.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,GC(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Co(a)){var u=a;break t}}u=null}if(n=u)Ii(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Yh(this,n);else{this.i=!1,this.o=3,Et(12),Mr(this),Ys(this);break e}}this.S?(u1(this,c,o),bh&&this.i&&c==3&&(Z0(this.U,this.V,"tick",this.mb),this.V.start())):(Ii(this.j,this.m,o,null),Yh(this,o)),c==4&&Mr(this),this.i&&!this.J&&(c==4?D1(this.l,this):(this.i=!1,Yo(this)))}else _R(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Et(12)):(this.o=0,Et(13)),Mr(this),Ys(this)}}}catch{}finally{}};function l1(e){return e.g?e.u=="GET"&&e.L!=2&&e.l.Ha:!1}function u1(e,t,n){let r=!0,i;for(;!e.J&&e.C<n.length;)if(i=ZC(e,n),i==xl){t==4&&(e.o=4,Et(14),r=!1),Ii(e.j,e.m,null,"[Incomplete Response]");break}else if(i==Gh){e.o=4,Et(15),Ii(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else Ii(e.j,e.m,i,null),Yh(e,i);l1(e)&&i!=xl&&i!=Gh&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,Et(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Mf(t),t.M=!0,Et(11))):(Ii(e.j,e.m,n,"[Invalid Chunked Response]"),Mr(e),Ys(e))}V.mb=function(){if(this.g){var e=gn(this.g),t=this.g.ja();this.C<t.length&&(gu(this),u1(this,e,t),this.i&&e!=4&&Yo(this))}};function ZC(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?xl:(n=Number(t.substring(n,r)),isNaN(n)?Gh:(r+=1,r+n>t.length?xl:(t=t.slice(r,r+n),e.C=r+n,t)))}V.cancel=function(){this.J=!0,Mr(this)};function Yo(e){e.Y=Date.now()+e.P,c1(e,e.P)}function c1(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=Qo(pt(e.lb,e),t)}function gu(e){e.B&&(X.clearTimeout(e.B),e.B=null)}V.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(XC(this.j,this.A),this.L!=2&&(ko(),Et(17)),Mr(this),this.o=2,Ys(this)):c1(this,this.Y-e)};function Ys(e){e.l.H==0||e.J||D1(e.l,e)}function Mr(e){gu(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,Cf(e.V),e1(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Yh(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||Jh(n.i,e))){if(!e.K&&Jh(n.i,e)&&n.H==3){try{var r=n.Ja.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)Dl(n),Eu(n);else break e;Vf(n),Et(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Qo(pt(n.ib,n),6e3));if(1>=v1(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Or(n,11)}else if((e.K||n.g==e)&&Dl(n),!Co(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const h=u[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const d=u[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const g=e.g;if(g){const E=g.g?g.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(E){var s=r.i;s.g||E.indexOf("spdy")==-1&&E.indexOf("quic")==-1&&E.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(kf(s,s.h),s.h=null))}if(r.F){const _=g.g?g.g.getResponseHeader("X-HTTP-Session-Id"):null;_&&(r.Da=_,Ce(r.I,r.F,_))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=e;if(r.wa=M1(r,r.J?r.pa:null,r.Y),o.K){_1(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(gu(a),Yo(a)),r.g=o}else k1(r);0<n.j.length&&wu(n)}else u[0]!="stop"&&u[0]!="close"||Or(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Or(n,7):Lf(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}ko(4)}catch{}}function eR(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(au(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function tR(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(au(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function h1(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(au(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=tR(e),r=eR(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}var d1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function nR(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Ur(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Ur){this.h=e.h,kl(this,e.j),this.s=e.s,this.g=e.g,Nl(this,e.m),this.l=e.l;var t=e.i,n=new No;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),sg(this,n),this.o=e.o}else e&&(t=String(e).match(d1))?(this.h=!1,kl(this,t[1]||"",!0),this.s=Ms(t[2]||""),this.g=Ms(t[3]||"",!0),Nl(this,t[4]),this.l=Ms(t[5]||"",!0),sg(this,t[6]||"",!0),this.o=Ms(t[7]||"")):(this.h=!1,this.i=new No(null,this.h))}Ur.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Os(t,og,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(Os(t,og,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(Os(n,n.charAt(0)=="/"?sR:iR,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Os(n,aR)),e.join("")};function On(e){return new Ur(e)}function kl(e,t,n){e.j=n?Ms(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Nl(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function sg(e,t,n){t instanceof No?(e.i=t,lR(e.i,e.h)):(n||(t=Os(t,oR)),e.i=new No(t,e.h))}function Ce(e,t,n){e.i.set(t,n)}function yu(e){return Ce(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Ms(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Os(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,rR),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function rR(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var og=/[#\/\?@]/g,iR=/[#\?:]/g,sR=/[#\?]/g,oR=/[#\?@]/g,aR=/#/g;function No(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Ir(e){e.g||(e.g=new Map,e.h=0,e.i&&nR(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}V=No.prototype;V.add=function(e,t){Ir(this),this.i=null,e=as(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function f1(e,t){Ir(e),t=as(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function p1(e,t){return Ir(e),t=as(e,t),e.g.has(t)}V.forEach=function(e,t){Ir(this),this.g.forEach(function(n,r){n.forEach(function(i){e.call(t,i,r,this)},this)},this)};V.ta=function(){Ir(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let s=0;s<i.length;s++)n.push(t[r])}return n};V.Z=function(e){Ir(this);let t=[];if(typeof e=="string")p1(this,e)&&(t=t.concat(this.g.get(as(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};V.set=function(e,t){return Ir(this),this.i=null,e=as(this,e),p1(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};V.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function m1(e,t,n){f1(e,t),0<n.length&&(e.i=null,e.g.set(as(e,t),gf(n)),e.h+=n.length)}V.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};function as(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function lR(e,t){t&&!e.j&&(Ir(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(f1(this,r),m1(this,i,n))},e)),e.j=t}var uR=class{constructor(e,t){this.g=e,this.map=t}};function g1(e){this.l=e||cR,X.PerformanceNavigationTiming?(e=X.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(X.g&&X.g.Ka&&X.g.Ka()&&X.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var cR=10;function y1(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function v1(e){return e.h?1:e.g?e.g.size:0}function Jh(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function kf(e,t){e.g?e.g.add(t):e.h=t}function _1(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}g1.prototype.cancel=function(){if(this.i=E1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function E1(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return gf(e.i)}var hR=class{stringify(e){return X.JSON.stringify(e,void 0)}parse(e){return X.JSON.parse(e,void 0)}};function dR(){this.g=new hR}function fR(e,t,n){const r=n||"";try{h1(e,function(i,s){let o=i;Ko(i)&&(o=Sf(i)),t.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function pR(e,t){const n=new du;if(X.Image){const r=new Image;r.onload=Ra(Pa,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Ra(Pa,n,r,"TestLoadImage: error",!1,t),r.onabort=Ra(Pa,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Ra(Pa,n,r,"TestLoadImage: timeout",!1,t),X.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function Pa(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function Jo(e){this.l=e.fc||null,this.j=e.ob||!1}et(Jo,Af);Jo.prototype.g=function(){return new vu(this.l,this.j)};Jo.prototype.i=function(e){return function(){return e}}({});function vu(e,t){Ze.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Nf,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}et(vu,Ze);var Nf=0;V=vu.prototype;V.open=function(e,t){if(this.readyState!=Nf)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Do(this)};V.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||X).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};V.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Zo(this)),this.readyState=Nf};V.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Do(this)),this.g&&(this.readyState=3,Do(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof X.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;w1(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function w1(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}V.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Zo(this):Do(this),this.readyState==3&&w1(this)}};V.Za=function(e){this.g&&(this.response=this.responseText=e,Zo(this))};V.Ya=function(e){this.g&&(this.response=e,Zo(this))};V.ka=function(){this.g&&Zo(this)};function Zo(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Do(e)}V.setRequestHeader=function(e,t){this.v.append(e,t)};V.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};V.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function Do(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(vu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var mR=X.JSON.parse;function Me(e){Ze.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=T1,this.L=this.M=!1}et(Me,Ze);var T1="",gR=/^https?$/i,yR=["POST","PUT"];V=Me.prototype;V.Oa=function(e){this.M=e};V.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Qh.g(),this.C=this.u?ig(this.u):ig(Qh),this.g.onreadystatechange=pt(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){ag(this,s);return}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=X.FormData&&e instanceof X.FormData,!(0<=$0(yR,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{C1(this),0<this.B&&((this.L=vR(this.g))?(this.g.timeout=this.B,this.g.ontimeout=pt(this.ua,this)):this.A=Rf(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){ag(this,s)}};function vR(e){return Wi&&typeof e.timeout=="number"&&e.ontimeout!==void 0}V.ua=function(){typeof mf<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,st(this,"timeout"),this.abort(8))};function ag(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,S1(e),_u(e)}function S1(e){e.F||(e.F=!0,st(e,"complete"),st(e,"error"))}V.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,st(this,"complete"),st(this,"abort"),_u(this))};V.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),_u(this,!0)),Me.$.N.call(this)};V.La=function(){this.s||(this.G||this.v||this.l?I1(this):this.kb())};V.kb=function(){I1(this)};function I1(e){if(e.h&&typeof mf<"u"&&(!e.C[1]||gn(e)!=4||e.da()!=2)){if(e.v&&gn(e)==4)Rf(e.La,0,e);else if(st(e,"readystatechange"),gn(e)==4){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=o===0){var i=String(e.I).match(d1)[1]||null;!i&&X.self&&X.self.location&&(i=X.self.location.protocol.slice(0,-1)),r=!gR.test(i?i.toLowerCase():"")}n=r}if(n)st(e,"complete"),st(e,"success");else{e.m=6;try{var s=2<gn(e)?e.g.statusText:""}catch{s=""}e.j=s+" ["+e.da()+"]",S1(e)}}finally{_u(e)}}}}function _u(e,t){if(e.g){C1(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||st(e,"ready");try{n.onreadystatechange=r}catch{}}}function C1(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(X.clearTimeout(e.A),e.A=null)}V.isActive=function(){return!!this.g};function gn(e){return e.g?e.g.readyState:0}V.da=function(){try{return 2<gn(this)?this.g.status:-1}catch{return-1}};V.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};V.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),mR(t)}};function lg(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case T1:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function _R(e){const t={};e=(e.g&&2<=gn(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<e.length;r++){if(Co(e[r]))continue;var n=HC(e[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}FC(t,function(r){return r.join(", ")})}V.Ia=function(){return this.m};V.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function R1(e){let t="";return vf(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function Df(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=R1(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Ce(e,t,n))}function Ps(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function A1(e){this.Ga=0,this.j=[],this.l=new du,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ps("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ps("baseRetryDelayMs",5e3,e),this.hb=Ps("retryDelaySeedMs",1e4,e),this.eb=Ps("forwardChannelMaxRetries",2,e),this.xa=Ps("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new g1(e&&e.concurrentRequestLimit),this.Ja=new dR,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}V=A1.prototype;V.ra=8;V.H=1;function Lf(e){if(P1(e),e.H==3){var t=e.W++,n=On(e.I);if(Ce(n,"SID",e.K),Ce(n,"RID",t),Ce(n,"TYPE","terminate"),ea(e,n),t=new Xo(e,e.l,t),t.L=2,t.v=yu(On(n)),n=!1,X.navigator&&X.navigator.sendBeacon)try{n=X.navigator.sendBeacon(t.v.toString(),"")}catch{}!n&&X.Image&&(new Image().src=t.v,n=!0),n||(t.g=O1(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Yo(t)}V1(e)}function Eu(e){e.g&&(Mf(e),e.g.cancel(),e.g=null)}function P1(e){Eu(e),e.u&&(X.clearTimeout(e.u),e.u=null),Dl(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&X.clearTimeout(e.m),e.m=null)}function wu(e){if(!y1(e.i)&&!e.m){e.m=!0;var t=e.Na;Ao||Y0(),Po||(Ao(),Po=!0),If.add(t,e),e.C=0}}function ER(e,t){return v1(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=Qo(pt(e.Na,e,t),L1(e,e.C)),e.C++,!0)}V.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new Xo(this,this.l,e);let s=this.s;if(this.U&&(s?(s=b0(s),H0(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break e}if(t===4096||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=x1(this,i,t),n=On(this.I),Ce(n,"RID",e),Ce(n,"CVER",22),this.F&&Ce(n,"X-HTTP-Session-Id",this.F),ea(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(R1(s)))+"&"+t:this.o&&Df(n,this.o,s)),kf(this.i,i),this.bb&&Ce(n,"TYPE","init"),this.P?(Ce(n,"$req",t),Ce(n,"SID","null"),i.aa=!0,Xh(i,n,null)):Xh(i,n,t),this.H=2}}else this.H==3&&(e?ug(this,e):this.j.length==0||y1(this.i)||ug(this))};function ug(e,t){var n;t?n=t.m:n=e.W++;const r=On(e.I);Ce(r,"SID",e.K),Ce(r,"RID",n),Ce(r,"AID",e.V),ea(e,r),e.o&&e.s&&Df(r,e.o,e.s),n=new Xo(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=x1(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),kf(e.i,n),Xh(n,r,t)}function ea(e,t){e.na&&vf(e.na,function(n,r){Ce(t,r,n)}),e.h&&h1({},function(n,r){Ce(t,r,n)})}function x1(e,t,n){n=Math.min(e.j.length,n);var r=e.h?pt(e.h.Va,e.h,e):null;e:{var i=e.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{fR(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function k1(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Ao||Y0(),Po||(Ao(),Po=!0),If.add(t,e),e.A=0}}function Vf(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=Qo(pt(e.Ma,e),L1(e,e.A)),e.A++,!0)}V.Ma=function(){if(this.u=null,N1(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Qo(pt(this.jb,this),e)}};V.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Et(10),Eu(this),N1(this))};function Mf(e){e.B!=null&&(X.clearTimeout(e.B),e.B=null)}function N1(e){e.g=new Xo(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=On(e.wa);Ce(t,"RID","rpc"),Ce(t,"SID",e.K),Ce(t,"AID",e.V),Ce(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Ce(t,"TO",e.qa),Ce(t,"TYPE","xmlhttp"),ea(e,t),e.o&&e.s&&Df(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=yu(On(t)),n.s=null,n.S=!0,a1(n,e)}V.ib=function(){this.v!=null&&(this.v=null,Eu(this),Vf(this),Et(19))};function Dl(e){e.v!=null&&(X.clearTimeout(e.v),e.v=null)}function D1(e,t){var n=null;if(e.g==t){Dl(e),Mf(e),e.g=null;var r=2}else if(Jh(e.i,t))n=t.F,_1(e.i,t),r=1;else return;if(e.H!=0){if(t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;r=fu(),st(r,new r1(r,n)),wu(e)}else k1(e);else if(i=t.o,i==3||i==0&&0<t.ca||!(r==1&&ER(e,t)||r==2&&Vf(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Or(e,5);break;case 4:Or(e,10);break;case 3:Or(e,6);break;default:Or(e,2)}}}function L1(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Or(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var r=pt(e.pb,e);n||(n=new Ur("//www.google.com/images/cleardot.gif"),X.location&&X.location.protocol=="http"||kl(n,"https"),yu(n)),pR(n.toString(),r)}else Et(2);e.H=0,e.h&&e.h.za(t),V1(e),P1(e)}V.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Et(2)):(this.l.info("Failed to ping google.com"),Et(1))};function V1(e){if(e.H=0,e.ma=[],e.h){const t=E1(e.i);(t.length!=0||e.j.length!=0)&&(Zm(e.ma,t),Zm(e.ma,e.j),e.i.i.length=0,gf(e.j),e.j.length=0),e.h.ya()}}function M1(e,t,n){var r=n instanceof Ur?On(n):new Ur(n);if(r.g!="")t&&(r.g=t+"."+r.g),Nl(r,r.m);else{var i=X.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new Ur(null);r&&kl(s,r),t&&(s.g=t),i&&Nl(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&Ce(r,n,t),Ce(r,"VER",e.ra),ea(e,r),r}function O1(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ha&&!e.va?new Me(new Jo({ob:!0})):new Me(e.va),t.Oa(e.J),t}V.isActive=function(){return!!this.h&&this.h.isActive(this)};function F1(){}V=F1.prototype;V.Ba=function(){};V.Aa=function(){};V.za=function(){};V.ya=function(){};V.isActive=function(){return!0};V.Va=function(){};function Ll(){if(Wi&&!(10<=Number(LC)))throw Error("Environmental error: no available transport.")}Ll.prototype.g=function(e,t){return new jt(e,t)};function jt(e,t){Ze.call(this),this.g=new A1(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Co(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Co(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new ls(this)}et(jt,Ze);jt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Et(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=M1(e,null,e.Y),wu(e)};jt.prototype.close=function(){Lf(this.g)};jt.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=Sf(e),e=n);t.j.push(new uR(t.fb++,e)),t.H==3&&wu(t)};jt.prototype.N=function(){this.g.h=null,delete this.j,Lf(this.g),delete this.g,jt.$.N.call(this)};function j1(e){Pf.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}et(j1,Pf);function $1(){xf.call(this),this.status=1}et($1,xf);function ls(e){this.g=e}et(ls,F1);ls.prototype.Ba=function(){st(this.g,"a")};ls.prototype.Aa=function(e){st(this.g,new j1(e))};ls.prototype.za=function(e){st(this.g,new $1)};ls.prototype.ya=function(){st(this.g,"b")};function wR(){this.blockSize=-1}function un(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}et(un,wR);un.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Ac(e,t,n){n||(n=0);var r=Array(16);if(typeof t=="string")for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[1]+3905402710&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[4]+4118548399&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[5]+1200080426&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[8]+1770035416&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[9]+2336552879&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[12]+1804603682&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[13]+4254626195&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(i^s&(n^i))+r[1]+4129170786&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[6]+3225465664&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[5]+3593408605&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[10]+38016083&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[9]+568446438&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[14]+3275163606&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[13]+2850285829&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[2]+4243563512&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(n^i^s)+r[5]+4294588738&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[8]+2272392833&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[1]+2763975236&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[4]+1272893353&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[13]+681279174&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[0]+3936430074&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[9]+3654602809&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[12]+3873151461&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(i^(n|~s))+r[0]+4096336452&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[7]+1126891415&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[12]+1700485571&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[3]+2399980690&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[8]+1873313359&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[15]+4264355552&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[4]+4149444226&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[11]+3174756917&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}un.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(i==0)for(;s<=n;)Ac(this,e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){Ac(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){Ac(this,r),i=0;break}}this.h=i,this.i+=t};un.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};function _e(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=e[i]|0;r&&s==t||(n[i]=s,r=!1)}this.g=n}var TR={};function Of(e){return-128<=e&&128>e?kC(e,function(t){return new _e([t|0],0>t?-1:0)}):new _e([e|0],0>e?-1:0)}function yn(e){if(isNaN(e)||!isFinite(e))return Li;if(0>e)return rt(yn(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Zh;return new _e(t,0)}function U1(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return rt(U1(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=yn(Math.pow(t,8)),r=Li,i=0;i<e.length;i+=8){var s=Math.min(8,e.length-i),o=parseInt(e.substring(i,i+s),t);8>s?(s=yn(Math.pow(t,s)),r=r.R(s).add(yn(o))):(r=r.R(n),r=r.add(yn(o)))}return r}var Zh=4294967296,Li=Of(0),ed=Of(1),cg=Of(16777216);V=_e.prototype;V.ea=function(){if(Kt(this))return-rt(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Zh+r)*t,t*=Zh}return e};V.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(xn(this))return"0";if(Kt(this))return"-"+rt(this).toString(e);for(var t=yn(Math.pow(e,6)),n=this,r="";;){var i=Ml(n,t).g;n=Vl(n,i.R(t));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=i,xn(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};V.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function xn(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function Kt(e){return e.h==-1}V.X=function(e){return e=Vl(this,e),Kt(e)?-1:xn(e)?0:1};function rt(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new _e(n,~e.h).add(ed)}V.abs=function(){return Kt(this)?rt(this):this};V.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(this.D(i)&65535)+(e.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new _e(n,n[n.length-1]&-2147483648?-1:0)};function Vl(e,t){return e.add(rt(t))}V.R=function(e){if(xn(this)||xn(e))return Li;if(Kt(this))return Kt(e)?rt(this).R(rt(e)):rt(rt(this).R(e));if(Kt(e))return rt(this.R(rt(e)));if(0>this.X(cg)&&0>e.X(cg))return yn(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=e.D(i)>>>16,l=e.D(i)&65535;n[2*r+2*i]+=o*l,xa(n,2*r+2*i),n[2*r+2*i+1]+=s*l,xa(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,xa(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,xa(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new _e(n,0)};function xa(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function xs(e,t){this.g=e,this.h=t}function Ml(e,t){if(xn(t))throw Error("division by zero");if(xn(e))return new xs(Li,Li);if(Kt(e))return t=Ml(rt(e),t),new xs(rt(t.g),rt(t.h));if(Kt(t))return t=Ml(e,rt(t)),new xs(rt(t.g),t.h);if(30<e.g.length){if(Kt(e)||Kt(t))throw Error("slowDivide_ only works with positive integers.");for(var n=ed,r=t;0>=r.X(e);)n=hg(n),r=hg(r);var i=oi(n,1),s=oi(r,1);for(r=oi(r,2),n=oi(n,2);!xn(r);){var o=s.add(r);0>=o.X(e)&&(i=i.add(n),s=o),r=oi(r,1),n=oi(n,1)}return t=Vl(e,i.R(t)),new xs(i,t)}for(i=Li;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=yn(n),o=s.R(t);Kt(o)||0<o.X(e);)n-=r,s=yn(n),o=s.R(t);xn(s)&&(s=ed),i=i.add(s),e=Vl(e,o)}return new xs(i,e)}V.gb=function(e){return Ml(this,e).h};V.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new _e(n,this.h&e.h)};V.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new _e(n,this.h|e.h)};V.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new _e(n,this.h^e.h)};function hg(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new _e(n,e.h)}function oi(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new _e(i,e.h)}Ll.prototype.createWebChannel=Ll.prototype.g;jt.prototype.send=jt.prototype.u;jt.prototype.open=jt.prototype.m;jt.prototype.close=jt.prototype.close;pu.NO_ERROR=0;pu.TIMEOUT=8;pu.HTTP_ERROR=6;i1.COMPLETE="complete";s1.EventType=Go;Go.OPEN="a";Go.CLOSE="b";Go.ERROR="c";Go.MESSAGE="d";Ze.prototype.listen=Ze.prototype.O;Me.prototype.listenOnce=Me.prototype.P;Me.prototype.getLastError=Me.prototype.Sa;Me.prototype.getLastErrorCode=Me.prototype.Ia;Me.prototype.getStatus=Me.prototype.da;Me.prototype.getResponseJson=Me.prototype.Wa;Me.prototype.getResponseText=Me.prototype.ja;Me.prototype.send=Me.prototype.ha;Me.prototype.setWithCredentials=Me.prototype.Oa;un.prototype.digest=un.prototype.l;un.prototype.reset=un.prototype.reset;un.prototype.update=un.prototype.j;_e.prototype.add=_e.prototype.add;_e.prototype.multiply=_e.prototype.R;_e.prototype.modulo=_e.prototype.gb;_e.prototype.compare=_e.prototype.X;_e.prototype.toNumber=_e.prototype.ea;_e.prototype.toString=_e.prototype.toString;_e.prototype.getBits=_e.prototype.D;_e.fromNumber=yn;_e.fromString=U1;var SR=function(){return new Ll},IR=function(){return fu()},Pc=pu,CR=i1,RR=ii,dg={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},AR=Jo,ka=s1,PR=Me,xR=un,Vi=_e;const fg="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ht.UNAUTHENTICATED=new ht(null),ht.GOOGLE_CREDENTIALS=new ht("google-credentials-uid"),ht.FIRST_PARTY=new ht("first-party-uid"),ht.MOCK_USER=new ht("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let us="10.1.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr=new L0("@firebase/firestore");function pg(){return Xr.logLevel}function B(e,...t){if(Xr.logLevel<=ge.DEBUG){const n=t.map(Ff);Xr.debug(`Firestore (${us}): ${e}`,...n)}}function Fn(e,...t){if(Xr.logLevel<=ge.ERROR){const n=t.map(Ff);Xr.error(`Firestore (${us}): ${e}`,...n)}}function Qi(e,...t){if(Xr.logLevel<=ge.WARN){const n=t.map(Ff);Xr.warn(`Firestore (${us}): ${e}`,...n)}}function Ff(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ne(e="Unexpected state"){const t=`FIRESTORE (${us}) INTERNAL ASSERTION FAILED: `+e;throw Fn(t),new Error(t)}function Qe(e,t){e||ne()}function pe(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class q extends os{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class kR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(ht.UNAUTHENTICATED))}shutdown(){}}class NR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class DR{constructor(t){this.t=t,this.currentUser=ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new dr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new dr,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{B("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(B("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new dr)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(B("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qe(typeof r.accessToken=="string"),new z1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Qe(t===null||typeof t=="string"),new ht(t)}}class LR{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=ht.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class VR{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new LR(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class MR{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class OR{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const r=s=>{s.error!=null&&B("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,B("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{B("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):B("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Qe(typeof n.token=="string"),this.R=n.token,new MR(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FR(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{static V(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=FR(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length))}return r}}function ye(e,t){return e<t?-1:e>t?1:0}function Gi(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new q(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new q(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new q(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new q(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Lt.fromMillis(Date.now())}static fromDate(t){return Lt.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new Lt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?ye(this.nanoseconds,t.nanoseconds):ye(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Z(t)}static min(){return new Z(new Lt(0,0))}static max(){return new Z(new Lt(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(t,n,r){n===void 0?n=0:n>t.length&&ne(),r===void 0?r=t.length-n:r>t.length-n&&ne(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Lo.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Lo?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const s=t.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class ke extends Lo{construct(t,n,r){return new ke(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new q(L.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ke(n)}static emptyPath(){return new ke([])}}const jR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class At extends Lo{construct(t,n,r){return new At(t,n,r)}static isValidIdentifier(t){return jR.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),At.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new At(["__name__"])}static fromServerFormat(t){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new q(L.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new q(L.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new q(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new q(L.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new At(n)}static emptyPath(){return new At([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(t){this.path=t}static fromPath(t){return new K(ke.fromString(t))}static fromName(t){return new K(ke.fromString(t).popFirst(5))}static empty(){return new K(ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ke.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ke.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new K(new ke(t.slice()))}}function $R(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Z.fromTimestamp(r===1e9?new Lt(n+1,0):new Lt(n,r));return new yr(i,K.empty(),t)}function UR(e){return new yr(e.readTime,e.key,-1)}class yr{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new yr(Z.min(),K.empty(),-1)}static max(){return new yr(Z.max(),K.empty(),-1)}}function zR(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=K.comparator(e.documentKey,t.documentKey),n!==0?n:ye(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jf(e){if(e.code!==L.FAILED_PRECONDITION||e.message!==BR)throw e;B("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&ne(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new D((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof D?n:D.resolve(n)}catch(n){return D.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):D.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):D.reject(n)}static resolve(t){return new D((n,r)=>{n(t)})}static reject(t){return new D((n,r)=>{r(t)})}static waitFor(t){return new D((n,r)=>{let i=0,s=0,o=!1;t.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(t){let n=D.resolve(!1);for(const r of t)n=n.next(i=>i?D.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(t,n){return new D((r,i)=>{const s=t.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(t[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(t,n){return new D((r,i)=>{const s=()=>{t()===!0?n().next(()=>{s()},i):r()};s()})}}function ta(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}$f.ae=-1;function Tu(e){return e==null}function td(e){return e===0&&1/e==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mg(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Su(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function HR(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(t,n){this.comparator=t,this.root=n||nt.EMPTY}insert(t,n){return new je(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,nt.BLACK,null,null))}remove(t){return new je(this.comparator,this.root.remove(t,this.comparator).copy(null,null,nt.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Na(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Na(this.root,t,this.comparator,!1)}getReverseIterator(){return new Na(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Na(this.root,t,this.comparator,!0)}}class Na{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,n&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class nt{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??nt.RED,this.left=i??nt.EMPTY,this.right=s??nt.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,s){return new nt(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return nt.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return nt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ne();const t=this.left.check();if(t!==this.right.check())throw ne();return t+(this.isRed()?0:1)}}nt.EMPTY=null,nt.RED=!0,nt.BLACK=!1;nt.EMPTY=new class{constructor(){this.size=0}get key(){throw ne()}get value(){throw ne()}get color(){throw ne()}get left(){throw ne()}get right(){throw ne()}copy(t,n,r,i,s){return this}insert(t,n,r){return new nt(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(t){this.comparator=t,this.data=new je(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new gg(this.data.getIterator())}getIteratorFrom(t){return new gg(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof gt)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new gt(this.comparator);return n.data=t,n}}class gg{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(t){this.fields=t,t.sort(At.comparator)}static empty(){return new Zn([])}unionWith(t){let n=new gt(At.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Zn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Gi(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new b1("Invalid base64 string: "+s):s}}(t);return new vt(n)}static fromUint8Array(t){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(t);return new vt(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ye(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}vt.EMPTY_BYTE_STRING=new vt("");const qR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vr(e){if(Qe(!!e),typeof e=="string"){let t=0;const n=qR.exec(e);if(Qe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ze(e.seconds),nanos:ze(e.nanos)}}function ze(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Yr(e){return typeof e=="string"?vt.fromBase64String(e):vt.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uf(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function zf(e){const t=e.mapValue.fields.__previous_value__;return Uf(t)?zf(t):t}function Vo(e){const t=vr(e.mapValue.fields.__local_write_time__.timestampValue);return new Lt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(t,n,r,i,s,o,a,l,u){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Mo{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new Mo("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Mo&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Jr(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Uf(e)?4:WR(e)?9007199254740991:10:ne()}function wn(e,t){if(e===t)return!0;const n=Jr(e);if(n!==Jr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Vo(e).isEqual(Vo(t));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=vr(i.timestampValue),a=vr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,s){return Yr(i.bytesValue).isEqual(Yr(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,s){return ze(i.geoPointValue.latitude)===ze(s.geoPointValue.latitude)&&ze(i.geoPointValue.longitude)===ze(s.geoPointValue.longitude)}(e,t);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ze(i.integerValue)===ze(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=ze(i.doubleValue),a=ze(s.doubleValue);return o===a?td(o)===td(a):isNaN(o)&&isNaN(a)}return!1}(e,t);case 9:return Gi(e.arrayValue.values||[],t.arrayValue.values||[],wn);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(mg(o)!==mg(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!wn(o[l],a[l])))return!1;return!0}(e,t);default:return ne()}}function Oo(e,t){return(e.values||[]).find(n=>wn(n,t))!==void 0}function Xi(e,t){if(e===t)return 0;const n=Jr(e),r=Jr(t);if(n!==r)return ye(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ye(e.booleanValue,t.booleanValue);case 2:return function(s,o){const a=ze(s.integerValue||s.doubleValue),l=ze(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return yg(e.timestampValue,t.timestampValue);case 4:return yg(Vo(e),Vo(t));case 5:return ye(e.stringValue,t.stringValue);case 6:return function(s,o){const a=Yr(s),l=Yr(o);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=ye(a[u],l[u]);if(c!==0)return c}return ye(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,o){const a=ye(ze(s.latitude),ze(o.latitude));return a!==0?a:ye(ze(s.longitude),ze(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=Xi(a[u],l[u]);if(c)return c}return ye(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(s,o){if(s===Da.mapValue&&o===Da.mapValue)return 0;if(s===Da.mapValue)return 1;if(o===Da.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let h=0;h<l.length&&h<c.length;++h){const d=ye(l[h],c[h]);if(d!==0)return d;const g=Xi(a[l[h]],u[c[h]]);if(g!==0)return g}return ye(l.length,c.length)}(e.mapValue,t.mapValue);default:throw ne()}}function yg(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return ye(e,t);const n=vr(e),r=vr(t),i=ye(n.seconds,r.seconds);return i!==0?i:ye(n.nanos,r.nanos)}function Yi(e){return nd(e)}function nd(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=vr(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Yr(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return K.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=nd(s);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${nd(n.fields[o])}`;return i+"}"}(e.mapValue):ne()}function rd(e){return!!e&&"integerValue"in e}function Bf(e){return!!e&&"arrayValue"in e}function vg(e){return!!e&&"nullValue"in e}function _g(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function xc(e){return!!e&&"mapValue"in e}function Js(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Su(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=Js(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Js(e.arrayValue.values[n]);return t}return Object.assign({},e)}function WR(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(t){this.value=t}static empty(){return new mn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!xc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Js(n)}setAll(t){let n=At.emptyPath(),r={},i=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Js(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(t){const n=this.field(t.popLast());xc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return wn(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];xc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){Su(n,(i,s)=>t[i]=s);for(const i of r)delete t[i]}clone(){return new mn(Js(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(t,n,r,i,s,o,a){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new ft(t,0,Z.min(),Z.min(),Z.min(),mn.empty(),0)}static newFoundDocument(t,n,r,i){return new ft(t,1,n,Z.min(),r,i,0)}static newNoDocument(t,n){return new ft(t,2,n,Z.min(),Z.min(),mn.empty(),0)}static newUnknownDocument(t,n){return new ft(t,3,n,Z.min(),Z.min(),mn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Z.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Z.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ft&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(t,n){this.position=t,this.inclusive=n}}function Eg(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(s.field.isKeyField()?r=K.comparator(K.fromName(o.referenceValue),n.key):r=Xi(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function wg(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!wn(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(t,n="asc"){this.field=t,this.dir=n}}function QR(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{}class Ke extends H1{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new XR(t,n,r):n==="array-contains"?new ZR(t,r):n==="in"?new eA(t,r):n==="not-in"?new tA(t,r):n==="array-contains-any"?new nA(t,r):new Ke(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new YR(t,r):new JR(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Xi(n,this.value)):n!==null&&Jr(this.value)===Jr(n)&&this.matchesComparison(Xi(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return ne()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Tn extends H1{constructor(t,n){super(),this.filters=t,this.op=n,this.ce=null}static create(t,n){return new Tn(t,n)}matches(t){return q1(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.le(n=>n.isInequality());return t!==null?t.field:null}le(t){for(const n of this.getFlattenedFilters())if(t(n))return n;return null}}function q1(e){return e.op==="and"}function K1(e){return GR(e)&&q1(e)}function GR(e){for(const t of e.filters)if(t instanceof Tn)return!1;return!0}function id(e){if(e instanceof Ke)return e.field.canonicalString()+e.op.toString()+Yi(e.value);if(K1(e))return e.filters.map(t=>id(t)).join(",");{const t=e.filters.map(n=>id(n)).join(",");return`${e.op}(${t})`}}function W1(e,t){return e instanceof Ke?function(r,i){return i instanceof Ke&&r.op===i.op&&r.field.isEqual(i.field)&&wn(r.value,i.value)}(e,t):e instanceof Tn?function(r,i){return i instanceof Tn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&W1(o,i.filters[a]),!0):!1}(e,t):void ne()}function Q1(e){return e instanceof Ke?function(n){return`${n.field.canonicalString()} ${n.op} ${Yi(n.value)}`}(e):e instanceof Tn?function(n){return n.op.toString()+" {"+n.getFilters().map(Q1).join(" ,")+"}"}(e):"Filter"}class XR extends Ke{constructor(t,n,r){super(t,n,r),this.key=K.fromName(r.referenceValue)}matches(t){const n=K.comparator(t.key,this.key);return this.matchesComparison(n)}}class YR extends Ke{constructor(t,n){super(t,"in",n),this.keys=G1("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class JR extends Ke{constructor(t,n){super(t,"not-in",n),this.keys=G1("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function G1(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>K.fromName(r.referenceValue))}class ZR extends Ke{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Bf(n)&&Oo(n.arrayValue,this.value)}}class eA extends Ke{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Oo(this.value.arrayValue,n)}}class tA extends Ke{constructor(t,n){super(t,"not-in",n)}matches(t){if(Oo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Oo(this.value.arrayValue,n)}}class nA extends Ke{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Bf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Oo(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(t,n=null,r=[],i=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.he=null}}function Tg(e,t=null,n=[],r=[],i=null,s=null,o=null){return new rA(e,t,n,r,i,s,o)}function bf(e){const t=pe(e);if(t.he===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>id(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Tu(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Yi(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Yi(r)).join(",")),t.he=n}return t.he}function Hf(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!QR(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!W1(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!wg(e.startAt,t.startAt)&&wg(e.endAt,t.endAt)}function sd(e){return K.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(t,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Pe=null,this.Ie=null,this.startAt,this.endAt}}function iA(e,t,n,r,i,s,o,a){return new Iu(e,t,n,r,i,s,o,a)}function qf(e){return new Iu(e)}function Sg(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function sA(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function oA(e){for(const t of e.filters){const n=t.getFirstInequalityField();if(n!==null)return n}return null}function aA(e){return e.collectionGroup!==null}function Mi(e){const t=pe(e);if(t.Pe===null){t.Pe=[];const n=oA(t),r=sA(t);if(n!==null&&r===null)n.isKeyField()||t.Pe.push(new Zs(n)),t.Pe.push(new Zs(At.keyField(),"asc"));else{let i=!1;for(const s of t.explicitOrderBy)t.Pe.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.Pe.push(new Zs(At.keyField(),s))}}}return t.Pe}function jn(e){const t=pe(e);if(!t.Ie)if(t.limitType==="F")t.Ie=Tg(t.path,t.collectionGroup,Mi(t),t.filters,t.limit,t.startAt,t.endAt);else{const n=[];for(const s of Mi(t)){const o=s.dir==="desc"?"asc":"desc";n.push(new Zs(s.field,o))}const r=t.endAt?new Ol(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Ol(t.startAt.position,t.startAt.inclusive):null;t.Ie=Tg(t.path,t.collectionGroup,n,t.filters,t.limit,r,i)}return t.Ie}function od(e,t,n){return new Iu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Cu(e,t){return Hf(jn(e),jn(t))&&e.limitType===t.limitType}function X1(e){return`${bf(jn(e))}|lt:${e.limitType}`}function ad(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Q1(i)).join(", ")}]`),Tu(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Yi(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Yi(i)).join(",")),`Target(${r})`}(jn(e))}; limitType=${e.limitType})`}function Ru(e,t){return t.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):K.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(e,t)&&function(r,i){for(const s of Mi(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=Eg(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Mi(r),i)||r.endAt&&!function(o,a,l){const u=Eg(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Mi(r),i))}(e,t)}function lA(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Y1(e){return(t,n)=>{let r=!1;for(const i of Mi(e)){const s=uA(i,t,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function uA(e,t,n){const r=e.field.isKeyField()?K.comparator(t.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Xi(l,u):ne()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ne()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){Su(this.inner,(n,r)=>{for(const[i,s]of r)t(i,s)})}isEmpty(){return HR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA=new je(K.comparator);function _r(){return cA}const J1=new je(K.comparator);function Fs(...e){let t=J1;for(const n of e)t=t.insert(n.key,n);return t}function hA(e){let t=J1;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function Fr(){return eo()}function Z1(){return eo()}function eo(){return new cs(e=>e.toString(),(e,t)=>e.isEqual(t))}const dA=new gt(K.comparator);function ce(...e){let t=dA;for(const n of e)t=t.add(n);return t}const fA=new gt(ye);function pA(){return fA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mA(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:td(t)?"-0":t}}function gA(e){return{integerValue:""+e}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(){this._=void 0}}function yA(e,t,n){return e instanceof ld?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Uf(s)&&(s=zf(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,t):e instanceof Fl?e_(e,t):e instanceof jl?t_(e,t):function(i,s){const o=_A(i,s),a=Ig(o)+Ig(i.Te);return rd(o)&&rd(i.Te)?gA(a):mA(i.serializer,a)}(e,t)}function vA(e,t,n){return e instanceof Fl?e_(e,t):e instanceof jl?t_(e,t):n}function _A(e,t){return e instanceof ud?function(r){return rd(r)||function(s){return!!s&&"doubleValue"in s}(r)}(t)?t:{integerValue:0}:null}class ld extends Au{}class Fl extends Au{constructor(t){super(),this.elements=t}}function e_(e,t){const n=n_(t);for(const r of e.elements)n.some(i=>wn(i,r))||n.push(r);return{arrayValue:{values:n}}}class jl extends Au{constructor(t){super(),this.elements=t}}function t_(e,t){let n=n_(t);for(const r of e.elements)n=n.filter(i=>!wn(i,r));return{arrayValue:{values:n}}}class ud extends Au{constructor(t,n){super(),this.serializer=t,this.Te=n}}function Ig(e){return ze(e.integerValue||e.doubleValue)}function n_(e){return Bf(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function EA(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof Fl&&i instanceof Fl||r instanceof jl&&i instanceof jl?Gi(r.elements,i.elements,wn):r instanceof ud&&i instanceof ud?wn(r.Te,i.Te):r instanceof ld&&i instanceof ld}(e.transform,t.transform)}class zr{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new zr}static exists(t){return new zr(void 0,t)}static updateTime(t){return new zr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ya(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Kf{}function r_(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new TA(e.key,zr.none()):new Wf(e.key,e.data,zr.none());{const n=e.data,r=mn.empty();let i=new gt(At.comparator);for(let s of t.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Pu(e.key,r,new Zn(i.toArray()),zr.none())}}function wA(e,t,n){e instanceof Wf?function(i,s,o){const a=i.value.clone(),l=Rg(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,n):e instanceof Pu?function(i,s,o){if(!Ya(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=Rg(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(i_(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(e,t,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function to(e,t,n,r){return e instanceof Wf?function(s,o,a,l){if(!Ya(s.precondition,o))return a;const u=s.value.clone(),c=Ag(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(e,t,n,r):e instanceof Pu?function(s,o,a,l){if(!Ya(s.precondition,o))return a;const u=Ag(s.fieldTransforms,l,o),c=o.data;return c.setAll(i_(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(e,t,n,r):function(s,o,a){return Ya(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(e,t,n)}function Cg(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Gi(r,i,(s,o)=>EA(s,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Wf extends Kf{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Pu extends Kf{constructor(t,n,r,i,s=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function i_(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Rg(e,t,n){const r=new Map;Qe(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,vA(o,a,n[i]))}return r}function Ag(e,t,n){const r=new Map;for(const i of e){const s=i.transform,o=n.data.field(i.field);r.set(i.field,yA(s,o,t))}return r}class TA extends Kf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&wA(s,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=to(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=to(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=Z1();return this.mutations.forEach(i=>{const s=t.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=r_(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Z.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),ce())}isEqual(t){return this.batchId===t.batchId&&Gi(this.mutations,t.mutations,(n,r)=>Cg(n,r))&&Gi(this.baseMutations,t.baseMutations,(n,r)=>Cg(n,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $e,le;function s_(e){if(e===void 0)return Fn("GRPC error has no .code"),L.UNKNOWN;switch(e){case $e.OK:return L.OK;case $e.CANCELLED:return L.CANCELLED;case $e.UNKNOWN:return L.UNKNOWN;case $e.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case $e.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case $e.INTERNAL:return L.INTERNAL;case $e.UNAVAILABLE:return L.UNAVAILABLE;case $e.UNAUTHENTICATED:return L.UNAUTHENTICATED;case $e.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case $e.NOT_FOUND:return L.NOT_FOUND;case $e.ALREADY_EXISTS:return L.ALREADY_EXISTS;case $e.PERMISSION_DENIED:return L.PERMISSION_DENIED;case $e.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case $e.ABORTED:return L.ABORTED;case $e.OUT_OF_RANGE:return L.OUT_OF_RANGE;case $e.UNIMPLEMENTED:return L.UNIMPLEMENTED;case $e.DATA_LOSS:return L.DATA_LOSS;default:return ne()}}(le=$e||($e={}))[le.OK=0]="OK",le[le.CANCELLED=1]="CANCELLED",le[le.UNKNOWN=2]="UNKNOWN",le[le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",le[le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",le[le.NOT_FOUND=5]="NOT_FOUND",le[le.ALREADY_EXISTS=6]="ALREADY_EXISTS",le[le.PERMISSION_DENIED=7]="PERMISSION_DENIED",le[le.UNAUTHENTICATED=16]="UNAUTHENTICATED",le[le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",le[le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",le[le.ABORTED=10]="ABORTED",le[le.OUT_OF_RANGE=11]="OUT_OF_RANGE",le[le.UNIMPLEMENTED=12]="UNIMPLEMENTED",le[le.INTERNAL=13]="INTERNAL",le[le.UNAVAILABLE=14]="UNAVAILABLE",le[le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return La}static getOrCreateInstance(){return La===null&&(La=new Qf),La}onExistenceFilterMismatch(t){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,t),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(t))}}let La=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA=new Vi([4294967295,4294967295],0);function Pg(e){const t=RA().encode(e),n=new xR;return n.update(t),new Uint8Array(n.digest())}function xg(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Vi([n,r],0),new Vi([i,s],0)]}class Gf{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new js(`Invalid padding: ${n}`);if(r<0)throw new js(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new js(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new js(`Invalid padding when bitmap length is 0: ${n}`);this.de=8*t.length-n,this.Ae=Vi.fromNumber(this.de)}Re(t,n,r){let i=t.add(n.multiply(Vi.fromNumber(r)));return i.compare(AA)===1&&(i=new Vi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ae).toNumber()}Ve(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.de===0)return!1;const n=Pg(t),[r,i]=xg(n);for(let s=0;s<this.hashCount;s++){const o=this.Re(r,i,s);if(!this.Ve(o))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new Gf(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(t){if(this.de===0)return;const n=Pg(t),[r,i]=xg(n);for(let s=0;s<this.hashCount;s++){const o=this.Re(r,i,s);this.me(o)}}me(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class js extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,na.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new xu(Z.min(),i,new je(ye),_r(),ce())}}class na{constructor(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new na(r,n,ce(),ce(),ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(t,n,r,i){this.fe=t,this.removedTargetIds=n,this.key=r,this.ge=i}}class o_{constructor(t,n){this.targetId=t,this.pe=n}}class a_{constructor(t,n,r=vt.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class kg{constructor(){this.ye=0,this.we=Dg(),this.Se=vt.EMPTY_BYTE_STRING,this.be=!1,this.De=!0}get current(){return this.be}get resumeToken(){return this.Se}get ve(){return this.ye!==0}get Ce(){return this.De}Fe(t){t.approximateByteSize()>0&&(this.De=!0,this.Se=t)}Me(){let t=ce(),n=ce(),r=ce();return this.we.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ne()}}),new na(this.Se,this.be,t,n,r)}xe(){this.De=!1,this.we=Dg()}Oe(t,n){this.De=!0,this.we=this.we.insert(t,n)}Ne(t){this.De=!0,this.we=this.we.remove(t)}Be(){this.ye+=1}Le(){this.ye-=1}ke(){this.De=!0,this.be=!0}}class PA{constructor(t){this.qe=t,this.Qe=new Map,this.Ke=_r(),this.$e=Ng(),this.Ue=new je(ye)}We(t){for(const n of t.fe)t.ge&&t.ge.isFoundDocument()?this.Ge(n,t.ge):this.ze(n,t.key,t.ge);for(const n of t.removedTargetIds)this.ze(n,t.key,t.ge)}je(t){this.forEachTarget(t,n=>{const r=this.He(n);switch(t.state){case 0:this.Je(n)&&r.Fe(t.resumeToken);break;case 1:r.Le(),r.ve||r.xe(),r.Fe(t.resumeToken);break;case 2:r.Le(),r.ve||this.removeTarget(n);break;case 3:this.Je(n)&&(r.ke(),r.Fe(t.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Fe(t.resumeToken));break;default:ne()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Qe.forEach((r,i)=>{this.Je(i)&&n(i)})}Ze(t){var n,r;const i=t.targetId,s=t.pe.count,o=this.Xe(i);if(o){const a=o.target;if(sd(a))if(s===0){const l=new K(a.path);this.ze(i,l,ft.newNoDocument(l,Z.min()))}else Qe(s===1);else{const l=this.et(i);if(l!==s){const u=this.tt(t,l);if(u.status!==0){this.Ye(i);const c=u.status===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(i,c)}(n=Qf.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(h,d,g,E){var _,w,f,p,v,m;const T={localCacheCount:g,existenceFilterCount:E.count},R=E.unchangedNames;return R&&(T.bloomFilter={applied:h===0,hashCount:(_=R==null?void 0:R.hashCount)!==null&&_!==void 0?_:0,bitmapLength:(p=(f=(w=R==null?void 0:R.bits)===null||w===void 0?void 0:w.bitmap)===null||f===void 0?void 0:f.length)!==null&&p!==void 0?p:0,padding:(m=(v=R==null?void 0:R.bits)===null||v===void 0?void 0:v.padding)!==null&&m!==void 0?m:0},d&&(T.bloomFilter.mightContain=d)),T}(u.status,(r=u.nt)!==null&&r!==void 0?r:null,l,t.pe))}}}}tt(t,n){const{unchangedNames:r,count:i}=t.pe;if(!r||!r.bits)return{status:1};const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let l,u;try{l=Yr(s).toUint8Array()}catch(h){if(h instanceof b1)return Qi("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),{status:1};throw h}try{u=new Gf(l,o,a)}catch(h){return Qi(h instanceof js?"BloomFilter error: ":"Applying bloom filter failed: ",h),{status:1}}const c=h=>{const d=this.qe.rt();return u.mightContain(`projects/${d.projectId}/databases/${d.database}/documents/${h}`)};return u.de===0?{status:1}:{status:i===n-this.it(t.targetId,c)?0:2,nt:c}}it(t,n){const r=this.qe.getRemoteKeysForTarget(t);let i=0;return r.forEach(s=>{n(s.path.canonicalString())||(this.ze(t,s,null),i++)}),i}st(t){const n=new Map;this.Qe.forEach((s,o)=>{const a=this.Xe(o);if(a){if(s.current&&sd(a.target)){const l=new K(a.target.path);this.Ke.get(l)!==null||this.ot(o,l)||this.ze(o,l,ft.newNoDocument(l,t))}s.Ce&&(n.set(o,s.Me()),s.xe())}});let r=ce();this.$e.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Xe(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.Ke.forEach((s,o)=>o.setReadTime(t));const i=new xu(t,n,this.Ue,this.Ke,r);return this.Ke=_r(),this.$e=Ng(),this.Ue=new je(ye),i}Ge(t,n){if(!this.Je(t))return;const r=this.ot(t,n.key)?2:0;this.He(t).Oe(n.key,r),this.Ke=this.Ke.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(t))}ze(t,n,r){if(!this.Je(t))return;const i=this.He(t);this.ot(t,n)?i.Oe(n,1):i.Ne(n),this.$e=this.$e.insert(n,this._t(n).delete(t)),r&&(this.Ke=this.Ke.insert(n,r))}removeTarget(t){this.Qe.delete(t)}et(t){const n=this.He(t).Me();return this.qe.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Be(t){this.He(t).Be()}He(t){let n=this.Qe.get(t);return n||(n=new kg,this.Qe.set(t,n)),n}_t(t){let n=this.$e.get(t);return n||(n=new gt(ye),this.$e=this.$e.insert(t,n)),n}Je(t){const n=this.Xe(t)!==null;return n||B("WatchChangeAggregator","Detected inactive target",t),n}Xe(t){const n=this.Qe.get(t);return n&&n.ve?null:this.qe.ut(t)}Ye(t){this.Qe.set(t,new kg),this.qe.getRemoteKeysForTarget(t).forEach(n=>{this.ze(t,n,null)})}ot(t,n){return this.qe.getRemoteKeysForTarget(t).has(n)}}function Ng(){return new je(K.comparator)}function Dg(){return new je(K.comparator)}const xA=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),kA=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),NA=(()=>({and:"AND",or:"OR"}))();class DA{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function cd(e,t){return e.useProto3Json||Tu(t)?t:{value:t}}function LA(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function VA(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Oi(e){return Qe(!!e),Z.fromTimestamp(function(n){const r=vr(n);return new Lt(r.seconds,r.nanos)}(e))}function MA(e,t){return function(r){return new ke(["projects",r.projectId,"databases",r.database])}(e).child("documents").child(t).canonicalString()}function l_(e){const t=ke.fromString(e);return Qe(d_(t)),t}function kc(e,t){const n=l_(t);if(n.get(1)!==e.databaseId.projectId)throw new q(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new q(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new K(u_(n))}function hd(e,t){return MA(e.databaseId,t)}function OA(e){const t=l_(e);return t.length===4?ke.emptyPath():u_(t)}function Lg(e){return new ke(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function u_(e){return Qe(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function FA(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ne()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(Qe(c===void 0||typeof c=="string"),vt.fromBase64String(c||"")):(Qe(c===void 0||c instanceof Uint8Array),vt.fromUint8Array(c||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(u){const c=u.code===void 0?L.UNKNOWN:s_(u.code);return new q(c,u.message||"")}(o);n=new a_(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=kc(e,r.document.name),s=Oi(r.document.updateTime),o=r.document.createTime?Oi(r.document.createTime):Z.min(),a=new mn({mapValue:{fields:r.document.fields}}),l=ft.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Ja(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=kc(e,r.document),s=r.readTime?Oi(r.readTime):Z.min(),o=ft.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Ja([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=kc(e,r.document),s=r.removedTargetIds||[];n=new Ja([],s,i,null)}else{if(!("filter"in t))return ne();{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new CA(i,s),a=r.targetId;n=new o_(a,o)}}return n}function jA(e,t){return{documents:[hd(e,t.path)]}}function $A(e,t){const n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=hd(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=hd(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return h_(Tn.create(l,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(h){return{field:li(h.field),direction:BA(h.dir)}}(u))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=cd(e,t.limit);return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),n}function UA(e){let t=OA(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Qe(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let s=[];n.where&&(s=function(h){const d=c_(h);return d instanceof Tn&&K1(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(d=>function(E){return new Zs(ui(E.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(h){let d;return d=typeof h=="object"?h.value:h,Tu(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(h){const d=!!h.before,g=h.values||[];return new Ol(g,d)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const d=!h.before,g=h.values||[];return new Ol(g,d)}(n.endAt)),iA(t,i,o,s,a,"F",l,u)}function zA(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ne()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function c_(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ui(n.unaryFilter.field);return Ke.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ui(n.unaryFilter.field);return Ke.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ui(n.unaryFilter.field);return Ke.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ui(n.unaryFilter.field);return Ke.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ne()}}(e):e.fieldFilter!==void 0?function(n){return Ke.create(ui(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ne()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Tn.create(n.compositeFilter.filters.map(r=>c_(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ne()}}(n.compositeFilter.op))}(e):ne()}function BA(e){return xA[e]}function bA(e){return kA[e]}function HA(e){return NA[e]}function li(e){return{fieldPath:e.canonicalString()}}function ui(e){return At.fromServerFormat(e.fieldPath)}function h_(e){return e instanceof Ke?function(n){if(n.op==="=="){if(_g(n.value))return{unaryFilter:{field:li(n.field),op:"IS_NAN"}};if(vg(n.value))return{unaryFilter:{field:li(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(_g(n.value))return{unaryFilter:{field:li(n.field),op:"IS_NOT_NAN"}};if(vg(n.value))return{unaryFilter:{field:li(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:li(n.field),op:bA(n.op),value:n.value}}}(e):e instanceof Tn?function(n){const r=n.getFilters().map(i=>h_(i));return r.length===1?r[0]:{compositeFilter:{op:HA(n.op),filters:r}}}(e):ne()}function d_(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(t,n,r,i,s=Z.min(),o=Z.min(),a=vt.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new er(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new er(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(t){this.ct=t}}function KA(e){const t=UA({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?od(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(){this.sn=new QA}addToCollectionParentIndex(t,n){return this.sn.add(n),D.resolve()}getCollectionParents(t,n){return D.resolve(this.sn.getEntries(n))}addFieldIndex(t,n){return D.resolve()}deleteFieldIndex(t,n){return D.resolve()}getDocumentsMatchingTarget(t,n){return D.resolve(null)}getIndexType(t,n){return D.resolve(0)}getFieldIndexes(t,n){return D.resolve([])}getNextCollectionGroupToUpdate(t){return D.resolve(null)}getMinOffset(t,n){return D.resolve(yr.min())}getMinOffsetFromCollectionGroup(t,n){return D.resolve(yr.min())}updateCollectionGroup(t,n,r){return D.resolve()}updateIndexEntries(t,n){return D.resolve()}}class QA{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new gt(ke.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new gt(ke.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(t){this.Mn=t}next(){return this.Mn+=2,this.Mn}static xn(){return new Ji(0)}static On(){return new Ji(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(){this.changes=new cs(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,ft.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?D.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&to(r.mutation,i,Zn.empty(),Lt.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,ce()).next(()=>r))}getLocalViewOfDocuments(t,n,r=ce()){const i=Fr();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(s=>{let o=Fs();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const r=Fr();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,ce()))}populateOverlays(t,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,r,i){let s=_r();const o=eo(),a=function(){return eo()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Pu)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),to(c.mutation,u,c.mutation.getFieldMask(),Lt.now())):o.set(u.key,Zn.empty())}),this.recalculateAndSaveOverlays(t,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var h;return a.set(u,new XA(c,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(t,n){const r=eo();let i=new je((o,a)=>o-a),s=ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Zn.empty();c=a.applyToLocalView(u,c),r.set(l,c);const h=(i.get(a.batchId)||ce()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=Z1();c.forEach(d=>{if(!s.has(d)){const g=r_(n.get(d),r.get(d));g!==null&&h.set(d,g),s=s.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(t,u,h))}return D.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r){return function(s){return K.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):aA(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r):this.getDocumentsMatchingCollectionQuery(t,n,r)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-s.size):D.resolve(Fr());let a=-1,l=s;return o.next(u=>D.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(c)?D.resolve():this.remoteDocumentCache.getEntry(t,c).next(d=>{l=l.insert(c,d)}))).next(()=>this.populateOverlays(t,u,s)).next(()=>this.computeViews(t,l,u,ce())).next(c=>({batchId:a,changes:hA(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new K(n)).next(r=>{let i=Fs();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r){const i=n.collectionGroup;let s=Fs();return this.indexManager.getCollectionParents(t,i).next(o=>D.forEach(o,a=>{const l=function(c,h){return new Iu(h,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(t,l,r).next(u=>{u.forEach((c,h)=>{s=s.insert(c,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,i))).next(s=>{i.forEach((a,l)=>{const u=l.getKey();s.get(u)===null&&(s=s.insert(u,ft.newInvalidDocument(u)))});let o=Fs();return s.forEach((a,l)=>{const u=i.get(a);u!==void 0&&to(u.mutation,l,Zn.empty(),Lt.now()),Ru(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(t){this.serializer=t,this.ar=new Map,this.ur=new Map}getBundleMetadata(t,n){return D.resolve(this.ar.get(n))}saveBundleMetadata(t,n){return this.ar.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Oi(i.createTime)}}(n)),D.resolve()}getNamedQuery(t,n){return D.resolve(this.ur.get(n))}saveNamedQuery(t,n){return this.ur.set(n.name,function(i){return{name:i.name,query:KA(i.bundledQuery),readTime:Oi(i.readTime)}}(n)),D.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(){this.overlays=new je(K.comparator),this.cr=new Map}getOverlay(t,n){return D.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Fr();return D.forEach(n,i=>this.getOverlay(t,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,s)=>{this.ht(t,n,s)}),D.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.cr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.cr.delete(r)),D.resolve()}getOverlaysForCollection(t,n,r){const i=Fr(),s=n.length+1,o=new K(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return D.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let s=new je((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Fr(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Fr(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return D.resolve(a)}ht(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.cr.get(i.largestBatchId).delete(r.key);this.cr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new IA(n,r));let s=this.cr.get(n);s===void 0&&(s=ce(),this.cr.set(n,s)),this.cr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(){this.lr=new gt(Xe.hr),this.Pr=new gt(Xe.Ir)}isEmpty(){return this.lr.isEmpty()}addReference(t,n){const r=new Xe(t,n);this.lr=this.lr.add(r),this.Pr=this.Pr.add(r)}Tr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.Er(new Xe(t,n))}dr(t,n){t.forEach(r=>this.removeReference(r,n))}Ar(t){const n=new K(new ke([])),r=new Xe(n,t),i=new Xe(n,t+1),s=[];return this.Pr.forEachInRange([r,i],o=>{this.Er(o),s.push(o.key)}),s}Rr(){this.lr.forEach(t=>this.Er(t))}Er(t){this.lr=this.lr.delete(t),this.Pr=this.Pr.delete(t)}Vr(t){const n=new K(new ke([])),r=new Xe(n,t),i=new Xe(n,t+1);let s=ce();return this.Pr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(t){const n=new Xe(t,0),r=this.lr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Xe{constructor(t,n){this.key=t,this.mr=n}static hr(t,n){return K.comparator(t.key,n.key)||ye(t.mr,n.mr)}static Ir(t,n){return ye(t.mr,n.mr)||K.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.gr=1,this.pr=new gt(Xe.hr)}checkEmpty(t){return D.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const s=this.gr;this.gr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new SA(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.pr=this.pr.add(new Xe(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return D.resolve(o)}lookupMutationBatch(t,n){return D.resolve(this.yr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.wr(r),s=i<0?0:i;return D.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return D.resolve(this.mutationQueue.length===0?-1:this.gr-1)}getAllMutationBatches(t){return D.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Xe(n,0),i=new Xe(n,Number.POSITIVE_INFINITY),s=[];return this.pr.forEachInRange([r,i],o=>{const a=this.yr(o.mr);s.push(a)}),D.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new gt(ye);return n.forEach(i=>{const s=new Xe(i,0),o=new Xe(i,Number.POSITIVE_INFINITY);this.pr.forEachInRange([s,o],a=>{r=r.add(a.mr)})}),D.resolve(this.Sr(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let s=r;K.isDocumentKey(s)||(s=s.child(""));const o=new Xe(new K(s),0);let a=new gt(ye);return this.pr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.mr)),!0)},o),D.resolve(this.Sr(a))}Sr(t){const n=[];return t.forEach(r=>{const i=this.yr(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){Qe(this.br(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.pr;return D.forEach(n.mutations,i=>{const s=new Xe(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.pr=r})}Cn(t){}containsKey(t,n){const r=new Xe(n,0),i=this.pr.firstAfterOrEqual(r);return D.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,D.resolve()}br(t,n){return this.wr(t)}wr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}yr(t){const n=this.wr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(t){this.Dr=t,this.docs=function(){return new je(K.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Dr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return D.resolve(r?r.document.mutableCopy():ft.newInvalidDocument(n))}getEntries(t,n){let r=_r();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ft.newInvalidDocument(i))}),D.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let s=_r();const o=n.path,a=new K(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||zR(UR(c),r)<=0||(i.has(c.key)||Ru(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return D.resolve(s)}getAllFromCollectionGroup(t,n,r,i){ne()}vr(t,n){return D.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new n2(this)}getSize(t){return D.resolve(this.size)}}class n2 extends GA{constructor(t){super(),this.sr=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.sr.addEntry(t,i)):this.sr.removeEntry(r)}),D.waitFor(n)}getFromCache(t,n){return this.sr.getEntry(t,n)}getAllFromCache(t,n){return this.sr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(t){this.persistence=t,this.Cr=new cs(n=>bf(n),Hf),this.lastRemoteSnapshotVersion=Z.min(),this.highestTargetId=0,this.Fr=0,this.Mr=new Xf,this.targetCount=0,this.Or=Ji.xn()}forEachTarget(t,n){return this.Cr.forEach((r,i)=>n(i)),D.resolve()}getLastRemoteSnapshotVersion(t){return D.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return D.resolve(this.Fr)}allocateTargetId(t){return this.highestTargetId=this.Or.next(),D.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Fr&&(this.Fr=n),D.resolve()}Ln(t){this.Cr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Or=new Ji(n),this.highestTargetId=n),t.sequenceNumber>this.Fr&&(this.Fr=t.sequenceNumber)}addTargetData(t,n){return this.Ln(n),this.targetCount+=1,D.resolve()}updateTargetData(t,n){return this.Ln(n),D.resolve()}removeTargetData(t,n){return this.Cr.delete(n.target),this.Mr.Ar(n.targetId),this.targetCount-=1,D.resolve()}removeTargets(t,n,r){let i=0;const s=[];return this.Cr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Cr.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),D.waitFor(s).next(()=>i)}getTargetCount(t){return D.resolve(this.targetCount)}getTargetData(t,n){const r=this.Cr.get(n)||null;return D.resolve(r)}addMatchingKeys(t,n,r){return this.Mr.Tr(n,r),D.resolve()}removeMatchingKeys(t,n,r){this.Mr.dr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(t,o))}),D.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.Mr.Ar(n),D.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Mr.Vr(n);return D.resolve(r)}containsKey(t,n){return D.resolve(this.Mr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(t,n){this.Nr={},this.overlays={},this.Br=new $f(0),this.Lr=!1,this.Lr=!0,this.referenceDelegate=t(this),this.kr=new r2(this),this.indexManager=new WA,this.remoteDocumentCache=function(i){return new t2(i)}(r=>this.referenceDelegate.qr(r)),this.serializer=new qA(n),this.Qr=new JA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Lr=!1,Promise.resolve()}get started(){return this.Lr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new ZA,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Nr[t.toKey()];return r||(r=new e2(n,this.referenceDelegate),this.Nr[t.toKey()]=r),r}getTargetCache(){return this.kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Qr}runTransaction(t,n,r){B("MemoryPersistence","Starting transaction:",t);const i=new s2(this.Br.next());return this.referenceDelegate.Kr(),r(i).next(s=>this.referenceDelegate.$r(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ur(t,n){return D.or(Object.values(this.Nr).map(r=>()=>r.containsKey(t,n)))}}class s2 extends bR{constructor(t){super(),this.currentSequenceNumber=t}}class Yf{constructor(t){this.persistence=t,this.Wr=new Xf,this.Gr=null}static zr(t){return new Yf(t)}get jr(){if(this.Gr)return this.Gr;throw ne()}addReference(t,n,r){return this.Wr.addReference(r,n),this.jr.delete(r.toString()),D.resolve()}removeReference(t,n,r){return this.Wr.removeReference(r,n),this.jr.add(r.toString()),D.resolve()}markPotentiallyOrphaned(t,n){return this.jr.add(n.toString()),D.resolve()}removeTarget(t,n){this.Wr.Ar(n.targetId).forEach(i=>this.jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(s=>this.jr.add(s.toString()))}).next(()=>r.removeTargetData(t,n))}Kr(){this.Gr=new Set}$r(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return D.forEach(this.jr,r=>{const i=K.fromPath(r);return this.Hr(t,i).next(s=>{s||n.removeEntry(i,Z.min())})}).next(()=>(this.Gr=null,n.apply(t)))}updateLimboDocument(t,n){return this.Hr(t,n).next(r=>{r?this.jr.delete(n.toString()):this.jr.add(n.toString())})}qr(t){return 0}Hr(t,n){return D.or([()=>D.resolve(this.Wr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ur(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.Li=r,this.ki=i}static qi(t,n){let r=ce(),i=ce();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Jf(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(){this.Qi=!1}initialize(t,n){this.Ki=t,this.indexManager=n,this.Qi=!0}getDocumentsMatchingQuery(t,n,r,i){return this.$i(t,n).next(s=>s||this.Ui(t,n,i,r)).next(s=>s||this.Wi(t,n))}$i(t,n){if(Sg(n))return D.resolve(null);let r=jn(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=od(n,null,"F"),r=jn(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{const o=ce(...s);return this.Ki.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,r).next(l=>{const u=this.Gi(n,a);return this.zi(n,u,o,l.readTime)?this.$i(t,od(n,null,"F")):this.ji(t,u,n,l)}))})))}Ui(t,n,r,i){return Sg(n)||i.isEqual(Z.min())?this.Wi(t,n):this.Ki.getDocuments(t,r).next(s=>{const o=this.Gi(n,s);return this.zi(n,o,r,i)?this.Wi(t,n):(pg()<=ge.DEBUG&&B("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ad(n)),this.ji(t,o,n,$R(i,-1)))})}Gi(t,n){let r=new gt(Y1(t));return n.forEach((i,s)=>{Ru(t,s)&&(r=r.add(s))}),r}zi(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Wi(t,n){return pg()<=ge.DEBUG&&B("QueryEngine","Using full collection scan to execute query:",ad(n)),this.Ki.getDocumentsMatchingQuery(t,n,yr.min())}ji(t,n,r,i){return this.Ki.getDocumentsMatchingQuery(t,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(t,n,r,i){this.persistence=t,this.Hi=n,this.serializer=i,this.Ji=new je(ye),this.Yi=new cs(s=>bf(s),Hf),this.Zi=new Map,this.Xi=t.getRemoteDocumentCache(),this.kr=t.getTargetCache(),this.Qr=t.getBundleCache(),this.es(r)}es(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new YA(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ji))}}function l2(e,t,n,r){return new a2(e,t,n,r)}async function f_(e,t){const n=pe(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.es(t),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ce();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({ts:u,removedBatchIds:o,addedBatchIds:a}))})})}function p_(e){const t=pe(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.kr.getLastRemoteSnapshotVersion(n))}function u2(e,t){const n=pe(e),r=t.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Xi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];t.targetChanges.forEach((c,h)=>{const d=i.get(h);if(!d)return;a.push(n.kr.removeMatchingKeys(s,c.removedDocuments,h).next(()=>n.kr.addMatchingKeys(s,c.addedDocuments,h)));let g=d.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(h)!==null?g=g.withResumeToken(vt.EMPTY_BYTE_STRING,Z.min()).withLastLimboFreeSnapshotVersion(Z.min()):c.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(c.resumeToken,r)),i=i.insert(h,g),function(_,w,f){return _.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:f.addedDocuments.size+f.modifiedDocuments.size+f.removedDocuments.size>0}(d,g,c)&&a.push(n.kr.updateTargetData(s,g))});let l=_r(),u=ce();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(c2(s,o,t.documentUpdates).next(c=>{l=c.ns,u=c.rs})),!r.isEqual(Z.min())){const c=n.kr.getLastRemoteSnapshotVersion(s).next(h=>n.kr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return D.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Ji=i,s))}function c2(e,t,n){let r=ce(),i=ce();return n.forEach(s=>r=r.add(s)),t.getEntries(e,r).next(s=>{let o=_r();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Z.min())?(t.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),o=o.insert(a,l)):B("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{ns:o,rs:i}})}function h2(e,t){const n=pe(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.kr.getTargetData(r,t).next(s=>s?(i=s,D.resolve(i)):n.kr.allocateTargetId(r).next(o=>(i=new er(t,o,"TargetPurposeListen",r.currentSequenceNumber),n.kr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(t,r.targetId)),r})}async function dd(e,t,n){const r=pe(e),i=r.Ji.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!ta(o))throw o;B("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}r.Ji=r.Ji.remove(t),r.Yi.delete(i.target)}function Vg(e,t,n){const r=pe(e);let i=Z.min(),s=ce();return r.persistence.runTransaction("Execute query","readonly",o=>function(l,u,c){const h=pe(l),d=h.Yi.get(c);return d!==void 0?D.resolve(h.Ji.get(d)):h.kr.getTargetData(u,c)}(r,o,jn(t)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.kr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,t,n?i:Z.min(),n?s:ce())).next(a=>(d2(r,lA(t),a),{documents:a,ss:s})))}function d2(e,t,n){let r=e.Zi.get(t)||Z.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),e.Zi.set(t,r)}class Mg{constructor(){this.activeTargetIds=pA()}hs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Ps(t){this.activeTargetIds=this.activeTargetIds.delete(t)}ls(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class f2{constructor(){this.Hs=new Mg,this.Js={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.Hs.hs(t),this.Js[t]||"not-current"}updateQueryState(t,n,r){this.Js[t]=n}removeLocalQueryTarget(t){this.Hs.Ps(t)}isLocalQueryTarget(t){return this.Hs.activeTargetIds.has(t)}clearQueryState(t){delete this.Js[t]}getAllActiveQueryTargets(){return this.Hs.activeTargetIds}isActiveQueryTarget(t){return this.Hs.activeTargetIds.has(t)}start(){return this.Hs=new Mg,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{Ys(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(){this.Zs=()=>this.Xs(),this.eo=()=>this.no(),this.ro=[],this.io()}Ys(t){this.ro.push(t)}shutdown(){window.removeEventListener("online",this.Zs),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Zs),window.addEventListener("offline",this.eo)}Xs(){B("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ro)t(0)}no(){B("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ro)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Va=null;function Nc(){return Va===null?Va=function(){return 268435456+Math.round(2147483648*Math.random())}():Va++,"0x"+Va.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(t){this.so=t.so,this.oo=t.oo}_o(t){this.ao=t}uo(t){this.co=t}onMessage(t){this.lo=t}close(){this.oo()}send(t){this.so(t)}ho(){this.ao()}Po(t){this.co(t)}Io(t){this.lo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ct="WebChannelConnection";class y2 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.To=r+"://"+n.host,this.Eo=`projects/${i}/databases/${s}`,this.Ao=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Ro(){return!1}Vo(n,r,i,s,o){const a=Nc(),l=this.mo(n,r);B("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.Eo,"x-goog-request-params":this.Ao};return this.fo(u,s,o),this.po(n,l,u,i).then(c=>(B("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw Qi("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}yo(n,r,i,s,o,a){return this.Vo(n,r,i,s,o)}fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+us}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}mo(n,r){const i=m2[n];return`${this.To}/v1/${r}:${i}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}po(t,n,r,i){const s=Nc();return new Promise((o,a)=>{const l=new PR;l.setWithCredentials(!0),l.listenOnce(CR.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Pc.NO_ERROR:const c=l.getResponseJson();B(ct,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(c)),o(c);break;case Pc.TIMEOUT:B(ct,`RPC '${t}' ${s} timed out`),a(new q(L.DEADLINE_EXCEEDED,"Request time out"));break;case Pc.HTTP_ERROR:const h=l.getStatus();if(B(ct,`RPC '${t}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const g=d==null?void 0:d.error;if(g&&g.status&&g.message){const E=function(w){const f=w.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(f)>=0?f:L.UNKNOWN}(g.status);a(new q(E,g.message))}else a(new q(L.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new q(L.UNAVAILABLE,"Connection failed."));break;default:ne()}}finally{B(ct,`RPC '${t}' ${s} completed.`)}});const u=JSON.stringify(i);B(ct,`RPC '${t}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}wo(t,n,r){const i=Nc(),s=[this.To,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=SR(),a=IR(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new AR({})),this.fo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");B(ct,`Creating RPC '${t}' stream ${i}: ${c}`,l);const h=o.createWebChannel(c,l);let d=!1,g=!1;const E=new g2({so:w=>{g?B(ct,`Not sending because RPC '${t}' stream ${i} is closed:`,w):(d||(B(ct,`Opening RPC '${t}' stream ${i} transport.`),h.open(),d=!0),B(ct,`RPC '${t}' stream ${i} sending:`,w),h.send(w))},oo:()=>h.close()}),_=(w,f,p)=>{w.listen(f,v=>{try{p(v)}catch(m){setTimeout(()=>{throw m},0)}})};return _(h,ka.EventType.OPEN,()=>{g||B(ct,`RPC '${t}' stream ${i} transport opened.`)}),_(h,ka.EventType.CLOSE,()=>{g||(g=!0,B(ct,`RPC '${t}' stream ${i} transport closed`),E.Po())}),_(h,ka.EventType.ERROR,w=>{g||(g=!0,Qi(ct,`RPC '${t}' stream ${i} transport errored:`,w),E.Po(new q(L.UNAVAILABLE,"The operation could not be completed")))}),_(h,ka.EventType.MESSAGE,w=>{var f;if(!g){const p=w.data[0];Qe(!!p);const v=p,m=v.error||((f=v[0])===null||f===void 0?void 0:f.error);if(m){B(ct,`RPC '${t}' stream ${i} received error:`,m);const T=m.status;let R=function($){const M=$e[$];if(M!==void 0)return s_(M)}(T),A=m.message;R===void 0&&(R=L.INTERNAL,A="Unknown error status: "+T+" with message "+m.message),g=!0,E.Po(new q(R,A)),h.close()}else B(ct,`RPC '${t}' stream ${i} received:`,p),E.Io(p)}}),_(a,RR.STAT_EVENT,w=>{w.stat===dg.PROXY?B(ct,`RPC '${t}' stream ${i} detected buffering proxy`):w.stat===dg.NOPROXY&&B(ct,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.ho()},0),E}}function Dc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m_(e){return new DA(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(t,n,r=1e3,i=1.5,s=6e4){this.ii=t,this.timerId=n,this.So=r,this.bo=i,this.Do=s,this.vo=0,this.Co=null,this.Fo=Date.now(),this.reset()}reset(){this.vo=0}Mo(){this.vo=this.Do}xo(t){this.cancel();const n=Math.floor(this.vo+this.Oo()),r=Math.max(0,Date.now()-this.Fo),i=Math.max(0,n-r);i>0&&B("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.vo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Co=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Fo=Date.now(),t())),this.vo*=this.bo,this.vo<this.So&&(this.vo=this.So),this.vo>this.Do&&(this.vo=this.Do)}No(){this.Co!==null&&(this.Co.skipDelay(),this.Co=null)}cancel(){this.Co!==null&&(this.Co.cancel(),this.Co=null)}Oo(){return(Math.random()-.5)*this.vo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(t,n,r,i,s,o,a,l){this.ii=t,this.Bo=r,this.Lo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.ko=0,this.qo=null,this.Qo=null,this.stream=null,this.Ko=new g_(t,n)}$o(){return this.state===1||this.state===5||this.Uo()}Uo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Wo()}async stop(){this.$o()&&await this.close(0)}Go(){this.state=0,this.Ko.reset()}zo(){this.Uo()&&this.qo===null&&(this.qo=this.ii.enqueueAfterDelay(this.Bo,6e4,()=>this.jo()))}Ho(t){this.Jo(),this.stream.send(t)}async jo(){if(this.Uo())return this.close(0)}Jo(){this.qo&&(this.qo.cancel(),this.qo=null)}Yo(){this.Qo&&(this.Qo.cancel(),this.Qo=null)}async close(t,n){this.Jo(),this.Yo(),this.Ko.cancel(),this.ko++,t!==4?this.Ko.reset():n&&n.code===L.RESOURCE_EXHAUSTED?(Fn(n.toString()),Fn("Using maximum backoff delay to prevent overloading the backend."),this.Ko.Mo()):n&&n.code===L.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Zo(),this.stream.close(),this.stream=null),this.state=t,await this.listener.uo(n)}Zo(){}auth(){this.state=1;const t=this.Xo(this.ko),n=this.ko;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.ko===n&&this.e_(r,i)},r=>{t(()=>{const i=new q(L.UNKNOWN,"Fetching auth token failed: "+r.message);return this.t_(i)})})}e_(t,n){const r=this.Xo(this.ko);this.stream=this.n_(t,n),this.stream._o(()=>{r(()=>(this.state=2,this.Qo=this.ii.enqueueAfterDelay(this.Lo,1e4,()=>(this.Uo()&&(this.state=3),Promise.resolve())),this.listener._o()))}),this.stream.uo(i=>{r(()=>this.t_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Wo(){this.state=5,this.Ko.xo(async()=>{this.state=0,this.start()})}t_(t){return B("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Xo(t){return n=>{this.ii.enqueueAndForget(()=>this.ko===t?n():(B("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _2 extends v2{constructor(t,n,r,i,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}n_(t,n){return this.connection.wo("Listen",t,n)}onMessage(t){this.Ko.reset();const n=FA(this.serializer,t),r=function(s){if(!("targetChange"in s))return Z.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Z.min():o.readTime?Oi(o.readTime):Z.min()}(t);return this.listener.r_(n,r)}i_(t){const n={};n.database=Lg(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=sd(l)?{documents:jA(s,l)}:{query:$A(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=VA(s,o.resumeToken);const u=cd(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Z.min())>0){a.readTime=LA(s,o.snapshotVersion.toTimestamp());const u=cd(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,t);const r=zA(this.serializer,t);r&&(n.labels=r),this.Ho(n)}s_(t){const n={};n.database=Lg(this.serializer),n.removeTarget=t,this.Ho(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2 extends class{}{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.h_=!1}P_(){if(this.h_)throw new q(L.FAILED_PRECONDITION,"The client has already been terminated.")}Vo(t,n,r){return this.P_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Vo(t,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new q(L.UNKNOWN,i.toString())})}yo(t,n,r,i){return this.P_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.yo(t,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new q(L.UNKNOWN,s.toString())})}terminate(){this.h_=!0}}class w2{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.T_=0,this.E_=null,this.d_=!0}A_(){this.T_===0&&(this.R_("Unknown"),this.E_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.E_=null,this.V_("Backend didn't respond within 10 seconds."),this.R_("Offline"),Promise.resolve())))}m_(t){this.state==="Online"?this.R_("Unknown"):(this.T_++,this.T_>=1&&(this.f_(),this.V_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.R_("Offline")))}set(t){this.f_(),this.T_=0,t==="Online"&&(this.d_=!1),this.R_(t)}R_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}V_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.d_?(Fn(n),this.d_=!1):B("OnlineStateTracker",n)}f_(){this.E_!==null&&(this.E_.cancel(),this.E_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(t,n,r,i,s){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.g_=[],this.p_=new Map,this.y_=new Set,this.w_=[],this.S_=s,this.S_.Ys(o=>{r.enqueueAndForget(async()=>{ia(this)&&(B("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=pe(l);u.y_.add(4),await ra(u),u.b_.set("Unknown"),u.y_.delete(4),await ku(u)}(this))})}),this.b_=new w2(r,i)}}async function ku(e){if(ia(e))for(const t of e.w_)await t(!0)}async function ra(e){for(const t of e.w_)await t(!1)}function y_(e,t){const n=pe(e);n.p_.has(t.targetId)||(n.p_.set(t.targetId,t),tp(n)?ep(n):hs(n).Uo()&&Zf(n,t))}function v_(e,t){const n=pe(e),r=hs(n);n.p_.delete(t),r.Uo()&&__(n,t),n.p_.size===0&&(r.Uo()?r.zo():ia(n)&&n.b_.set("Unknown"))}function Zf(e,t){if(e.D_.Be(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Z.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}hs(e).i_(t)}function __(e,t){e.D_.Be(t),hs(e).s_(t)}function ep(e){e.D_=new PA({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ut:t=>e.p_.get(t)||null,rt:()=>e.datastore.serializer.databaseId}),hs(e).start(),e.b_.A_()}function tp(e){return ia(e)&&!hs(e).$o()&&e.p_.size>0}function ia(e){return pe(e).y_.size===0}function E_(e){e.D_=void 0}async function S2(e){e.p_.forEach((t,n)=>{Zf(e,t)})}async function I2(e,t){E_(e),tp(e)?(e.b_.m_(t),ep(e)):e.b_.set("Unknown")}async function C2(e,t,n){if(e.b_.set("Online"),t instanceof a_&&t.state===2&&t.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.p_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.p_.delete(a),i.D_.removeTarget(a))}(e,t)}catch(r){B("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Fg(e,r)}else if(t instanceof Ja?e.D_.We(t):t instanceof o_?e.D_.Ze(t):e.D_.je(t),!n.isEqual(Z.min()))try{const r=await p_(e.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.D_.st(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.p_.get(u);c&&s.p_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.p_.get(l);if(!c)return;s.p_.set(l,c.withResumeToken(vt.EMPTY_BYTE_STRING,c.snapshotVersion)),__(s,l);const h=new er(c.target,l,u,c.sequenceNumber);Zf(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(r){B("RemoteStore","Failed to raise snapshot:",r),await Fg(e,r)}}async function Fg(e,t,n){if(!ta(t))throw t;e.y_.add(1),await ra(e),e.b_.set("Offline"),n||(n=()=>p_(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{B("RemoteStore","Retrying IndexedDB access"),await n(),e.y_.delete(1),await ku(e)})}async function jg(e,t){const n=pe(e);n.asyncQueue.verifyOperationInProgress(),B("RemoteStore","RemoteStore received new credentials");const r=ia(n);n.y_.add(3),await ra(n),r&&n.b_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.y_.delete(3),await ku(n)}async function R2(e,t){const n=pe(e);t?(n.y_.delete(2),await ku(n)):t||(n.y_.add(2),await ra(n),n.b_.set("Unknown"))}function hs(e){return e.v_||(e.v_=function(n,r,i){const s=pe(n);return s.P_(),new _2(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{_o:S2.bind(null,e),uo:I2.bind(null,e),r_:C2.bind(null,e)}),e.w_.push(async t=>{t?(e.v_.Go(),tp(e)?ep(e):e.b_.set("Unknown")):(await e.v_.stop(),E_(e))})),e.v_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(t,n,r,i,s){const o=Date.now()+r,a=new np(t,n,o,i,s);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(L.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function w_(e,t){if(Fn("AsyncQueue",`${t}: ${e}`),ta(e))return new q(L.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(t){this.comparator=t?(n,r)=>t(n,r)||K.comparator(n.key,r.key):(n,r)=>K.comparator(n.key,r.key),this.keyedMap=Fs(),this.sortedSet=new je(this.comparator)}static emptySet(t){return new Fi(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Fi)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Fi;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(){this.F_=new je(K.comparator)}track(t){const n=t.doc.key,r=this.F_.get(n);r?t.type!==0&&r.type===3?this.F_=this.F_.insert(n,t):t.type===3&&r.type!==1?this.F_=this.F_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.F_=this.F_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.F_=this.F_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.F_=this.F_.remove(n):t.type===1&&r.type===2?this.F_=this.F_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.F_=this.F_.insert(n,{type:2,doc:t.doc}):ne():this.F_=this.F_.insert(n,t)}M_(){const t=[];return this.F_.inorderTraversal((n,r)=>{t.push(r)}),t}}class Zi{constructor(t,n,r,i,s,o,a,l,u){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Zi(t,n,Fi.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Cu(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(){this.x_=void 0,this.listeners=[]}}class P2{constructor(){this.queries=new cs(t=>X1(t),Cu),this.onlineState="Unknown",this.O_=new Set}}async function T_(e,t){const n=pe(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new A2),i)try{s.x_=await n.onListen(r)}catch(o){const a=w_(o,`Initialization of query '${ad(t.query)}' failed`);return void t.onError(a)}n.queries.set(r,s),s.listeners.push(t),t.N_(n.onlineState),s.x_&&t.B_(s.x_)&&rp(n)}async function S_(e,t){const n=pe(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(t);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function x2(e,t){const n=pe(e);let r=!1;for(const i of t){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.B_(i)&&(r=!0);o.x_=i}}r&&rp(n)}function k2(e,t,n){const r=pe(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function rp(e){e.O_.forEach(t=>{t.next()})}class I_{constructor(t,n,r){this.query=t,this.L_=n,this.k_=!1,this.q_=null,this.onlineState="Unknown",this.options=r||{}}B_(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new Zi(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.k_?this.Q_(t)&&(this.L_.next(t),n=!0):this.K_(t,this.onlineState)&&(this.U_(t),n=!0),this.q_=t,n}onError(t){this.L_.error(t)}N_(t){this.onlineState=t;let n=!1;return this.q_&&!this.k_&&this.K_(this.q_,t)&&(this.U_(this.q_),n=!0),n}K_(t,n){if(!t.fromCache)return!0;const r=n!=="Offline";return(!this.options.W_||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Q_(t){if(t.docChanges.length>0)return!0;const n=this.q_&&this.q_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}U_(t){t=Zi.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.k_=!0,this.L_.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(t){this.key=t}}class R_{constructor(t){this.key=t}}class N2{constructor(t,n){this.query=t,this.X_=n,this.ea=null,this.hasCachedResults=!1,this.current=!1,this.ta=ce(),this.mutatedKeys=ce(),this.na=Y1(t),this.ra=new Fi(this.na)}get ia(){return this.X_}sa(t,n){const r=n?n.oa:new $g,i=n?n.ra:this.ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,h)=>{const d=i.get(c),g=Ru(this.query,h)?h:null,E=!!d&&this.mutatedKeys.has(d.key),_=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let w=!1;d&&g?d.data.isEqual(g.data)?E!==_&&(r.track({type:3,doc:g}),w=!0):this._a(d,g)||(r.track({type:2,doc:g}),w=!0,(l&&this.na(g,l)>0||u&&this.na(g,u)<0)&&(a=!0)):!d&&g?(r.track({type:0,doc:g}),w=!0):d&&!g&&(r.track({type:1,doc:d}),w=!0,(l||u)&&(a=!0)),w&&(g?(o=o.add(g),s=_?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{ra:o,oa:r,zi:a,mutatedKeys:s}}_a(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r){const i=this.ra;this.ra=t.ra,this.mutatedKeys=t.mutatedKeys;const s=t.oa.M_();s.sort((u,c)=>function(d,g){const E=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ne()}};return E(d)-E(g)}(u.type,c.type)||this.na(u.doc,c.doc)),this.aa(r);const o=n?this.ua():[],a=this.ta.size===0&&this.current?1:0,l=a!==this.ea;return this.ea=a,s.length!==0||l?{snapshot:new Zi(this.query,t.ra,i,s,t.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),ca:o}:{ca:o}}N_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({ra:this.ra,oa:new $g,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{ca:[]}}la(t){return!this.X_.has(t)&&!!this.ra.has(t)&&!this.ra.get(t).hasLocalMutations}aa(t){t&&(t.addedDocuments.forEach(n=>this.X_=this.X_.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.X_=this.X_.delete(n)),this.current=t.current)}ua(){if(!this.current)return[];const t=this.ta;this.ta=ce(),this.ra.forEach(r=>{this.la(r.key)&&(this.ta=this.ta.add(r.key))});const n=[];return t.forEach(r=>{this.ta.has(r)||n.push(new R_(r))}),this.ta.forEach(r=>{t.has(r)||n.push(new C_(r))}),n}ha(t){this.X_=t.ss,this.ta=ce();const n=this.sa(t.documents);return this.applyChanges(n,!0)}Pa(){return Zi.fromInitialDocuments(this.query,this.ra,this.mutatedKeys,this.ea===0,this.hasCachedResults)}}class D2{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class L2{constructor(t){this.key=t,this.Ia=!1}}class V2{constructor(t,n,r,i,s,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ta={},this.Ea=new cs(a=>X1(a),Cu),this.da=new Map,this.Aa=new Set,this.Ra=new je(K.comparator),this.Va=new Map,this.ma=new Xf,this.fa={},this.ga=new Map,this.pa=Ji.On(),this.onlineState="Unknown",this.ya=void 0}get isPrimaryClient(){return this.ya===!0}}async function M2(e,t){const n=B2(e);let r,i;const s=n.Ea.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Pa();else{const o=await h2(n.localStore,jn(t)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await O2(n,t,r,a==="current",o.resumeToken),n.isPrimaryClient&&y_(n.remoteStore,o)}return i}async function O2(e,t,n,r,i){e.wa=(h,d,g)=>async function(_,w,f,p){let v=w.view.sa(f);v.zi&&(v=await Vg(_.localStore,w.query,!1).then(({documents:R})=>w.view.sa(R,v)));const m=p&&p.targetChanges.get(w.targetId),T=w.view.applyChanges(v,_.isPrimaryClient,m);return zg(_,w.targetId,T.ca),T.snapshot}(e,h,d,g);const s=await Vg(e.localStore,t,!0),o=new N2(t,s.ss),a=o.sa(s.documents),l=na.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),u=o.applyChanges(a,e.isPrimaryClient,l);zg(e,n,u.ca);const c=new D2(t,n,o);return e.Ea.set(t,c),e.da.has(n)?e.da.get(n).push(t):e.da.set(n,[t]),u.snapshot}async function F2(e,t){const n=pe(e),r=n.Ea.get(t),i=n.da.get(r.targetId);if(i.length>1)return n.da.set(r.targetId,i.filter(s=>!Cu(s,t))),void n.Ea.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await dd(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),v_(n.remoteStore,r.targetId),fd(n,r.targetId)}).catch(jf)):(fd(n,r.targetId),await dd(n.localStore,r.targetId,!0))}async function A_(e,t){const n=pe(e);try{const r=await u2(n.localStore,t);t.targetChanges.forEach((i,s)=>{const o=n.Va.get(s);o&&(Qe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ia=!0:i.modifiedDocuments.size>0?Qe(o.Ia):i.removedDocuments.size>0&&(Qe(o.Ia),o.Ia=!1))}),await x_(n,r,t)}catch(r){await jf(r)}}function Ug(e,t,n){const r=pe(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Ea.forEach((s,o)=>{const a=o.view.N_(t);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=pe(o);l.onlineState=a;let u=!1;l.queries.forEach((c,h)=>{for(const d of h.listeners)d.N_(a)&&(u=!0)}),u&&rp(l)}(r.eventManager,t),i.length&&r.Ta.r_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function j2(e,t,n){const r=pe(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Va.get(t),s=i&&i.key;if(s){let o=new je(K.comparator);o=o.insert(s,ft.newNoDocument(s,Z.min()));const a=ce().add(s),l=new xu(Z.min(),new Map,new je(ye),o,a);await A_(r,l),r.Ra=r.Ra.remove(s),r.Va.delete(t),ip(r)}else await dd(r.localStore,t,!1).then(()=>fd(r,t,n)).catch(jf)}function fd(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.da.get(t))e.Ea.delete(r),n&&e.Ta.Sa(r,n);e.da.delete(t),e.isPrimaryClient&&e.ma.Ar(t).forEach(r=>{e.ma.containsKey(r)||P_(e,r)})}function P_(e,t){e.Aa.delete(t.path.canonicalString());const n=e.Ra.get(t);n!==null&&(v_(e.remoteStore,n),e.Ra=e.Ra.remove(t),e.Va.delete(n),ip(e))}function zg(e,t,n){for(const r of n)r instanceof C_?(e.ma.addReference(r.key,t),$2(e,r)):r instanceof R_?(B("SyncEngine","Document no longer in limbo: "+r.key),e.ma.removeReference(r.key,t),e.ma.containsKey(r.key)||P_(e,r.key)):ne()}function $2(e,t){const n=t.key,r=n.path.canonicalString();e.Ra.get(n)||e.Aa.has(r)||(B("SyncEngine","New document in limbo: "+n),e.Aa.add(r),ip(e))}function ip(e){for(;e.Aa.size>0&&e.Ra.size<e.maxConcurrentLimboResolutions;){const t=e.Aa.values().next().value;e.Aa.delete(t);const n=new K(ke.fromString(t)),r=e.pa.next();e.Va.set(r,new L2(n)),e.Ra=e.Ra.insert(n,r),y_(e.remoteStore,new er(jn(qf(n.path)),r,"TargetPurposeLimboResolution",$f.ae))}}async function x_(e,t,n){const r=pe(e),i=[],s=[],o=[];r.Ea.isEmpty()||(r.Ea.forEach((a,l)=>{o.push(r.wa(l,t,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=Jf.qi(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.Ta.r_(i),await async function(l,u){const c=pe(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>D.forEach(u,d=>D.forEach(d.Li,g=>c.persistence.referenceDelegate.addReference(h,d.targetId,g)).next(()=>D.forEach(d.ki,g=>c.persistence.referenceDelegate.removeReference(h,d.targetId,g)))))}catch(h){if(!ta(h))throw h;B("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const d=h.targetId;if(!h.fromCache){const g=c.Ji.get(d),E=g.snapshotVersion,_=g.withLastLimboFreeSnapshotVersion(E);c.Ji=c.Ji.insert(d,_)}}}(r.localStore,s))}async function U2(e,t){const n=pe(e);if(!n.currentUser.isEqual(t)){B("SyncEngine","User change. New user:",t.toKey());const r=await f_(n.localStore,t);n.currentUser=t,function(s,o){s.ga.forEach(a=>{a.forEach(l=>{l.reject(new q(L.CANCELLED,o))})}),s.ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await x_(n,r.ts)}}function z2(e,t){const n=pe(e),r=n.Va.get(t);if(r&&r.Ia)return ce().add(r.key);{let i=ce();const s=n.da.get(t);if(!s)return i;for(const o of s){const a=n.Ea.get(o);i=i.unionWith(a.view.ia)}return i}}function B2(e){const t=pe(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=A_.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=z2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=j2.bind(null,t),t.Ta.r_=x2.bind(null,t.eventManager),t.Ta.Sa=k2.bind(null,t.eventManager),t}class Bg{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=m_(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return l2(this.persistence,new o2,t.initialUser,this.serializer)}createPersistence(t){return new i2(Yf.zr,this.serializer)}createSharedClientState(t){return new f2}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class b2{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Ug(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=U2.bind(null,this.syncEngine),await R2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new P2}()}createDatastore(t){const n=m_(t.databaseInfo.databaseId),r=function(s){return new y2(s)}(t.databaseInfo);return function(s,o,a,l){return new E2(s,o,a,l)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,s,o,a){return new T2(r,i,s,o,a)}(this.localStore,this.datastore,t.asyncQueue,n=>Ug(this.syncEngine,n,0),function(){return Og.v()?new Og:new p2}())}createSyncEngine(t,n){return function(i,s,o,a,l,u,c){const h=new V2(i,s,o,a,l,u);return c&&(h.ya=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=pe(n);B("RemoteStore","RemoteStore shutting down."),r.y_.add(5),await ra(r),r.S_.shutdown(),r.b_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.va(this.observer.next,t)}error(t){this.observer.error?this.va(this.observer.error,t):Fn("Uncaught Error in snapshot listener:",t.toString())}Ca(){this.muted=!0}va(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(t,n,r,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ht.UNAUTHENTICATED,this.clientId=B1.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{B("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(B("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new q(L.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=w_(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function Lc(e,t){e.asyncQueue.verifyOperationInProgress(),B("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await f_(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function bg(e,t){e.asyncQueue.verifyOperationInProgress();const n=await K2(e);B("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(i=>jg(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,s)=>jg(t.remoteStore,s)),e._onlineComponents=t}function q2(e){return e.name==="FirebaseError"?e.code===L.FAILED_PRECONDITION||e.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function K2(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){B("FirestoreClient","Using user provided OfflineComponentProvider");try{await Lc(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!q2(n))throw n;Qi("Error using user provided cache. Falling back to memory cache: "+n),await Lc(e,new Bg)}}else B("FirestoreClient","Using default OfflineComponentProvider"),await Lc(e,new Bg);return e._offlineComponents}async function W2(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(B("FirestoreClient","Using user provided OnlineComponentProvider"),await bg(e,e._uninitializedComponentsProvider._online)):(B("FirestoreClient","Using default OnlineComponentProvider"),await bg(e,new b2))),e._onlineComponents}async function N_(e){const t=await W2(e),n=t.eventManager;return n.onListen=M2.bind(null,t.syncEngine),n.onUnlisten=F2.bind(null,t.syncEngine),n}function Q2(e,t,n={}){const r=new dr;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new k_({next:d=>{o.enqueueAndForget(()=>S_(s,h));const g=d.docs.has(a);!g&&d.fromCache?u.reject(new q(L.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&d.fromCache&&l&&l.source==="server"?u.reject(new q(L.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(d)},error:d=>u.reject(d)}),h=new I_(qf(a.path),c,{includeMetadataChanges:!0,W_:!0});return T_(s,h)}(await N_(e),e.asyncQueue,t,n,r)),r.promise}function G2(e,t,n={}){const r=new dr;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new k_({next:d=>{o.enqueueAndForget(()=>S_(s,h)),d.fromCache&&l.source==="server"?u.reject(new q(L.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),h=new I_(a,c,{includeMetadataChanges:!0,W_:!0});return T_(s,h)}(await N_(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D_(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hg=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L_(e,t,n){if(!n)throw new q(L.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function X2(e,t,n,r){if(t===!0&&r===!0)throw new q(L.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function qg(e){if(!K.isDocumentKey(e))throw new q(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Kg(e){if(K.isDocumentKey(e))throw new q(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Y2(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":ne()}function Fo(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new q(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Y2(e);throw new q(L.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new q(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new q(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}X2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=D_((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new q(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new q(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new q(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Nu{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Wg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new q(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new q(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Wg(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new kR;switch(r.type){case"firstParty":return new VR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new q(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Hg.get(n);r&&(B("ComponentProvider","Removing Datastore"),Hg.delete(n),r.terminate())}(this),Promise.resolve()}}function J2(e,t,n,r={}){var i;const s=(e=Fo(e,Nu))._getSettings(),o=`${t}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Qi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=ht.MOCK_USER;else{a=aI(r.mockUserToken,(i=e._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new q(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new ht(u)}e._authCredentials=new NR(new z1(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Du(this.firestore,t,this._query)}}class En{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new En(this.firestore,t,this._key)}}class fr extends Du{constructor(t,n,r){super(t,n,qf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new En(this.firestore,null,new K(t))}withConverter(t){return new fr(this.firestore,t,this._path)}}function V_(e,t,...n){if(e=D0(e),L_("collection","path",t),e instanceof Nu){const r=ke.fromString(t,...n);return Kg(r),new fr(e,null,r)}{if(!(e instanceof En||e instanceof fr))throw new q(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ke.fromString(t,...n));return Kg(r),new fr(e.firestore,null,r)}}function Z2(e,t,...n){if(e=D0(e),arguments.length===1&&(t=B1.V()),L_("doc","path",t),e instanceof Nu){const r=ke.fromString(t,...n);return qg(r),new En(e,null,new K(r))}{if(!(e instanceof En||e instanceof fr))throw new q(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ke.fromString(t,...n));return qg(r),new En(e.firestore,e instanceof fr?e.converter:null,new K(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(){this.Wa=Promise.resolve(),this.Ga=[],this.za=!1,this.ja=[],this.Ha=null,this.Ja=!1,this.Ya=!1,this.Za=[],this.Ko=new g_(this,"async_queue_retry"),this.Xa=()=>{const n=Dc();n&&B("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Ko.No()};const t=Dc();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Xa)}get isShuttingDown(){return this.za}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.eu(),this.tu(t)}enterRestrictedMode(t){if(!this.za){this.za=!0,this.Ya=t||!1;const n=Dc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xa)}}enqueue(t){if(this.eu(),this.za)return new Promise(()=>{});const n=new dr;return this.tu(()=>this.za&&this.Ya?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ga.push(t),this.nu()))}async nu(){if(this.Ga.length!==0){try{await this.Ga[0](),this.Ga.shift(),this.Ko.reset()}catch(t){if(!ta(t))throw t;B("AsyncQueue","Operation failed with retryable error: "+t)}this.Ga.length>0&&this.Ko.xo(()=>this.nu())}}tu(t){const n=this.Wa.then(()=>(this.Ja=!0,t().catch(r=>{this.Ha=r,this.Ja=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Fn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ja=!1,r))));return this.Wa=n,n}enqueueAfterDelay(t,n,r){this.eu(),this.Za.indexOf(t)>-1&&(n=0);const i=np.createAndSchedule(this,t,n,r,s=>this.ru(s));return this.ja.push(i),i}eu(){this.Ha&&ne()}verifyOperationInProgress(){}async iu(){let t;do t=this.Wa,await t;while(t!==this.Wa)}su(t){for(const n of this.ja)if(n.timerId===t)return!0;return!1}ou(t){return this.iu().then(()=>{this.ja.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ja)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.iu()})}_u(t){this.Za.push(t)}ru(t){const n=this.ja.indexOf(t);this.ja.splice(n,1)}}class sp extends Nu{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=function(){return new eP}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||O_(this),this._firestoreClient.terminate()}}function tP(e,t){const n=typeof e=="object"?e:hC(),r=typeof e=="string"?e:t||"(default)",i=aC(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=sI("firestore");s&&J2(i,...s)}return i}function M_(e){return e._firestoreClient||O_(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function O_(e){var t,n,r;const i=e._freezeSettings(),s=function(a,l,u,c){return new KR(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,D_(c.experimentalLongPollingOptions),c.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new H2(e._authCredentials,e._appCheckCredentials,e._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(t){this._byteString=t}static fromBase64String(t){try{return new $l(vt.fromBase64String(t))}catch(n){throw new q(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new $l(vt.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new q(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new At(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new q(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new q(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return ye(this._lat,t._lat)||ye(this._long,t._long)}}const rP=new RegExp("[~\\*/\\[\\]]");function iP(e,t,n){if(t.search(rP)>=0)throw Qg(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new F_(...t.split("."))._internalPath}catch{throw Qg(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Qg(e,t,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new q(L.INVALID_ARGUMENT,a+e+l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new En(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new sP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field($_("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class sP extends j_{data(){return super.data()}}function $_(e,t){return typeof t=="string"?iP(e,t):t instanceof F_?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oP(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new q(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class aP{convertValue(t,n="none"){switch(Jr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ze(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Yr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw ne()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return Su(t,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(t){return new nP(ze(t.latitude),ze(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=zf(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Vo(t));default:return null}}convertTimestamp(t){const n=vr(t);return new Lt(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=ke.fromString(t);Qe(d_(r));const i=new Mo(r.get(1),r.get(3)),s=new K(r.popFirst(5));return i.isEqual(n)||Fn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class U_ extends j_{constructor(t,n,r,i,s,o){super(t,n,r,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Za(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field($_("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Za extends U_{data(t={}){return super.data(t)}}class lP{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new $s(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new Za(this._firestore,this._userDataWriter,r.key,r,new $s(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new q(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Za(i._firestore,i._userDataWriter,a.doc.key,a.doc,new $s(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Za(i._firestore,i._userDataWriter,a.doc.key,a.doc,new $s(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:uP(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function uP(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ne()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cP(e){e=Fo(e,En);const t=Fo(e.firestore,sp);return Q2(M_(t),e._key).then(n=>hP(t,e,n))}class z_ extends aP{constructor(t){super(),this.firestore=t}convertBytes(t){return new $l(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new En(this.firestore,null,n)}}function B_(e){e=Fo(e,Du);const t=Fo(e.firestore,sp),n=M_(t),r=new z_(t);return oP(e._query),G2(n,e._query).then(i=>new lP(t,r,e,i))}function hP(e,t,n){const r=n.docs.get(t._key),i=new z_(e);return new U_(e,i,t._key,r,new $s(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(i){us=i})(cC),Pl(new So("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new sp(new DR(r.getProvider("auth-internal")),new OR(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new q(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mo(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Di(fg,"4.1.0",t),Di(fg,"4.1.0","esm2017")})();const dP={apiKey:"AIzaSyCT8tdkPsuh7aScUguoKWy7p7oyf4zrpYs",authDomain:"e-commerce-app-19245.firebaseapp.com",projectId:"e-commerce-app-19245",storageBucket:"e-commerce-app-19245.appspot.com",messagingSenderId:"633562208870",appId:"1:633562208870:web:f766186b7140979746aba7"},fP=O0(dP),op=tP(fP),pP=V_(op,"glass");async function ds(){return(await B_(pP)).docs.map(n=>({...n.data(),id:n.id}))}async function mP(e){const t=Z2(op,"glass",e),n=await cP(t);return{...n.data(),id:n.id}}const gP=V_(op,"user");async function yP(){return(await B_(gP)).docs.map(n=>({...n.data(),id:n.id}))}var b_={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Gg=ie.createContext&&ie.createContext(b_),pr=globalThis&&globalThis.__assign||function(){return pr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},pr.apply(this,arguments)},vP=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function H_(e){return e&&e.map(function(t,n){return ie.createElement(t.tag,pr({key:n},t.attr),H_(t.child))})}function ap(e){return function(t){return ie.createElement(_P,pr({attr:pr({},e.attr)},t),H_(e.child))}}function _P(e){var t=function(n){var r=e.attr,i=e.size,s=e.title,o=vP(e,["attr","size","title"]),a=i||n.size||"1em",l;return n.className&&(l=n.className),e.className&&(l=(l?l+" ":"")+e.className),ie.createElement("svg",pr({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:pr(pr({color:e.color||n.color},n.style),e.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&ie.createElement("title",null,s),e.children)};return Gg!==void 0?ie.createElement(Gg.Consumer,null,function(n){return t(n)}):t(b_)}function EP(e){return ap({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12.0049 2C15.3186 2 18.0049 4.68629 18.0049 8V9H22.0049V11H20.8379L20.0813 20.083C20.0381 20.6013 19.6048 21 19.0847 21H4.92502C4.40493 21 3.97166 20.6013 3.92847 20.083L3.17088 11H2.00488V9H6.00488V8C6.00488 4.68629 8.69117 2 12.0049 2ZM18.8309 11H5.17788L5.84488 19H18.1639L18.8309 11ZM13.0049 13V17H11.0049V13H13.0049ZM9.00488 13V17H7.00488V13H9.00488ZM17.0049 13V17H15.0049V13H17.0049ZM12.0049 4C9.86269 4 8.1138 5.68397 8.00978 7.80036L8.00488 8V9H16.0049V8C16.0049 5.8578 14.3209 4.10892 12.2045 4.0049L12.0049 4Z"}}]})(e)}function q_(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=q_(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function tr(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=q_(e))&&(r&&(r+=" "),r+=t);return r}const no=e=>typeof e=="number"&&!isNaN(e),Zr=e=>typeof e=="string",xt=e=>typeof e=="function",el=e=>Zr(e)||xt(e)?e:null,Vc=e=>S.isValidElement(e)||Zr(e)||xt(e)||no(e);function wP(e,t,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)})})}function Lu(e){let{enter:t,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:s=300}=e;return function(o){let{children:a,position:l,preventExitTransition:u,done:c,nodeRef:h,isIn:d}=o;const g=r?`${t}--${l}`:t,E=r?`${n}--${l}`:n,_=S.useRef(0);return S.useLayoutEffect(()=>{const w=h.current,f=g.split(" "),p=v=>{v.target===h.current&&(w.dispatchEvent(new Event("d")),w.removeEventListener("animationend",p),w.removeEventListener("animationcancel",p),_.current===0&&v.type!=="animationcancel"&&w.classList.remove(...f))};w.classList.add(...f),w.addEventListener("animationend",p),w.addEventListener("animationcancel",p)},[]),S.useEffect(()=>{const w=h.current,f=()=>{w.removeEventListener("animationend",f),i?wP(w,c,s):c()};d||(u?f():(_.current=1,w.className+=` ${E}`,w.addEventListener("animationend",f)))},[d]),ie.createElement(ie.Fragment,null,a)}}function Xg(e,t){return e!=null?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const bt={list:new Map,emitQueue:new Map,on(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off(e,t){if(t){const n=this.list.get(e).filter(r=>r!==t);return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit(e){const t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit(e){this.list.has(e)&&this.list.get(e).forEach(t=>{const n=setTimeout(()=>{t(...[].slice.call(arguments,1))},0);this.emitQueue.has(e)||this.emitQueue.set(e,[]),this.emitQueue.get(e).push(n)})}},Ma=e=>{let{theme:t,type:n,...r}=e;return ie.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...r})},Mc={info:function(e){return ie.createElement(Ma,{...e},ie.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return ie.createElement(Ma,{...e},ie.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return ie.createElement(Ma,{...e},ie.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return ie.createElement(Ma,{...e},ie.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return ie.createElement("div",{className:"Toastify__spinner"})}};function TP(e){const[,t]=S.useReducer(g=>g+1,0),[n,r]=S.useState([]),i=S.useRef(null),s=S.useRef(new Map).current,o=g=>n.indexOf(g)!==-1,a=S.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:o,getToast:g=>s.get(g)}).current;function l(g){let{containerId:E}=g;const{limit:_}=a.props;!_||E&&a.containerId!==E||(a.count-=a.queue.length,a.queue=[])}function u(g){r(E=>g==null?[]:E.filter(_=>_!==g))}function c(){const{toastContent:g,toastProps:E,staleId:_}=a.queue.shift();d(g,E,_)}function h(g,E){let{delay:_,staleId:w,...f}=E;if(!Vc(g)||function(W){return!i.current||a.props.enableMultiContainer&&W.containerId!==a.props.containerId||s.has(W.toastId)&&W.updateId==null}(f))return;const{toastId:p,updateId:v,data:m}=f,{props:T}=a,R=()=>u(p),A=v==null;A&&a.count++;const k={...T,style:T.toastStyle,key:a.toastKey++,...Object.fromEntries(Object.entries(f).filter(W=>{let[de,ae]=W;return ae!=null})),toastId:p,updateId:v,data:m,closeToast:R,isIn:!1,className:el(f.className||T.toastClassName),bodyClassName:el(f.bodyClassName||T.bodyClassName),progressClassName:el(f.progressClassName||T.progressClassName),autoClose:!f.isLoading&&($=f.autoClose,M=T.autoClose,$===!1||no($)&&$>0?$:M),deleteToast(){const W=Xg(s.get(p),"removed");s.delete(p),bt.emit(4,W);const de=a.queue.length;if(a.count=p==null?a.count-a.displayedToast:a.count-1,a.count<0&&(a.count=0),de>0){const ae=p==null?a.props.limit:1;if(de===1||ae===1)a.displayedToast++,c();else{const U=ae>de?de:ae;a.displayedToast=U;for(let z=0;z<U;z++)c()}}else t()}};var $,M;k.iconOut=function(W){let{theme:de,type:ae,isLoading:U,icon:z}=W,ee=null;const P={theme:de,type:ae};return z===!1||(xt(z)?ee=z(P):S.isValidElement(z)?ee=S.cloneElement(z,P):Zr(z)||no(z)?ee=z:U?ee=Mc.spinner():(O=>O in Mc)(ae)&&(ee=Mc[ae](P))),ee}(k),xt(f.onOpen)&&(k.onOpen=f.onOpen),xt(f.onClose)&&(k.onClose=f.onClose),k.closeButton=T.closeButton,f.closeButton===!1||Vc(f.closeButton)?k.closeButton=f.closeButton:f.closeButton===!0&&(k.closeButton=!Vc(T.closeButton)||T.closeButton);let se=g;S.isValidElement(g)&&!Zr(g.type)?se=S.cloneElement(g,{closeToast:R,toastProps:k,data:m}):xt(g)&&(se=g({closeToast:R,toastProps:k,data:m})),T.limit&&T.limit>0&&a.count>T.limit&&A?a.queue.push({toastContent:se,toastProps:k,staleId:w}):no(_)?setTimeout(()=>{d(se,k,w)},_):d(se,k,w)}function d(g,E,_){const{toastId:w}=E;_&&s.delete(_);const f={content:g,props:E};s.set(w,f),r(p=>[...p,w].filter(v=>v!==_)),bt.emit(4,Xg(f,f.props.updateId==null?"added":"updated"))}return S.useEffect(()=>(a.containerId=e.containerId,bt.cancelEmit(3).on(0,h).on(1,g=>i.current&&u(g)).on(5,l).emit(2,a),()=>{s.clear(),bt.emit(3,a)}),[]),S.useEffect(()=>{a.props=e,a.isToastActive=o,a.displayedToast=n.length}),{getToastToRender:function(g){const E=new Map,_=Array.from(s.values());return e.newestOnTop&&_.reverse(),_.forEach(w=>{const{position:f}=w.props;E.has(f)||E.set(f,[]),E.get(f).push(w)}),Array.from(E,w=>g(w[0],w[1]))},containerRef:i,isToastActive:o}}function Yg(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function Jg(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function SP(e){const[t,n]=S.useState(!1),[r,i]=S.useState(!1),s=S.useRef(null),o=S.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,a=S.useRef(e),{autoClose:l,pauseOnHover:u,closeToast:c,onClick:h,closeOnClick:d}=e;function g(m){if(e.draggable){m.nativeEvent.type==="touchstart"&&m.nativeEvent.preventDefault(),o.didMove=!1,document.addEventListener("mousemove",f),document.addEventListener("mouseup",p),document.addEventListener("touchmove",f),document.addEventListener("touchend",p);const T=s.current;o.canCloseOnClick=!0,o.canDrag=!0,o.boundingRect=T.getBoundingClientRect(),T.style.transition="",o.x=Yg(m.nativeEvent),o.y=Jg(m.nativeEvent),e.draggableDirection==="x"?(o.start=o.x,o.removalDistance=T.offsetWidth*(e.draggablePercent/100)):(o.start=o.y,o.removalDistance=T.offsetHeight*(e.draggablePercent===80?1.5*e.draggablePercent:e.draggablePercent/100))}}function E(m){if(o.boundingRect){const{top:T,bottom:R,left:A,right:k}=o.boundingRect;m.nativeEvent.type!=="touchend"&&e.pauseOnHover&&o.x>=A&&o.x<=k&&o.y>=T&&o.y<=R?w():_()}}function _(){n(!0)}function w(){n(!1)}function f(m){const T=s.current;o.canDrag&&T&&(o.didMove=!0,t&&w(),o.x=Yg(m),o.y=Jg(m),o.delta=e.draggableDirection==="x"?o.x-o.start:o.y-o.start,o.start!==o.x&&(o.canCloseOnClick=!1),T.style.transform=`translate${e.draggableDirection}(${o.delta}px)`,T.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function p(){document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",p),document.removeEventListener("touchmove",f),document.removeEventListener("touchend",p);const m=s.current;if(o.canDrag&&o.didMove&&m){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return i(!0),void e.closeToast();m.style.transition="transform 0.2s, opacity 0.2s",m.style.transform=`translate${e.draggableDirection}(0)`,m.style.opacity="1"}}S.useEffect(()=>{a.current=e}),S.useEffect(()=>(s.current&&s.current.addEventListener("d",_,{once:!0}),xt(e.onOpen)&&e.onOpen(S.isValidElement(e.children)&&e.children.props),()=>{const m=a.current;xt(m.onClose)&&m.onClose(S.isValidElement(m.children)&&m.children.props)}),[]),S.useEffect(()=>(e.pauseOnFocusLoss&&(document.hasFocus()||w(),window.addEventListener("focus",_),window.addEventListener("blur",w)),()=>{e.pauseOnFocusLoss&&(window.removeEventListener("focus",_),window.removeEventListener("blur",w))}),[e.pauseOnFocusLoss]);const v={onMouseDown:g,onTouchStart:g,onMouseUp:E,onTouchEnd:E};return l&&u&&(v.onMouseEnter=w,v.onMouseLeave=_),d&&(v.onClick=m=>{h&&h(m),o.canCloseOnClick&&c()}),{playToast:_,pauseToast:w,isRunning:t,preventExitTransition:r,toastRef:s,eventHandlers:v}}function K_(e){let{closeToast:t,theme:n,ariaLabel:r="close"}=e;return ie.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:i=>{i.stopPropagation(),t(i)},"aria-label":r},ie.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ie.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function IP(e){let{delay:t,isRunning:n,closeToast:r,type:i="default",hide:s,className:o,style:a,controlledProgress:l,progress:u,rtl:c,isIn:h,theme:d}=e;const g=s||l&&u===0,E={...a,animationDuration:`${t}ms`,animationPlayState:n?"running":"paused",opacity:g?0:1};l&&(E.transform=`scaleX(${u})`);const _=tr("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${d}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":c}),w=xt(o)?o({rtl:c,type:i,defaultClassName:_}):tr(_,o);return ie.createElement("div",{role:"progressbar","aria-hidden":g?"true":"false","aria-label":"notification timer",className:w,style:E,[l&&u>=1?"onTransitionEnd":"onAnimationEnd"]:l&&u<1?null:()=>{h&&r()}})}const CP=e=>{const{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:i}=SP(e),{closeButton:s,children:o,autoClose:a,onClick:l,type:u,hideProgressBar:c,closeToast:h,transition:d,position:g,className:E,style:_,bodyClassName:w,bodyStyle:f,progressClassName:p,progressStyle:v,updateId:m,role:T,progress:R,rtl:A,toastId:k,deleteToast:$,isIn:M,isLoading:se,iconOut:W,closeOnClick:de,theme:ae}=e,U=tr("Toastify__toast",`Toastify__toast-theme--${ae}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":A},{"Toastify__toast--close-on-click":de}),z=xt(E)?E({rtl:A,position:g,type:u,defaultClassName:U}):tr(U,E),ee=!!R||!a,P={closeToast:h,type:u,theme:ae};let O=null;return s===!1||(O=xt(s)?s(P):S.isValidElement(s)?S.cloneElement(s,P):K_(P)),ie.createElement(d,{isIn:M,done:$,position:g,preventExitTransition:n,nodeRef:r},ie.createElement("div",{id:k,onClick:l,className:z,...i,style:_,ref:r},ie.createElement("div",{...M&&{role:T},className:xt(w)?w({type:u}):tr("Toastify__toast-body",w),style:f},W!=null&&ie.createElement("div",{className:tr("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!se})},W),ie.createElement("div",null,o)),O,ie.createElement(IP,{...m&&!ee?{key:`pb-${m}`}:{},rtl:A,theme:ae,delay:a,isRunning:t,isIn:M,closeToast:h,hide:c,type:u,style:v,className:p,controlledProgress:ee,progress:R||0})))},Vu=function(e,t){return t===void 0&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},RP=Lu(Vu("bounce",!0));Lu(Vu("slide",!0));Lu(Vu("zoom"));Lu(Vu("flip"));const jo=S.forwardRef((e,t)=>{const{getToastToRender:n,containerRef:r,isToastActive:i}=TP(e),{className:s,style:o,rtl:a,containerId:l}=e;function u(c){const h=tr("Toastify__toast-container",`Toastify__toast-container--${c}`,{"Toastify__toast-container--rtl":a});return xt(s)?s({position:c,rtl:a,defaultClassName:h}):tr(h,el(s))}return S.useEffect(()=>{t&&(t.current=r.current)},[]),ie.createElement("div",{ref:r,className:"Toastify",id:l},n((c,h)=>{const d=h.length?{...o}:{...o,pointerEvents:"none"};return ie.createElement("div",{className:u(c),style:d,key:`container-${c}`},h.map((g,E)=>{let{content:_,props:w}=g;return ie.createElement(CP,{...w,isIn:i(w.toastId),style:{...w.style,"--nth":E+1,"--len":h.length},key:`toast-${w.key}`},_)}))}))});jo.displayName="ToastContainer",jo.defaultProps={position:"top-right",transition:RP,autoClose:5e3,closeButton:K_,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let Oc,kr=new Map,Us=[],AP=1;function W_(){return""+AP++}function PP(e){return e&&(Zr(e.toastId)||no(e.toastId))?e.toastId:W_()}function ro(e,t){return kr.size>0?bt.emit(0,e,t):Us.push({content:e,options:t}),t.toastId}function Ul(e,t){return{...t,type:t&&t.type||e,toastId:PP(t)}}function Oa(e){return(t,n)=>ro(t,Ul(e,n))}function ue(e,t){return ro(e,Ul("default",t))}ue.loading=(e,t)=>ro(e,Ul("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),ue.promise=function(e,t,n){let r,{pending:i,error:s,success:o}=t;i&&(r=Zr(i)?ue.loading(i,n):ue.loading(i.render,{...n,...i}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(c,h,d)=>{if(h==null)return void ue.dismiss(r);const g={type:c,...a,...n,data:d},E=Zr(h)?{render:h}:h;return r?ue.update(r,{...g,...E}):ue(E.render,{...g,...E}),d},u=xt(e)?e():e;return u.then(c=>l("success",o,c)).catch(c=>l("error",s,c)),u},ue.success=Oa("success"),ue.info=Oa("info"),ue.error=Oa("error"),ue.warning=Oa("warning"),ue.warn=ue.warning,ue.dark=(e,t)=>ro(e,Ul("default",{theme:"dark",...t})),ue.dismiss=e=>{kr.size>0?bt.emit(1,e):Us=Us.filter(t=>e!=null&&t.options.toastId!==e)},ue.clearWaitingQueue=function(e){return e===void 0&&(e={}),bt.emit(5,e)},ue.isActive=e=>{let t=!1;return kr.forEach(n=>{n.isToastActive&&n.isToastActive(e)&&(t=!0)}),t},ue.update=function(e,t){t===void 0&&(t={}),setTimeout(()=>{const n=function(r,i){let{containerId:s}=i;const o=kr.get(s||Oc);return o&&o.getToast(r)}(e,t);if(n){const{props:r,content:i}=n,s={delay:100,...r,...t,toastId:t.toastId||e,updateId:W_()};s.toastId!==e&&(s.staleId=e);const o=s.render||i;delete s.render,ro(o,s)}},0)},ue.done=e=>{ue.update(e,{progress:1})},ue.onChange=e=>(bt.on(4,e),()=>{bt.off(4,e)}),ue.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},ue.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},bt.on(2,e=>{Oc=e.containerId||e,kr.set(Oc,e),Us.forEach(t=>{bt.emit(0,t.content,t.options)}),Us=[]}).on(3,e=>{kr.delete(e.containerId||e),kr.size===0&&bt.off(0).off(1).off(5)});const xP=({glass:e,quantity:t,removeFromBasket:de,setQuantity:r,priceArray:i,array:s,setArray:o,click:a,setClick:l,size:u,color:c})=>{const{glasses:h,setGlasses:d,itemId:g,setItemId:E,length:_,setLength:w,status:f,setStatus:p,deleteArray:v,setDeleteArray:m,removePrice:T,setRemovePrice:R,detailStatus:A,setDetailStatus:k}=S.useContext(rs),[$,M]=S.useState(1),se=U=>{M($+1),r(t+1),o(z=>[...z,Number(U)])},W=U=>{M($-1),r(t-1),m(z=>[...z,Number(U)])};function de(U){w(_-1),E(P=>P.filter(O=>O!==U)),l(!0),ue("Item removed from basket!",{position:ue.POSITION.TOP_CENTER,className:"toast-message"});const z=f.filter(P=>P.id===U);z.length>0&&(z[0].style.display="block",z[0].nextElementSibling.style.display="none",z[0].parentElement.previousElementSibling.firstChild.style.border="none",z[0].parentElement.previousElementSibling.lastChild.style.border="none",z[0].style.border="none");const ee=A.filter(P=>P.id===U);ee.length>0&&(ee[0].style.display="block",ee[0].nextElementSibling.style.display="none"),p(P=>P.filter(O=>O.id!==U))}function ae(U){R(z=>[...z,Number(U)])}return y.jsxs(y.Fragment,{children:[y.jsxs("div",{id:e.id,className:"single-item",children:[y.jsxs("div",{className:"button-sider",children:[y.jsx("button",{className:"plus",id:e.id,onClick:()=>se(e.price),children:"+"}),y.jsx("button",{className:"minus",id:e.id,onClick:()=>W(e.price),disabled:$===1,children:"-"})]}),y.jsx("div",{className:"item-image",children:y.jsx("img",{src:e.imageUrl,alt:"image nahi milega"})}),y.jsxs("div",{className:"name--quantity",children:[y.jsx("p",{className:"name",children:e.name}),y.jsx("p",{children:"Quantity"}),y.jsx("p",{className:"quantity",children:$})]}),y.jsxs("div",{className:"sizes",children:[y.jsx("p",{children:"Size"}),y.jsx("p",{className:"size",style:{color:"#222222",fontSize:"1rem",fontWeight:"bold"},children:`${u||"28 mm"}`})]}),y.jsxs("div",{className:"colors",children:[y.jsx("p",{children:"Color"}),y.jsx("p",{className:"colorr",style:{backgroundColor:`${c||"red"}`}})]}),y.jsx("p",{className:"amount-per-item",children:`$${e.price*$}.00`}),y.jsx("button",{className:"remove-item",onClick:()=>{de(e.id),ae(e.price*$-e.price)},children:"×"})]}),y.jsx(jo,{})]})},kP=({glasses:e})=>{const{inputValue:t,setInputValue:n,isSubmit:r,setIsSubmit:i,basketItemsId:s,setBasketItemsId:o,itemId:a,setItemId:l,length:u,setLength:c,clearBasket:h,setClearBasket:d,counter:g,setCounter:E,status:_,setStatus:w,array:f,setArray:p,click:v,setClick:m,deleteArray:T,setDeleteArray:R,removePrice:A,setRemovePrice:k,size:$,color:M}=S.useContext(rs),[se,W]=S.useState(1),[de,ae]=S.useState(!1);let U=[];for(let re=0;re<a.length;re++)e!==[]&&(h||U.push(...e.filter(Jt=>Jt.id===a[re])));let z=[];U.forEach(re=>{z.push(re.price)});const ee=0,P=z.reduce((re,Jt)=>re+Jt,ee),O=f.reduce((re,Jt)=>re+Jt,ee),H=T.reduce((re,Jt)=>re+Jt,ee),fe=A.reduce((re,Jt)=>re+Jt,ee);function Ae(re){re.preventDefault(),i(!0)}function cn(){localStorage.removeItem("loggedin")}function me(){ae(!0)}function Yt(re){re.preventDefault(),ae(!1)}function zt(){d(!0),a.splice(0,a.length),p([]),R([]),k([])}function bn(){alert(`Checkout - Subtotal: ${P+O-H-fe}.00`)}return y.jsxs("div",{className:"link",children:[y.jsxs("div",{className:"links",children:[y.jsxs("nav",{className:"nav--links",children:[y.jsx(Rt,{className:"home",to:"/",children:"#E-COMMERCE"}),y.jsxs("div",{className:"side--links",children:[y.jsx(Vs,{to:"/",className:({isActive:re})=>re?"active-link":null,children:"Home"}),y.jsx(Vs,{to:"/shop",className:({isActive:re})=>re?"active-link":null,children:"Shop"}),y.jsx(Vs,{to:"/featured",className:({isActive:re})=>re?"active-link":null,children:"Featured"}),y.jsx(Vs,{to:"/recommended",className:({isActive:re})=>re?"active-link":null,children:"Recommended"})]})]}),y.jsxs("div",{className:"others",children:[y.jsx("div",{className:"first",children:y.jsx(Rt,{to:"/search",children:y.jsx("form",{onSubmit:Ae,children:y.jsx("input",{type:"text",className:"input",value:r?"":t,placeholder:"Search products...",onChange:re=>n(re.target.value)})})})}),y.jsxs("div",{className:"second",children:[y.jsxs("div",{className:"basket--icon",onClick:me,children:[y.jsx(EP,{size:"1.5rem",color:"#222222",className:"basket-icon"}),y.jsx("span",{children:U.length>0&&`${h?u*0:u}`})]}),y.jsx(Rt,{to:"/login",className:"login-link",children:"Log In"}),y.jsx("button",{onClick:cn,className:"log-out",children:"Log Out"})]})]})]}),y.jsxs("div",{className:`basket-container ${de?"fade-in":""}`,children:[y.jsxs("div",{className:"basket-header",children:[y.jsxs("p",{children:["My Basket(",`${h?u*0:u} items`,")"]}),y.jsxs("div",{className:"btn-container",children:[y.jsx("button",{className:"close",onClick:Yt,children:"Close"}),y.jsx("button",{onClick:zt,children:"Clear Basket"})]})]}),y.jsx("div",{className:"item-list",children:U==null?void 0:U.map(re=>y.jsx(xP,{glass:re,quantity:se,setQuantity:W,priceArray:z,array:f,setArray:p,deleteArray:T,setDeleteArray:R,removePrice:A,setRemovePrice:k,click:v,setClick:m,size:$,color:M},re.id))}),y.jsxs("div",{className:"basket-footer",children:[y.jsxs("div",{className:"basket-amount",children:[y.jsx("p",{className:"title-amt",children:"Subtotal Amount"}),y.jsx("p",{className:"summed-amount",children:`$${P+O-H-fe}.00`})]}),y.jsx("button",{onClick:bn,children:"CHECK OUT"})]})]})]})};function NP(){return ds()}const DP=()=>{const e=ri();return y.jsxs("div",{className:"app-container",children:[y.jsx(kP,{glasses:e}),y.jsx("main",{children:y.jsx(C0,{})})]})};function LP(e){return ap({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M869 487.8L491.2 159.9c-2.9-2.5-6.6-3.9-10.5-3.9h-88.5c-7.4 0-10.8 9.2-5.2 14l350.2 304H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h585.1L386.9 854c-5.6 4.9-2.2 14 5.2 14h91.5c1.9 0 3.8-.7 5.2-2L869 536.2a32.07 32.07 0 0 0 0-48.4z"}}]})(e)}function VP(e){return ap({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M868 545.5L536.1 163a31.96 31.96 0 0 0-48.3 0L156 545.5a7.97 7.97 0 0 0 6 13.2h81c4.6 0 9-2 12.1-5.5L474 300.9V864c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V300.9l218.9 252.3c3 3.5 7.4 5.5 12.1 5.5h81c6.8 0 10.5-8 6-13.2z"}}]})(e)}const MP=()=>y.jsx("div",{className:"footer",children:y.jsxs("footer",{children:[y.jsxs("div",{className:"identity",children:[y.jsx("p",{children:"Developped by"}),y.jsx("span",{children:y.jsx("a",{href:"https://github.com/hellow-world007",children:"JOY MONDAL"})})]}),y.jsx("p",{children:"© 2023"}),y.jsxs("p",{children:["Fork this project",y.jsx("a",{href:"#",children:"HERE"})]})]})});function OP(){return ds()}const FP=()=>{const[e,t]=qo(),n=ri(),i=n.filter(a=>a.type==="featured").slice(2).map(a=>{const{category:l,id:u,imageUrl:c,name:h,price:d}=a;return y.jsx(Rt,{to:`/featured/${u}`,state:{search:e.toString(),name:"featured"},children:y.jsxs("div",{className:"glass-item",children:[y.jsx("figure",{children:y.jsx("img",{src:c,alt:"image not found"})}),y.jsxs("div",{className:"title-category",children:[y.jsx("p",{className:"img-title",children:h}),y.jsx("p",{className:"img-category",children:l})]})]},u)},u)}),o=n.filter(a=>a.type==="recommended").map(a=>{const{category:l,id:u,imageUrl:c,name:h,price:d}=a;return y.jsx(Rt,{to:`/recommended/${u}`,state:{search:e.toString()},children:y.jsxs("div",{className:"glass-item",children:[y.jsx("figure",{children:y.jsx("img",{src:c,alt:"image not found"})}),y.jsxs("div",{className:"title-category",children:[y.jsx("p",{className:"img-title",children:h}),y.jsx("p",{className:"img-category",children:l})]})]},u)},u)});return y.jsxs("div",{className:"home-container",children:[y.jsxs("div",{className:"home-representative",children:[y.jsxs("p",{className:"title",children:[y.jsx("span",{children:"See"})," everything ",y.jsx("br",{})," with ",y.jsx("span",{children:"Clarity"})]}),y.jsxs("p",{className:"description",children:["Lorem ipsum dolor sit amet consectetur ",y.jsx("br",{})," adipisicing elit. Omnis voluptatibus ",y.jsx("br",{})," id quidem esse voluptatum sit mollitia ut ",y.jsx("br",{}),"libero repudiandae soluta."]}),y.jsxs(Rt,{className:"shop-now",to:"/shop",children:["Shop Now",y.jsx("span",{children:y.jsx(LP,{className:"arrow-right"})})]})]}),y.jsxs("div",{className:"featured-products",children:[y.jsxs("div",{className:"featured-header",children:[y.jsx("p",{className:"products-title",children:"Featured Products"}),y.jsx(Rt,{className:"all-featured-items",to:"/featured",children:"See All"})]}),y.jsx("div",{className:"featured-items",children:i})]}),y.jsxs("div",{className:"recommended-products",children:[y.jsxs("div",{className:"recommended-header",children:[y.jsx("p",{className:"products-title",children:"Recommended Products"}),y.jsx(Rt,{className:"all-recommended-items",to:"/recommended",children:"See All"})]}),y.jsx("div",{className:"recommended-items",children:o})]}),y.jsx("div",{className:"move-to-top",children:y.jsx("a",{href:"#",children:y.jsx(VP,{})})}),y.jsx(MP,{})]})},jP=({postsPerPage:e,totalPosts:t,paginate:n,previousPage:r,nextPage:i})=>y.jsx("div",{className:"pagination-container",children:y.jsxs("ul",{className:"pagination",children:[y.jsx("li",{onClick:r,className:"page-number",children:"Prev"}),y.jsx("li",{onClick:i,className:"page-number",children:"Next"})]})});function $P(){return ds()}const UP=()=>{const{itemId:e,setItemId:t,length:n,setLength:r,clearBasket:i,setClearBasket:s,status:o,setStatus:a,loading:l,setLoading:u,array:c,setArray:h,click:d,setClick:g,deleteArray:E,setDeleteArray:_,removePrice:w,setRemovePrice:f}=S.useContext(rs),p=ri(),[v,m]=qo(),[T,R]=S.useState(1),[A]=S.useState(10),k=v.get("type");S.useState("");const $=T*A,M=$-A,se=p.slice(M,$),W=P=>{R(P)},de=()=>{T!==1&&R(T-1)},ae=()=>{T!==Math.ceil(p.length/A)&&R(T+1)},U=P=>{const O=P.target.parentElement.parentElement.id;t(H=>[...H,`${O}`]),ue("Item added to basket!",{position:ue.POSITION.TOP_CENTER,className:"toast-message"}),r(n+1),s(!1),P.target.style.display="none",P.target.nextElementSibling.style.display="block",P.target.parentElement.previousElementSibling.firstChild.style.border="1px solid #34495e",P.target.parentElement.previousElementSibling.lastChild.style.border="1px solid #34495e",P.target.nextElementSibling.style.border="1px solid #34495e",a(H=>[...H,P.target])};function z(P){r(n-1),t(O=>O.filter(H=>H!==P.target.parentElement.parentElement.id)),ue("Item removed from basket!",{position:ue.POSITION.TOP_CENTER,className:"toast-message"}),h([]),_([]),f([]),P.target.style.display="none",P.target.previousElementSibling.style.display="block",P.target.parentElement.previousElementSibling.firstChild.style.border="none",P.target.parentElement.previousElementSibling.lastChild.style.border="none",P.target.previousElementSibling.style.border="none"}const ee=se.map((P,O)=>{const{category:H,id:fe,imageUrl:Ae,name:cn,price:me}=P;return y.jsxs("div",{id:fe,className:"glass-item",children:[y.jsxs(Rt,{to:`/shop/${fe}`,state:{search:v.toString(),name:"shop",type:k},children:[y.jsx("figure",{children:y.jsx("img",{src:Ae,alt:"image not found"})}),y.jsxs("div",{className:"title-category",children:[y.jsx("p",{className:"img-title",children:cn}),y.jsx("p",{className:"img-category",children:H}),y.jsx("p",{className:"price-category",children:`$${me}`})]})]},fe),y.jsxs("div",{className:"buttons",children:[y.jsx("button",{className:"add-to-basket",id:fe,onClick:U,children:"Add to basket"}),y.jsx("button",{className:"remove-from-basket",onClick:z,children:"Remove from basket"})]})]},fe)});return y.jsxs("div",{className:"shop-container",children:[y.jsx("div",{className:"shop-items",children:ee}),y.jsx(jo,{}),y.jsx("div",{className:"pagination",children:p?y.jsx("div",{className:"pagination-section",children:y.jsx(jP,{postsPerPage:A,totalPosts:p.length,paginate:W,previousPage:de,nextPage:ae})}):y.jsx("div",{className:"loading",children:"Loading..."})})]})};function zP(){return ds()}const BP=()=>{const[e,t]=qo(),i=ri().filter(s=>s.type==="featured").map(s=>{const{category:o,id:a,imageUrl:l,name:u,price:c}=s;return y.jsx(Rt,{to:`/featured/${a}`,state:{search:e.toString(),name:"featured"},children:y.jsxs("div",{className:"glass-item",children:[y.jsx("figure",{children:y.jsx("img",{src:l,alt:"image not found"})}),y.jsxs("div",{className:"title-category",children:[y.jsx("p",{className:"img-title",children:u}),y.jsx("p",{className:"img-category",children:o})]})]},a)},a)});return y.jsxs("div",{className:"featured-container",children:[y.jsx("div",{className:"featured-representative",children:y.jsx("h1",{children:"Featured Products"})}),y.jsx("div",{className:"featured-items",children:i})]})};function bP(){return ds()}const HP=()=>{const[e,t]=qo(),i=ri().filter(s=>s.type==="recommended").map(s=>{const{category:o,id:a,imageUrl:l,name:u,price:c}=s;return y.jsx(Rt,{to:`/recommended/${a}`,state:{search:e.toString(),name:"recommended"},children:y.jsxs("div",{className:"glass-item",children:[y.jsx("figure",{children:y.jsx("img",{src:l,alt:"image not found"})}),y.jsxs("div",{className:"title-category",children:[y.jsx("p",{className:"img-title",children:u}),y.jsx("p",{className:"img-category",children:o})]})]},a)},a)});return y.jsxs("div",{className:"recommended-container",children:[y.jsx("div",{className:"recommended-representative",children:y.jsxs("h1",{children:["Recommended ",y.jsx("br",{})," Products"]})}),y.jsx("div",{className:"recommended-items",children:i})]})};function qP(){const[e,t]=ie.useState({email:"",password:""}),[n,r]=ie.useState("idle"),[i,s]=ie.useState(null),[o,a]=S.useState([]),[l,u]=S.useState(!1);S.useEffect(()=>{async function d(){r("submitting");try{const g=await yP();a(g[0])}catch(g){s(g)}finally{r("idle")}}d()},[]),ou();function c(d){d.preventDefault(),o.email===e.email&&o.password===e.password&&(localStorage.setItem("loggedin",!0),u(!0))}function h(d){const{name:g,value:E}=d.target;t(_=>({..._,[g]:E}))}return y.jsxs("div",{className:"login-container",children:[y.jsx("h1",{children:"Log in to your account"}),y.jsx("h2",{children:"Use email: joy@gmail.com && password: 123@456 for now."}),(i==null?void 0:i.message)&&y.jsx("h3",{className:"login-error",children:i.message}),l&&y.jsx(I0,{to:"/shop",replace:!0}),y.jsxs("form",{onSubmit:c,className:"login-form",children:[y.jsx("input",{name:"email",onChange:h,type:"email",placeholder:"Email address...",value:e.email}),y.jsx("input",{name:"password",onChange:h,type:"password",placeholder:"Password...",value:e.password}),y.jsx("button",{disabled:n==="submitting",children:n==="submitting"?"Logging in...":"Log in"})]})]})}const KP=()=>y.jsxs("div",{className:"not-found",children:[y.jsx("h1",{children:"Sorry, the page you were looking for was not found"}),y.jsx(Vs,{className:"link-button",to:"/",children:"Return to Home"})]});function Fa({params:e}){return mP(e.id)}const ja=()=>{var se,W,de,ae;const{setItemId:e,length:t,setLength:n,clearBasket:r,setClearBasket:i,status:s,setStatus:o,size:a,setSize:l,detailStatus:u,setDetailStatus:c,setArray:h,setDeleteArray:d,setRemovePrice:g,color:E,setColor:_}=S.useContext(rs),w=Bn(),[f,p]=ie.useState({adjustSize:"-size-"}),v=ri(),m=U=>{const z=U.target.parentElement.parentElement.id;e(ee=>[...ee,`${z}`]),ue("Item added to basket!",{position:ue.POSITION.TOP_CENTER,className:"toast-message"}),n(t+1),i(!1),c(ee=>[...ee,U.target]),U.target.style.display="none",U.target.nextElementSibling.style.display="block",l(f.adjustSize)};function T(U){n(t-1),e(z=>z.filter(ee=>ee!==U.target.parentElement.parentElement.id)),ue("Item removed from basket!",{position:ue.POSITION.TOP_CENTER,className:"toast-message"}),U.target.style.display="none",U.target.previousElementSibling.style.display="block",h([]),d([]),g([])}function R(U){const{name:z,value:ee,type:P,checked:O}=U.target;p(H=>({...H,[z]:ee}))}function A(U){U.preventDefault()}function k(U){if(U.target.classList.contains("color")){const z=U.target.parentElement.parentElement.previousElementSibling;U.target.dataset.id==="red"&&(z.src="https://firebasestorage.googleapis.com/v0/b/salinaka-ecommerce.appspot.com/o/products%2F7l3FMZqY8JdfssalDgx2?alt=media&token=be15689c-e12c-4829-9d78-32395ef1e3f7",_("red")),U.target.dataset.id==="yellow"&&(z.src="https://firebasestorage.googleapis.com/v0/b/salinaka-ecommerce.appspot.com/o/products%2FaubOenOJu42CNp4zXTLX?alt=media&token=1d5fd281-b9cc-499b-94a5-225273b1eabc",_("yellow")),U.target.dataset.id==="purple"&&(z.src="https://firebasestorage.googleapis.com/v0/b/salinaka-ecommerce.appspot.com/o/products%2FLIu8tS4yHSU28Xi8BXCj?alt=media&token=31e796ad-dbd6-4e4f-a8a9-192f5158684a",_("purple")),U.target.dataset.id==="black"&&(z.src="https://firebasestorage.googleapis.com/v0/b/salinaka-ecommerce.appspot.com/o/products%2FALz5M4DI7MF7CdZrq3gS?alt=media&token=8d33ea34-2de3-466b-9b3d-27015e9cd540",_("black")),U.target.dataset.id==="orange"&&(z.src="https://firebasestorage.googleapis.com/v0/b/salinaka-ecommerce.appspot.com/o/products%2FcLGc3mcbZrK3Tl3yJ3xW?alt=media&token=44f74e92-f2ca-4af3-82f6-7a3bcace7f7a",_("orange"))}}const $=((se=w.state)==null?void 0:se.search)&&((W=w.state)==null?void 0:W.search),M=((de=w.state)==null?void 0:de.name)&&((ae=w.state)==null?void 0:ae.name);return y.jsxs("div",{className:"details-container",children:[y.jsxs(Rt,{to:`..${$}`,relative:"path",className:"back-button",children:["← ",y.jsxs("span",{children:["Back to ",M," items"]})]}),v&&y.jsxs("div",{className:"detailed-items",children:[y.jsx("img",{src:v.imageUrl}),y.jsxs("div",{id:v.id,className:"detail-elements",children:[y.jsx("p",{className:"nickname",children:v.category}),y.jsx("p",{className:"main-name",children:v.name}),y.jsx("p",{className:"descriptionn",children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Alias earum veniam cum sit non in delectus rem consequuntur! Voluptas, reiciendis."}),y.jsx("hr",{}),y.jsxs("form",{onSubmit:A,children:[y.jsx("label",{htmlFor:"adjustSize",children:"Lens Width and Frame Size"}),y.jsx("br",{}),y.jsxs("select",{id:"adjustSize",value:f.adjustSize,onChange:R,name:"adjustSize",children:[y.jsx("option",{value:f.adjustSize,children:f.adjustSize}),y.jsx("option",{value:"28 mm",children:"28 mm"}),y.jsx("option",{value:"36 mm",children:"36 mm"}),y.jsx("option",{value:"42 mm",children:"42 mm"})]})]}),y.jsx("p",{className:"choose",children:"Choose color"}),y.jsxs("div",{className:"colors-container",onClick:k,children:[y.jsx("div",{class:"color",style:{backgroundColor:"red"},"data-id":"red"}),y.jsx("div",{class:"color",style:{backgroundColor:"yellow"},"data-id":"yellow"}),y.jsx("div",{class:"color",style:{backgroundColor:"purple"},"data-id":"purple"}),y.jsx("div",{class:"color",style:{backgroundColor:"black"},"data-id":"black"}),y.jsx("div",{class:"color",style:{backgroundColor:"orange"},"data-id":"orange"})]}),y.jsx("p",{className:"main-price",children:`$${v.price}.00`}),y.jsxs("div",{className:"buttons",children:[y.jsx("button",{className:"add-to-baskett",id:v.id,onClick:m,children:"Add to basket"}),y.jsx("button",{className:"remove-from-baskett",onClick:T,children:"Remove from basket"})]})]})]}),y.jsx(jo,{})]})};function WP(){return ds()}const QP=()=>{const{inputValue:e,setInputValue:t,isSubmit:n,setIsSubmit:r,itemId:i,setItemId:s,length:o,setLength:a,clearBasket:l,setClearBasket:u,status:c,setStatus:h,loading:d,setLoading:g}=S.useContext(rs),[E,_]=qo(),f=ri().filter(T=>T.name===e),p=T=>{const R=T.target.parentElement.parentElement.id;s(A=>[...A,`${R}`]),a(o+1),u(!1),console.log("add"),T.target.classList.add("add"),T.target.nextElementSibling.classList.add("remove"),T.target.parentElement.previousElementSibling.firstChild.style.border="1px solid #34495e",T.target.parentElement.previousElementSibling.lastChild.style.border="1px solid #34495e",T.target.nextElementSibling.style.border="1px solid #34495e",h(T.target)};function v(T){a(o-1),s(R=>R.filter(A=>A!==T.target.parentElement.parentElement.id)),console.log("remove"),T.target.classList.remove("remove"),T.target.previousElementSibling.classList.remove("add"),T.target.parentElement.previousElementSibling.firstChild.style.border="none",T.target.parentElement.previousElementSibling.lastChild.style.border="none",T.target.previousElementSibling.style.border="none"}const m=f.map(T=>{const{category:R,id:A,imageUrl:k,name:$,price:M}=T;return y.jsxs("div",{id:A,className:"glass-item",children:[y.jsxs(Rt,{to:`/search/${A}`,state:{search:E.toString(),name:"search"},children:[y.jsx("figure",{children:y.jsx("img",{src:k,alt:"image not found"})}),y.jsxs("div",{className:"title-category",children:[y.jsx("p",{className:"img-title",children:$}),y.jsx("p",{className:"img-category",children:R}),y.jsx("p",{className:"price-category",children:M})]})]},A),y.jsxs("div",{className:"buttons",children:[y.jsx("button",{className:"add-to-basket",onClick:p,children:"Add to basket"}),y.jsx("button",{className:"remove-from-basket",onClick:v,children:"Remove from basket"})]})]},A)});return y.jsxs("div",{className:"search-container",children:[y.jsxs("div",{className:"search-representative",children:[y.jsx("p",{className:"after-search",style:{color:"purple"},children:!n&&"Search your favourite items"}),y.jsx("p",{className:"after-search",style:{color:"steelblue"},children:n&&e&&f.length>0&&`Found 1 product with keyword ${e}`}),y.jsx("p",{className:"after-search",style:{color:"tomato"},children:n&&f.length<=0&&`No products found for your keyword ${e}`})]}),y.jsx("div",{className:"search-items",children:n&&m})]})};function GP({request:e}){const t=localStorage.getItem("loggedin"),n=Bn();return t?y.jsx(C0,{}):y.jsx(I0,{to:"/login",state:{message:"You must log in first",from:n},replace:!0})}function XP(){const e=S0();return y.jsxs(y.Fragment,{children:[y.jsx("h1",{children:"An error Occured"}),y.jsxs("p",{children:["Error: ",e.message]}),y.jsxs("pre",{children:[e.statusText," - ",e.status]})]})}const YP=HS(Mh(y.jsxs(It,{path:"/",element:y.jsx(DP,{}),loader:NP,errorElement:y.jsx(XP,{}),children:[y.jsxs(It,{element:y.jsx(GP,{}),children:[y.jsx(It,{index:!0,element:y.jsx(FP,{}),loader:OP}),y.jsx(It,{path:"search",element:y.jsx(QP,{}),loader:WP}),y.jsx(It,{path:"search/:id",element:y.jsx(ja,{}),loader:Fa}),y.jsx(It,{path:"shop",element:y.jsx(UP,{}),loader:$P}),y.jsx(It,{path:"shop/:id",element:y.jsx(ja,{}),loader:Fa}),y.jsx(It,{path:"featured",element:y.jsx(BP,{}),loader:zP}),y.jsx(It,{path:"featured/:id",element:y.jsx(ja,{}),loader:Fa}),y.jsx(It,{path:"recommended",element:y.jsx(HP,{}),loader:bP}),y.jsx(It,{path:"recommended/:id",element:y.jsx(ja,{}),loader:Fa})]}),y.jsx(It,{path:"login",element:y.jsx(qP,{})}),y.jsx(It,{path:"*",element:y.jsx(KP,{})})]})));function JP(){return y.jsx(NT,{children:y.jsx(MS,{router:YP})})}Fc.createRoot(document.getElementById("root")).render(y.jsx(JP,{}));
